"use strict";(self.webpackChunktp_sala_de_juegos_lcardozo=self.webpackChunktp_sala_de_juegos_lcardozo||[]).push([[179],{2011:(Nt,He,G)=>{G.d(He,{Dh:()=>Ie,GT:()=>Ae,cc:()=>Ze,hO:()=>Ue,on:()=>ce,pX:()=>ye,xv:()=>Pe});var u=G(5e3),I=G(127),z=G(5813);Nt=G.hmd(Nt);const Ce=["ngOnDestroy"],ye=(et,Tt,bt,Ke={})=>new Proxy(et,{get:(Ye,Je)=>bt.runOutsideAngular(()=>{var Qe;if(et[Je])return(null===(Qe=null==Ke?void 0:Ke.spy)||void 0===Qe?void 0:Qe.get)&&Ke.spy.get(Je,et[Je]),et[Je];if(Ce.indexOf(Je)>-1)return()=>{};const vt=Tt.toPromise().then(be=>{const ie=be&&be[Je];return"function"==typeof ie?ie.bind(be):ie&&ie.then?ie.then(ue=>bt.run(()=>ue)):bt.run(()=>ie)});return new Proxy(()=>{},{get:(be,ie)=>vt[ie],apply:(be,ie,ue)=>vt.then(ve=>{var Oe;const it=ve&&ve(...ue);return(null===(Oe=null==Ke?void 0:Ke.spy)||void 0===Oe?void 0:Oe.apply)&&Ke.spy.apply(Je,ue,it),it})})})}),Ae=(et,Tt)=>{Tt.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(Ke=>{Object.defineProperty(et.prototype,Ke,Object.getOwnPropertyDescriptor(bt.prototype||bt,Ke))})})};class xe{constructor(Tt){return Tt}}const Ie=new u.OlP("angularfire2.app.options"),Pe=new u.OlP("angularfire2.app.name");function ce(et,Tt,bt){const Ye="object"==typeof bt&&bt||{};Ye.name=Ye.name||"string"==typeof bt&&bt||"[DEFAULT]";const Qe=I.Z.apps.filter(vt=>vt&&vt.name===Ye.name)[0]||Tt.runOutsideAngular(()=>I.Z.initializeApp(et,Ye));try{JSON.stringify(et)!==JSON.stringify(Qe.options)&&he("error",`${Qe.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new xe(Qe)}const he=(et,...Tt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[et](...Tt)},De={provide:xe,useFactory:ce,deps:[Ie,u.R0b,[new u.FiY,Pe]]};let Ue=(()=>{class et{constructor(bt){I.Z.registerVersion("angularfire",z.q4.full,"core"),I.Z.registerVersion("angularfire",z.q4.full,"app-compat"),I.Z.registerVersion("angular",u.q4F.full,bt.toString())}static initializeApp(bt,Ke){return{ngModule:et,providers:[{provide:Ie,useValue:bt},{provide:Pe,useValue:Ke}]}}}return et.\u0275fac=function(bt){return new(bt||et)(u.LFG(u.Lbi))},et.\u0275mod=u.oAB({type:et}),et.\u0275inj=u.cJS({providers:[De]}),et})();function Ze(et,Tt,bt,Ke,Ye){const[,Je,Qe]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===et)||[];if(Je)return function ot(et,Tt){try{return et.toString()===Tt.toString()}catch(bt){return et===Tt}}(Ye,Qe)||(je("error",`${Tt} was already initialized on the ${bt} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),je("warn",{is:Ye,was:Qe})),Je;{const vt=Ke();return globalThis.\u0275AngularfireInstanceCache.push([et,vt,Ye]),vt}}const ft=!!Nt.hot,je=(et,...Tt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[et](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Nt,He,G)=>{G.d(He,{q4:()=>Xu,iC:()=>xu,HU:()=>ou,vb:()=>ec,JM:()=>oo});var u=G(5e3),I=G(5867),z=G(5861),Ce=G(9681),ye=G(2090),Ae=G(4859),xe=G(1877);const Ie="@firebase/installations",he="w:0.5.7",De="FIS_v2",et=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(O){return O instanceof ye.ZR&&O.code.includes("request-failed")}function bt({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function Ke(O){return{token:O.token,requestStatus:2,expiresIn:ue(O.expiresIn),creationTime:Date.now()}}function Ye(O,V){return Je.apply(this,arguments)}function Je(){return(Je=(0,z.Z)(function*(O,V){const ae=(yield V.json()).error;return et.create("request-failed",{requestName:O,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function Qe({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function vt(O,{refreshToken:V}){const J=Qe(O);return J.append("Authorization",function ve(O){return`${De} ${O}`}(V)),J}function be(O){return ie.apply(this,arguments)}function ie(){return(ie=(0,z.Z)(function*(O){const V=yield O();return V.status>=500&&V.status<600?O():V})).apply(this,arguments)}function ue(O){return Number(O.replace("s","000"))}function Oe(O,V){return it.apply(this,arguments)}function it(){return(it=(0,z.Z)(function*({appConfig:O,heartbeatServiceProvider:V},{fid:J}){const ae=bt(O),Fe=Qe(O),ze=V.getImmediate({optional:!0});if(ze){const cn=yield ze.getHeartbeatsHeader();cn&&Fe.append("x-firebase-client",cn)}const $t={method:"POST",headers:Fe,body:JSON.stringify({fid:J,authVersion:De,appId:O.appId,sdkVersion:he})},Xt=yield be(()=>fetch(ae,$t));if(Xt.ok){const cn=yield Xt.json();return{fid:cn.fid||J,registrationStatus:2,refreshToken:cn.refreshToken,authToken:Ke(cn.authToken)}}throw yield Ye("Create Installation",Xt)})).apply(this,arguments)}function Ge(O){return new Promise(V=>{setTimeout(V,O)})}const _n=/^[cdef][\w-]{21}$/;function Mt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const J=function en(O){return function Gt(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return _n.test(J)?J:""}catch(O){return""}}function qt(O){return`${O.appName}!${O.appId}`}const Wt=new Map;function Ln(O,V){const J=qt(O);Pn(J,V),function un(O,V){const J=function ai(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=O=>{Pn(O.data.key,O.data.fid)}),Ur}();J&&J.postMessage({key:O,fid:V}),function ji(){0===Wt.size&&Ur&&(Ur.close(),Ur=null)}()}(J,V)}function Pn(O,V){const J=Wt.get(O);if(J)for(const ae of J)ae(V)}let Ur=null;const Nr="firebase-installations-store";let qn=null;function Mi(){return qn||(qn=(0,ye.X3)("firebase-installations-database",1,(O,V)=>{0===V&&O.createObjectStore(Nr)})),qn}function xt(O,V){return ri.apply(this,arguments)}function ri(){return(ri=(0,z.Z)(function*(O,V){const J=qt(O),Fe=(yield Mi()).transaction(Nr,"readwrite"),ze=Fe.objectStore(Nr),yt=yield ze.get(J);return yield ze.put(V,J),yield Fe.complete,(!yt||yt.fid!==V.fid)&&Ln(O,V.fid),V})).apply(this,arguments)}function tr(O){return Et.apply(this,arguments)}function Et(){return(Et=(0,z.Z)(function*(O){const V=qt(O),ae=(yield Mi()).transaction(Nr,"readwrite");yield ae.objectStore(Nr).delete(V),yield ae.complete})).apply(this,arguments)}function _r(O,V){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,z.Z)(function*(O,V){const J=qt(O),Fe=(yield Mi()).transaction(Nr,"readwrite"),ze=Fe.objectStore(Nr),yt=yield ze.get(J),$t=V(yt);return void 0===$t?yield ze.delete(J):yield ze.put($t,J),yield Fe.complete,$t&&(!yt||yt.fid!==$t.fid)&&Ln(O,$t.fid),$t})).apply(this,arguments)}function nr(O){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,z.Z)(function*(O){let V;const J=yield _r(O.appConfig,ae=>{const Fe=Mr(ae),ze=hr(O,Fe);return V=ze.registrationPromise,ze.installationEntry});return""===J.fid?{installationEntry:yield V}:{installationEntry:J,registrationPromise:V}})).apply(this,arguments)}function Mr(O){return Sn(O||{fid:Mt(),registrationStatus:0})}function hr(O,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(et.create("app-offline"))};const J={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},ae=function tn(O,V){return Ot.apply(this,arguments)}(O,J);return{installationEntry:J,registrationPromise:ae}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Ht(O)}:{installationEntry:V}}function Ot(){return(Ot=(0,z.Z)(function*(O,V){try{const J=yield Oe(O,V);return xt(O.appConfig,J)}catch(J){throw Tt(J)&&409===J.customData.serverCode?yield tr(O.appConfig):yield xt(O.appConfig,{fid:V.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Ht(O){return ar.apply(this,arguments)}function ar(){return(ar=(0,z.Z)(function*(O){let V=yield Ci(O.appConfig);for(;1===V.registrationStatus;)yield Ge(100),V=yield Ci(O.appConfig);if(0===V.registrationStatus){const{installationEntry:J,registrationPromise:ae}=yield nr(O);return ae||J}return V})).apply(this,arguments)}function Ci(O){return _r(O,V=>{if(!V)throw et.create("installation-not-found");return Sn(V)})}function Sn(O){return function rr(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Gn(O,V){return ii.apply(this,arguments)}function ii(){return(ii=(0,z.Z)(function*({appConfig:O,heartbeatServiceProvider:V},J){const ae=Qt(O,J),Fe=vt(O,J),ze=V.getImmediate({optional:!0});if(ze){const cn=yield ze.getHeartbeatsHeader();cn&&Fe.append("x-firebase-client",cn)}const $t={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:he,appId:O.appId}})},Xt=yield be(()=>fetch(ae,$t));if(Xt.ok)return Ke(yield Xt.json());throw yield Ye("Generate Auth Token",Xt)})).apply(this,arguments)}function Qt(O,{fid:V}){return`${bt(O)}/${V}/authTokens:generate`}function ui(O){return En.apply(this,arguments)}function En(){return(En=(0,z.Z)(function*(O,V=!1){let J;const ae=yield _r(O.appConfig,ze=>{if(!an(ze))throw et.create("not-registered");const yt=ze.authToken;if(!V&&pe(yt))return ze;if(1===yt.requestStatus)return J=Rt(O,V),ze;{if(!navigator.onLine)throw et.create("app-offline");const $t=Ee(ze);return J=Zt(O,$t),$t}});return J?yield J:ae.authToken})).apply(this,arguments)}function Rt(O,V){return dt.apply(this,arguments)}function dt(){return(dt=(0,z.Z)(function*(O,V){let J=yield Lt(O.appConfig);for(;1===J.authToken.requestStatus;)yield Ge(100),J=yield Lt(O.appConfig);const ae=J.authToken;return 0===ae.requestStatus?ui(O,V):ae})).apply(this,arguments)}function Lt(O){return _r(O,V=>{if(!an(V))throw et.create("not-registered");return function $e(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function Zt(O,V){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,z.Z)(function*(O,V){try{const J=yield Gn(O,V),ae=Object.assign(Object.assign({},V),{authToken:J});return yield xt(O.appConfig,ae),J}catch(J){if(!Tt(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const ae=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield xt(O.appConfig,ae)}else yield tr(O.appConfig);throw J}})).apply(this,arguments)}function an(O){return void 0!==O&&2===O.registrationStatus}function pe(O){return 2===O.requestStatus&&!function te(O){const V=Date.now();return V<O.creationTime||O.creationTime+O.expiresIn<V+36e5}(O)}function Ee(O){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:V})}function _t(){return(_t=(0,z.Z)(function*(O){const V=O,{installationEntry:J,registrationPromise:ae}=yield nr(V);return ae?ae.catch(console.error):ui(V).catch(console.error),J.fid})).apply(this,arguments)}function hn(){return(hn=(0,z.Z)(function*(O,V=!1){const J=O;return yield lr(J),(yield ui(J,V)).token})).apply(this,arguments)}function lr(O){return gn.apply(this,arguments)}function gn(){return(gn=(0,z.Z)(function*(O){const{registrationPromise:V}=yield nr(O);V&&(yield V)})).apply(this,arguments)}function Qn(O){return et.create("missing-app-config-values",{valueName:O})}const Zr="installations",at=O=>{const V=O.getProvider("app").getImmediate(),J=function ur(O){if(!O||!O.options)throw Qn("App Configuration");if(!O.name)throw Qn("App Name");const V=["projectId","apiKey","appId"];for(const J of V)if(!O.options[J])throw Qn(J);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(V);return{app:V,appConfig:J,heartbeatServiceProvider:(0,Ce._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},jt=O=>{const V=O.getProvider("app").getImmediate(),J=(0,Ce._getProvider)(V,Zr).getImmediate();return{getId:()=>function Re(O){return _t.apply(this,arguments)}(J),getToken:Fe=>function zt(O){return hn.apply(this,arguments)}(J,Fe)}};(function Cn(){(0,Ce._registerComponent)(new Ae.wA(Zr,at,"PUBLIC")),(0,Ce._registerComponent)(new Ae.wA("installations-internal",jt,"PRIVATE"))})(),(0,Ce.registerVersion)(Ie,"0.5.7"),(0,Ce.registerVersion)(Ie,"0.5.7","esm2017");const yr="@firebase/remote-config",fr=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mo{constructor(V,J,ae,Fe){this.client=V,this.storage=J,this.storageCache=ae,this.logger=Fe}isCachedDataFresh(V,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-J,Fe=ae<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Fe}.`),Fe}fetch(V){var J=this;return(0,z.Z)(function*(){const[ae,Fe]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Fe&&J.isCachedDataFresh(V.cacheMaxAgeMillis,ae))return Fe;V.eTag=Fe&&Fe.eTag;const ze=yield J.client.fetch(V),yt=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ze.status&&yt.push(J.storage.setLastSuccessfulFetchResponse(ze)),yield Promise.all(yt),ze})()}}function Ms(O=navigator){return O.languages&&O.languages[0]||O.language}class Hi{constructor(V,J,ae,Fe,ze,yt){this.firebaseInstallations=V,this.sdkVersion=J,this.namespace=ae,this.projectId=Fe,this.apiKey=ze,this.appId=yt}fetch(V){var J=this;return(0,z.Z)(function*(){const[ae,Fe]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,$t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Xt={sdk_version:J.sdkVersion,app_instance_id:ae,app_instance_id_token:Fe,app_id:J.appId,language_code:Ms()},cn={method:"POST",headers:$t,body:JSON.stringify(Xt)},ir=fetch(yt,cn),In=new Promise((is,ti)=>{V.signal.addEventListener(()=>{const Ha=new Error("The operation was aborted.");Ha.name="AbortError",ti(Ha)})});let Wn;try{yield Promise.race([ir,In]),Wn=yield ir}catch(is){let ti="fetch-client-network";throw"AbortError"===is.name&&(ti="fetch-timeout"),fr.create(ti,{originalErrorMessage:is.message})}let ei=Wn.status;const kl=Wn.headers.get("ETag")||void 0;let Ga,uo;if(200===Wn.status){let is;try{is=yield Wn.json()}catch(ti){throw fr.create("fetch-client-parse",{originalErrorMessage:ti.message})}Ga=is.entries,uo=is.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?ei=500:"NO_CHANGE"===uo?ei=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(Ga={}),304!==ei&&200!==ei)throw fr.create("fetch-status",{httpStatus:ei});return{status:ei,eTag:kl,config:Ga}})()}}class ga{constructor(V,J){this.client=V,this.storage=J}fetch(V){var J=this;return(0,z.Z)(function*(){const ae=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(V,ae)})()}attemptFetch(V,{throttleEndTimeMillis:J,backoffCount:ae}){var Fe=this;return(0,z.Z)(function*(){yield function Or(O,V){return new Promise((J,ae)=>{const Fe=Math.max(V-Date.now(),0),ze=setTimeout(J,Fe);O.addEventListener(()=>{clearTimeout(ze),ae(fr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,J);try{const ze=yield Fe.client.fetch(V);return yield Fe.storage.deleteThrottleMetadata(),ze}catch(ze){if(!function Os(O){if(!(O instanceof ye.ZR&&O.customData))return!1;const V=Number(O.customData.httpStatus);return 429===V||500===V||503===V||504===V}(ze))throw ze;const yt={throttleEndTimeMillis:Date.now()+(0,ye.$s)(ae),backoffCount:ae+1};return yield Fe.storage.setThrottleMetadata(yt),Fe.attemptFetch(V,yt)}})()}}class gi{constructor(V,J,ae,Fe,ze){this.app=V,this._client=J,this._storageCache=ae,this._storage=Fe,this._logger=ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ea(O,V){const J=O.target.error||void 0;return fr.create(V,{originalErrorMessage:J&&J.message})}const Pi="app_namespace_store";class Oo{constructor(V,J,ae,Fe=function na(){return new Promise((O,V)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ae=>{V(ea(ae,"storage-open"))},J.onsuccess=ae=>{O(ae.target.result)},J.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(Pi,{keyPath:"compositeKey"})}}catch(J){V(fr.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=V,this.appName=J,this.namespace=ae,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var J=this;return(0,z.Z)(function*(){const ae=yield J.openDbPromise;return new Promise((Fe,ze)=>{const $t=ae.transaction([Pi],"readonly").objectStore(Pi),Xt=J.createCompositeKey(V);try{const cn=$t.get(Xt);cn.onerror=ir=>{ze(ea(ir,"storage-get"))},cn.onsuccess=ir=>{const In=ir.target.result;Fe(In?In.value:void 0)}}catch(cn){ze(fr.create("storage-get",{originalErrorMessage:cn&&cn.message}))}})})()}set(V,J){var ae=this;return(0,z.Z)(function*(){const Fe=yield ae.openDbPromise;return new Promise((ze,yt)=>{const Xt=Fe.transaction([Pi],"readwrite").objectStore(Pi),cn=ae.createCompositeKey(V);try{const ir=Xt.put({compositeKey:cn,value:J});ir.onerror=In=>{yt(ea(In,"storage-set"))},ir.onsuccess=()=>{ze()}}catch(ir){yt(fr.create("storage-set",{originalErrorMessage:ir&&ir.message}))}})})()}delete(V){var J=this;return(0,z.Z)(function*(){const ae=yield J.openDbPromise;return new Promise((Fe,ze)=>{const $t=ae.transaction([Pi],"readwrite").objectStore(Pi),Xt=J.createCompositeKey(V);try{const cn=$t.delete(Xt);cn.onerror=ir=>{ze(ea(ir,"storage-delete"))},cn.onsuccess=()=>{Fe()}}catch(cn){ze(fr.create("storage-delete",{originalErrorMessage:cn&&cn.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Xs{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,z.Z)(function*(){const J=V.storage.getLastFetchStatus(),ae=V.storage.getLastSuccessfulFetchTimestampMillis(),Fe=V.storage.getActiveConfig(),ze=yield J;ze&&(V.lastFetchStatus=ze);const yt=yield ae;yt&&(V.lastSuccessfulFetchTimestampMillis=yt);const $t=yield Fe;$t&&(V.activeConfig=$t)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Qi(){return eo.apply(this,arguments)}function eo(){return(eo=(0,z.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(O){return!1}})).apply(this,arguments)}!function Ji(){(0,Ce._registerComponent)(new Ae.wA("remote-config",function O(V,{instanceIdentifier:J}){const ae=V.getProvider("app").getImmediate(),Fe=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fr.create("registration-window");if(!(0,ye.hl)())throw fr.create("indexed-db-unavailable");const{projectId:ze,apiKey:yt,appId:$t}=ae.options;if(!ze)throw fr.create("registration-project-id");if(!yt)throw fr.create("registration-api-key");if(!$t)throw fr.create("registration-app-id");const Xt=new Oo($t,ae.name,J=J||"firebase"),cn=new Xs(Xt),ir=new xe.Yd(yr);ir.logLevel=xe.in.ERROR;const In=new Hi(Fe,Ce.SDK_VERSION,J,ze,yt,$t),Wn=new ga(In,Xt),ei=new mo(Wn,Xt,cn,ir),kl=new gi(ae,ei,cn,Xt,ir);return function X(O){const V=(0,ye.m9)(O);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(kl),kl},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(yr,"0.3.6"),(0,Ce.registerVersion)(yr,"0.3.6","esm2017")}();const mi="/firebase-messaging-sw.js",bs="/firebase-cloud-messaging-push-scope",Fr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xi="google.c.a.c_id",xs="google.c.a.c_l",ra="google.c.a.ts",to="google.c.a.e";var ws=(()=>{return(O=ws||(ws={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",ws;var O})();function Hr(O){const V=new Uint8Array(O);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bs(O){const J=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(J),Fe=new Uint8Array(ae.length);for(let ze=0;ze<ae.length;++ze)Fe[ze]=ae.charCodeAt(ze);return Fe}const Rs="fcm_token_details_db",Lr="fcm_token_object_Store";function _o(O){return xo.apply(this,arguments)}function xo(){return xo=(0,z.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ze=>ze.name).includes(Rs))return null;let V=null;return(yield(0,ye.X3)(Rs,5,function(){var ae=(0,z.Z)(function*(Fe,ze,yt,$t){var Xt;if(ze<2||!Fe.objectStoreNames.contains(Lr))return;const cn=$t.objectStore(Lr),ir=yield cn.index("fcmSenderId").get(O);if(yield cn.clear(),ir)if(2===ze){const In=ir;if(!In.auth||!In.p256dh||!In.endpoint)return;V={token:In.fcmToken,createTime:null!==(Xt=In.createTime)&&void 0!==Xt?Xt:Date.now(),subscriptionOptions:{auth:In.auth,p256dh:In.p256dh,endpoint:In.endpoint,swScope:In.swScope,vapidKey:"string"==typeof In.vapidKey?In.vapidKey:Hr(In.vapidKey)}}}else if(3===ze){const In=ir;V={token:In.fcmToken,createTime:In.createTime,subscriptionOptions:{auth:Hr(In.auth),p256dh:Hr(In.p256dh),endpoint:In.endpoint,swScope:In.swScope,vapidKey:Hr(In.vapidKey)}}}else if(4===ze){const In=ir;V={token:In.fcmToken,createTime:In.createTime,subscriptionOptions:{auth:Hr(In.auth),p256dh:Hr(In.p256dh),endpoint:In.endpoint,swScope:In.swScope,vapidKey:Hr(In.vapidKey)}}}});return function(Fe,ze,yt,$t){return ae.apply(this,arguments)}}())).close(),yield(0,ye.Lj)(Rs),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),Us(V)?V:null}),xo.apply(this,arguments)}function Us(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:V}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const Cr="firebase-messaging-store";let Es=null;function Gs(){return Es||(Es=(0,ye.X3)("firebase-messaging-database",1,(O,V)=>{0===V&&O.createObjectStore(Cr)})),Es}function Hn(O){return F.apply(this,arguments)}function F(){return(F=(0,z.Z)(function*(O){const V=Be(O),ae=yield(yield Gs()).transaction(Cr).objectStore(Cr).get(V);if(ae)return ae;{const Fe=yield _o(O.appConfig.senderId);if(Fe)return yield Y(O,Fe),Fe}})).apply(this,arguments)}function Y(O,V){return L.apply(this,arguments)}function L(){return(L=(0,z.Z)(function*(O,V){const J=Be(O),Fe=(yield Gs()).transaction(Cr,"readwrite");return yield Fe.objectStore(Cr).put(V,J),yield Fe.complete,V})).apply(this,arguments)}function Q(O){return me.apply(this,arguments)}function me(){return(me=(0,z.Z)(function*(O){const V=Be(O),ae=(yield Gs()).transaction(Cr,"readwrite");yield ae.objectStore(Cr).delete(V),yield ae.complete})).apply(this,arguments)}function Be({appConfig:O}){return O.appId}const Dt=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kn(O,V){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,z.Z)(function*(O,V){const J=yield Cs(O),ae=Yt(V),Fe={method:"POST",headers:J,body:JSON.stringify(ae)};let ze;try{ze=yield(yield fetch(br(O.appConfig),Fe)).json()}catch(yt){throw Dt.create("token-subscribe-failed",{errorInfo:yt})}if(ze.error)throw Dt.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw Dt.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function yn(O,V){return An.apply(this,arguments)}function An(){return(An=(0,z.Z)(function*(O,V){const J=yield Cs(O),ae=Yt(V.subscriptionOptions),Fe={method:"PATCH",headers:J,body:JSON.stringify(ae)};let ze;try{ze=yield(yield fetch(`${br(O.appConfig)}/${V.token}`,Fe)).json()}catch(yt){throw Dt.create("token-update-failed",{errorInfo:yt})}if(ze.error)throw Dt.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw Dt.create("token-update-no-token");return ze.token})).apply(this,arguments)}function xr(O,V){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,z.Z)(function*(O,V){const ae={method:"DELETE",headers:yield Cs(O)};try{const ze=yield(yield fetch(`${br(O.appConfig)}/${V}`,ae)).json();if(ze.error)throw Dt.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(Fe){throw Dt.create("token-unsubscribe-failed",{errorInfo:Fe})}})).apply(this,arguments)}function br({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function Cs(O){return Li.apply(this,arguments)}function Li(){return(Li=(0,z.Z)(function*({appConfig:O,installations:V}){const J=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function Yt({p256dh:O,auth:V,endpoint:J,vapidKey:ae}){const Fe={web:{endpoint:J,auth:V,p256dh:O}};return ae!==Fr&&(Fe.web.applicationPubKey=ae),Fe}const Si=6048e5;function Ro(O){return Po.apply(this,arguments)}function Po(){return(Po=(0,z.Z)(function*(O){const V=yield Bt(O.swRegistration,O.vapidKey),J={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:V.endpoint,auth:Hr(V.getKey("auth")),p256dh:Hr(V.getKey("p256dh"))},ae=yield Hn(O.firebaseDependencies);if(ae){if(ki(ae.subscriptionOptions,J))return Date.now()>=ae.createTime+Si?R(O,{token:ae.token,createTime:Date.now(),subscriptionOptions:J}):ae.token;try{yield xr(O.firebaseDependencies,ae.token)}catch(Fe){console.warn(Fe)}return $(O.firebaseDependencies,J)}return $(O.firebaseDependencies,J)})).apply(this,arguments)}function Ps(O){return U.apply(this,arguments)}function U(){return(U=(0,z.Z)(function*(O){const V=yield Hn(O.firebaseDependencies);V&&(yield xr(O.firebaseDependencies,V.token),yield Q(O.firebaseDependencies));const J=yield O.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function R(O,V){return x.apply(this,arguments)}function x(){return(x=(0,z.Z)(function*(O,V){try{const J=yield yn(O.firebaseDependencies,V),ae=Object.assign(Object.assign({},V),{token:J,createTime:Date.now()});return yield Y(O.firebaseDependencies,ae),J}catch(J){throw yield Ps(O),J}})).apply(this,arguments)}function $(O,V){return Le.apply(this,arguments)}function Le(){return(Le=(0,z.Z)(function*(O,V){const ae={token:yield kn(O,V),createTime:Date.now(),subscriptionOptions:V};return yield Y(O,ae),ae.token})).apply(this,arguments)}function Bt(O,V){return vn.apply(this,arguments)}function vn(){return(vn=(0,z.Z)(function*(O,V){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bs(V)})})).apply(this,arguments)}function ki(O,V){return V.vapidKey===O.vapidKey&&V.endpoint===O.endpoint&&V.auth===O.auth&&V.p256dh===O.p256dh}function $i(O){const V={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function _i(O,V){if(!V.notification)return;O.notification={};const J=V.notification.title;J&&(O.notification.title=J);const ae=V.notification.body;ae&&(O.notification.body=ae);const Fe=V.notification.image;Fe&&(O.notification.image=Fe)}(V,O),function yo(O,V){!V.data||(O.data=V.data)}(V,O),function vo(O,V){if(!V.fcmOptions)return;O.fcmOptions={};const J=V.fcmOptions.link;J&&(O.fcmOptions.link=J);const ae=V.fcmOptions.analytics_label;ae&&(O.fcmOptions.analyticsLabel=ae)}(V,O),V}function Ka(O){return"object"==typeof O&&!!O&&Xi in O}function eu(O,V){const J=[];for(let ae=0;ae<O.length;ae++)J.push(O.charAt(ae)),ae<V.length&&J.push(V.charAt(ae));return J.join("")}function Hs(O){return Dt.create("missing-app-config-values",{valueName:O})}eu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),eu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ai{constructor(V,J,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function Ra(O){if(!O||!O.options)throw Hs("App Configuration Object");if(!O.name)throw Hs("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:J}=O;for(const ae of V)if(!J[ae])throw Hs(ae);return{appName:O.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Fe,installations:J,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function ts(O){return _a.apply(this,arguments)}function _a(){return(_a=(0,z.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(mi,{scope:bs}),O.swRegistration.update().catch(()=>{})}catch(V){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function bo(O,V){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,z.Z)(function*(O,V){if(!V&&!O.swRegistration&&(yield ts(O)),V||!O.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");O.swRegistration=V}})).apply(this,arguments)}function ya(O,V){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,z.Z)(function*(O,V){V?O.vapidKey=V:O.vapidKey||(O.vapidKey=Fr)})).apply(this,arguments)}function ka(){return(ka=(0,z.Z)(function*(O,V){if(!navigator)throw Dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dt.create("permission-blocked");return yield ya(O,null==V?void 0:V.vapidKey),yield bo(O,null==V?void 0:V.serviceWorkerRegistration),Ro(O)})).apply(this,arguments)}function va(O,V,J){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,z.Z)(function*(O,V,J){const ae=Ya(V);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:J[Xi],message_name:J[xs],message_time:J[ra],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ya(O){switch(O){case ws.NOTIFICATION_CLICKED:return"notification_open";case ws.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ja(){return(Ja=(0,z.Z)(function*(O,V){const J=V.data;if(!J.isFirebaseMessaging)return;O.onMessageHandler&&J.messageType===ws.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler($i(J)):O.onMessageHandler.next($i(J)));const ae=J.data;Ka(ae)&&"1"===ae[to]&&(yield va(O,J.messageType,ae))})).apply(this,arguments)}const ko="@firebase/messaging",ia=O=>{const V=new Ai(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function El(O,V){return Ja.apply(this,arguments)}(V,J)),V},Lo=O=>{const V=O.getProvider("messaging").getImmediate();return{getToken:ae=>function Wr(O,V){return ka.apply(this,arguments)}(V,ae)}};function Qa(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,z.Z)(function*(){try{yield(0,ye.eu)()}catch(O){return!1}return"undefined"!=typeof window&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $s(){(0,Ce._registerComponent)(new Ae.wA("messaging",ia,"PUBLIC")),(0,Ce._registerComponent)(new Ae.wA("messaging-internal",Lo,"PRIVATE")),(0,Ce.registerVersion)(ko,"0.9.11"),(0,Ce.registerVersion)(ko,"0.9.11","esm2017")}();const ns="analytics",Mu="firebase_id",Uo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ws="https://www.googletagmanager.com/gtag/js",yi=new xe.Yd("@firebase/analytics");function Cl(O){return Promise.all(O.map(V=>V.catch(J=>J)))}function Va(O,V){const J=document.createElement("script");J.src=`${Ws}?l=${O}&id=${V}`,J.async=!0,document.head.appendChild(J)}function jo(O,V,J,ae,Fe,ze){return Do.apply(this,arguments)}function Do(){return(Do=(0,z.Z)(function*(O,V,J,ae,Fe,ze){const yt=ae[Fe];try{if(yt)yield V[yt];else{const Xt=(yield Cl(J)).find(cn=>cn.measurementId===Fe);Xt&&(yield V[Xt.appId])}}catch($t){yi.error($t)}O("config",Fe,ze)})).apply(this,arguments)}function aa(O,V,J,ae,Fe){return Go.apply(this,arguments)}function Go(){return(Go=(0,z.Z)(function*(O,V,J,ae,Fe){try{let ze=[];if(Fe&&Fe.send_to){let yt=Fe.send_to;Array.isArray(yt)||(yt=[yt]);const $t=yield Cl(J);for(const Xt of yt){const cn=$t.find(In=>In.measurementId===Xt),ir=cn&&V[cn.appId];if(!ir){ze=[];break}ze.push(ir)}}0===ze.length&&(ze=Object.values(V)),yield Promise.all(ze),O("event",ae,Fe||{})}catch(ze){yi.error(ze)}})).apply(this,arguments)}function el(){const O=window.document.getElementsByTagName("script");for(const V of Object.values(O))if(V.src&&V.src.includes(Ws))return V;return null}const qi=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ba=new class tu{constructor(V={},J=1e3){this.throttleMetadata=V,this.intervalMillis=J}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,J){this.throttleMetadata[V]=J}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Ho(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function Ou(O){return pr.apply(this,arguments)}function pr(){return(pr=(0,z.Z)(function*(O){var V;const{appId:J,apiKey:ae}=O,Fe={method:"GET",headers:Ho(ae)},ze=Uo.replace("{app-id}",J),yt=yield fetch(ze,Fe);if(200!==yt.status&&304!==yt.status){let $t="";try{const Xt=yield yt.json();(null===(V=Xt.error)||void 0===V?void 0:V.message)&&($t=Xt.error.message)}catch(Xt){}throw qi.create("config-fetch-failed",{httpStatus:yt.status,responseMessage:$t})}return yt.json()})).apply(this,arguments)}function Il(O){return no.apply(this,arguments)}function no(){return(no=(0,z.Z)(function*(O,V=ba,J){const{appId:ae,apiKey:Fe,measurementId:ze}=O.options;if(!ae)throw qi.create("no-app-id");if(!Fe){if(ze)return{measurementId:ze,appId:ae};throw qi.create("no-api-key")}const yt=V.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$t=new N;return setTimeout((0,z.Z)(function*(){$t.abort()}),void 0!==J?J:6e4),$o({appId:ae,apiKey:Fe,measurementId:ze},yt,$t,V)})).apply(this,arguments)}function $o(O,V,J){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,z.Z)(function*(O,{throttleEndTimeMillis:V,backoffCount:J},ae,Fe=ba){const{appId:ze,measurementId:yt}=O;try{yield Sl(ae,V)}catch($t){if(yt)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${$t.message}]`),{appId:ze,measurementId:yt};throw $t}try{const $t=yield Ou(O);return Fe.deleteThrottleMetadata(ze),$t}catch($t){if(!Qr($t)){if(Fe.deleteThrottleMetadata(ze),yt)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${$t.message}]`),{appId:ze,measurementId:yt};throw $t}const Xt=503===Number($t.customData.httpStatus)?(0,ye.$s)(J,Fe.intervalMillis,30):(0,ye.$s)(J,Fe.intervalMillis),cn={throttleEndTimeMillis:Date.now()+Xt,backoffCount:J+1};return Fe.setThrottleMetadata(ze,cn),yi.debug(`Calling attemptFetch again in ${Xt} millis`),$o(O,cn,ae,Fe)}})).apply(this,arguments)}function Sl(O,V){return new Promise((J,ae)=>{const Fe=Math.max(V-Date.now(),0),ze=setTimeout(J,Fe);O.addEventListener(()=>{clearTimeout(ze),ae(qi.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Qr(O){if(!(O instanceof ye.ZR&&O.customData))return!1;const V=Number(O.customData.httpStatus);return 429===V||500===V||503===V||504===V}class N{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function C(){return w.apply(this,arguments)}function w(){return(w=(0,z.Z)(function*(){if(!(0,ye.hl)())return yi.warn(qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(O){return yi.warn(qi.create("indexeddb-unavailable",{errorInfo:O}).message),!1}return!0})).apply(this,arguments)}function P(){return(P=(0,z.Z)(function*(O,V,J,ae,Fe,ze,yt){var $t;const Xt=Il(O);Xt.then(ei=>{J[ei.measurementId]=ei.appId,O.options.measurementId&&ei.measurementId!==O.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${ei.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ei=>yi.error(ei)),V.push(Xt);const cn=C().then(ei=>{if(ei)return ae.getId()}),[ir,In]=yield Promise.all([Xt,cn]);el()||Va(ze,ir.measurementId),Fe("js",new Date);const Wn=null!==($t=null==yt?void 0:yt.config)&&void 0!==$t?$t:{};return Wn.origin="firebase",Wn.update=!0,null!=In&&(Wn[Mu]=In),Fe("config",ir.measurementId,Wn),ir.measurementId})).apply(this,arguments)}class Z{constructor(V){this.app=V}_delete(){return delete se[this.app.options.appId],Promise.resolve()}}let se={},ge=[];const Me={};let nt,ke,ut="dataLayer",We=!1;function Ss(O,V,J){!function ro(){const O=[];if((0,ye.ru)()&&O.push("This is a browser extension environment."),(0,ye.zI)()||O.push("Cookies are not available."),O.length>0){const V=O.map((ae,Fe)=>`(${Fe+1}) ${ae}`).join(" "),J=qi.create("invalid-analytics-context",{errorInfo:V});yi.warn(J.message)}}();const ae=O.options.appId;if(!ae)throw qi.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw qi.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=se[ae])throw qi.create("already-exists",{id:ae});if(!We){!function zs(O){let V=[];Array.isArray(window[O])?V=window[O]:window[O]=V}(ut);const{wrappedGtag:ze,gtagCore:yt}=function Tl(O,V,J,ae,Fe){let ze=function(...yt){window[ae].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(ze=window[Fe]),window[Fe]=function wo(O,V,J,ae){function ze(){return(ze=(0,z.Z)(function*(yt,$t,Xt){try{"event"===yt?yield aa(O,V,J,$t,Xt):"config"===yt?yield jo(O,V,J,ae,$t,Xt):O("set",$t)}catch(cn){yi.error(cn)}})).apply(this,arguments)}return function Fe(yt,$t,Xt){return ze.apply(this,arguments)}}(ze,O,V,J),{gtagCore:ze,wrappedGtag:window[Fe]}}(se,ge,Me,ut,"gtag");ke=ze,nt=yt,We=!0}return se[ae]=function k(O,V,J,ae,Fe,ze,yt){return P.apply(this,arguments)}(O,ge,Me,V,nt,ut,J),new Z(O)}function Wo(){return(Wo=(0,z.Z)(function*(O,V,J,ae,Fe){if(Fe&&Fe.global)O("event",J,ae);else{const ze=yield V;O("event",J,Object.assign(Object.assign({},ae),{send_to:ze}))}})).apply(this,arguments)}function nl(){return fi.apply(this,arguments)}function fi(){return(fi=(0,z.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(O){return!1}})).apply(this,arguments)}const Kn="@firebase/analytics";!function fs(){(0,Ce._registerComponent)(new Ae.wA(ns,(V,{options:J})=>Ss(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,Ce._registerComponent)(new Ae.wA("analytics-internal",function O(V){try{const J=V.getProvider(ns).getImmediate();return{logEvent:(ae,Fe,ze)=>function iu(O,V,J,ae){O=(0,ye.m9)(O),function Da(O,V,J,ae,Fe){return Wo.apply(this,arguments)}(ke,se[O.app.options.appId],V,J,ae).catch(Fe=>yi.error(Fe))}(J,ae,Fe,ze)}}catch(J){throw qi.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,Ce.registerVersion)(Kn,"0.7.7"),(0,Ce.registerVersion)(Kn,"0.7.7","esm2017")}();var rl=G(4408),Bi=G(7565);const Ks=new class Xr extends Bi.v{}(class ks extends rl.o{constructor(V,J){super(V,J),this.scheduler=V,this.work=J}schedule(V,J=0){return J>0?super.schedule(V,J):(this.delay=J,this.state=V,this.scheduler.flush(this),this)}execute(V,J){return J>0||this.closed?super.execute(V,J):this._execute(V,J)}requestAsyncId(V,J,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(V,J,ae):V.flush(this)}});var il=G(4986),Nl=G(8505),ps=G(9468),rs=G(5363);const Xu=new u.GfV("7.3.0"),bi="__angularfire_symbol__analyticsIsSupportedValue",gs="__angularfire_symbol__analyticsIsSupported",As="__angularfire_symbol__remoteConfigIsSupportedValue",Ml="__angularfire_symbol__remoteConfigIsSupported",Ct="__angularfire_symbol__messagingIsSupportedValue",su="__angularfire_symbol__messagingIsSupported";function oo(O,V,J){if(V){if(1===V.length)return V[0];const ze=V.filter(yt=>yt.app===J);if(1===ze.length)return ze[0]}return J.container.getProvider(O).getImmediate({optional:!0})}globalThis[gs]||(globalThis[gs]=nl().then(O=>globalThis[bi]=O).catch(()=>globalThis[bi]=!1)),globalThis[su]||(globalThis[su]=Qa().then(O=>globalThis[Ct]=O).catch(()=>globalThis[Ct]=!1)),globalThis[Ml]||(globalThis[Ml]=Qi().then(O=>globalThis[As]=O).catch(()=>globalThis[As]=!1));const ec=(O,V)=>{const J=V?[V]:(0,I.C6)(),ae=[];return J.forEach(Fe=>{Fe.container.getProvider(O).instances.forEach(yt=>{ae.includes(yt)||ae.push(yt)})}),ae};function Eo(){}class Ol{constructor(V,J=Ks){this.zone=V,this.delegate=J}now(){return this.delegate.now()}schedule(V,J,ae){const Fe=this.zone;return this.delegate.schedule(function(yt){Fe.runGuarded(()=>{V.apply(this,[yt])})},J,ae)}}class xl{constructor(V){this.zone=V,this.task=null}call(V,J){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),J.pipe((0,Nl.b)({next:ae,complete:ae,error:ae})).subscribe(V).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ou=(()=>{class O{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Ol(Zone.current)),this.insideAngular=J.run(()=>new Ol(Zone.current,il.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(J){return new(J||O)(u.LFG(u.R0b))},O.\u0275prov=u.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ao(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function xu(O){return ao(),function ja(O){return function(J){return(J=J.lift(new xl(O.ngZone))).pipe((0,ps.R)(O.outsideAngular),(0,rs.Q)(O.insideAngular))}}(ao())(O)}},2090:(Nt,He,G)=>{G.d(He,{$s:()=>rr,BH:()=>Ze,G6:()=>be,L:()=>Pe,LL:()=>Gt,Lj:()=>Kt,Mn:()=>Qe,Sg:()=>ot,UG:()=>et,US:()=>xe,X3:()=>Zt,ZB:()=>De,ZR:()=>Ge,b$:()=>Ke,d:()=>Ye,eu:()=>ue,hl:()=>ie,jU:()=>Tt,m9:()=>Qt,ne:()=>xt,pd:()=>qn,r3:()=>Pn,ru:()=>bt,tV:()=>ce,uI:()=>je,vZ:()=>ji,w1:()=>Je,xO:()=>li,xb:()=>Ur,z$:()=>ft,zI:()=>ve,zd:()=>Nr});var u=G(5861);const ye=function(pe){const te=[];let Ee=0;for(let $e=0;$e<pe.length;$e++){let Re=pe.charCodeAt($e);Re<128?te[Ee++]=Re:Re<2048?(te[Ee++]=Re>>6|192,te[Ee++]=63&Re|128):55296==(64512&Re)&&$e+1<pe.length&&56320==(64512&pe.charCodeAt($e+1))?(Re=65536+((1023&Re)<<10)+(1023&pe.charCodeAt(++$e)),te[Ee++]=Re>>18|240,te[Ee++]=Re>>12&63|128,te[Ee++]=Re>>6&63|128,te[Ee++]=63&Re|128):(te[Ee++]=Re>>12|224,te[Ee++]=Re>>6&63|128,te[Ee++]=63&Re|128)}return te},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,te){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ee=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[];for(let Re=0;Re<pe.length;Re+=3){const _t=pe[Re],zt=Re+1<pe.length,hn=zt?pe[Re+1]:0,lr=Re+2<pe.length,gn=lr?pe[Re+2]:0;let On=(15&hn)<<2|gn>>6,Zn=63&gn;lr||(Zn=64,zt||(On=64)),$e.push(Ee[_t>>2],Ee[(3&_t)<<4|hn>>4],Ee[On],Ee[Zn])}return $e.join("")},encodeString(pe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(pe):this.encodeByteArray(ye(pe),te)},decodeString(pe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(pe):function(pe){const te=[];let Ee=0,$e=0;for(;Ee<pe.length;){const Re=pe[Ee++];if(Re<128)te[$e++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const _t=pe[Ee++];te[$e++]=String.fromCharCode((31&Re)<<6|63&_t)}else if(Re>239&&Re<365){const lr=((7&Re)<<18|(63&pe[Ee++])<<12|(63&pe[Ee++])<<6|63&pe[Ee++])-65536;te[$e++]=String.fromCharCode(55296+(lr>>10)),te[$e++]=String.fromCharCode(56320+(1023&lr))}else{const _t=pe[Ee++],zt=pe[Ee++];te[$e++]=String.fromCharCode((15&Re)<<12|(63&_t)<<6|63&zt)}}return te.join("")}(this.decodeStringToByteArray(pe,te))},decodeStringToByteArray(pe,te){this.init_();const Ee=te?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[];for(let Re=0;Re<pe.length;){const _t=Ee[pe.charAt(Re++)],hn=Re<pe.length?Ee[pe.charAt(Re)]:0;++Re;const gn=Re<pe.length?Ee[pe.charAt(Re)]:64;++Re;const ln=Re<pe.length?Ee[pe.charAt(Re)]:64;if(++Re,null==_t||null==hn||null==gn||null==ln)throw Error();$e.push(_t<<2|hn>>4),64!==gn&&($e.push(hn<<4&240|gn>>2),64!==ln&&$e.push(gn<<6&192|ln))}return $e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},Pe=function(pe){return function(pe){const te=ye(pe);return xe.encodeByteArray(te,!0)}(pe).replace(/\./g,"")},ce=function(pe){try{return xe.decodeString(pe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function De(pe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return te}for(const Ee in te)!te.hasOwnProperty(Ee)||!Ue(Ee)||(pe[Ee]=De(pe[Ee],te[Ee]));return pe}function Ue(pe){return"__proto__"!==pe}class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,Ee)=>{this.resolve=te,this.reject=Ee})}wrapCallback(te){return(Ee,$e)=>{Ee?this.reject(Ee):this.resolve($e),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(Ee):te(Ee,$e))}}}function ot(pe,te){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $e=te||"demo-project",Re=pe.iat||0,_t=pe.sub||pe.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const zt=Object.assign({iss:`https://securetoken.google.com/${$e}`,aud:$e,iat:Re,exp:Re+3600,auth_time:Re,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(zt)),""].join(".")}function ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function et(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pe){return!1}}function Tt(){return"object"==typeof self&&self.self===self}function bt(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){return ft().indexOf("Electron/")>=0}function Je(){const pe=ft();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function Qe(){return ft().indexOf("MSAppHost/")>=0}function be(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"object"==typeof indexedDB}function ue(){return new Promise((pe,te)=>{try{let Ee=!0;const $e="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open($e);Re.onsuccess=()=>{Re.result.close(),Ee||self.indexedDB.deleteDatabase($e),pe(!0)},Re.onupgradeneeded=()=>{Ee=!1},Re.onerror=()=>{var _t;te((null===(_t=Re.error)||void 0===_t?void 0:_t.message)||"")}}catch(Ee){te(Ee)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ge extends Error{constructor(te,Ee,$e){super(Ee),this.code=te,this.customData=$e,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gt.prototype.create)}}class Gt{constructor(te,Ee,$e){this.service=te,this.serviceName=Ee,this.errors=$e}create(te,...Ee){const $e=Ee[0]||{},Re=`${this.service}/${te}`,_t=this.errors[te],zt=_t?function _n(pe,te){return pe.replace(Jn,(Ee,$e)=>{const Re=te[$e];return null!=Re?String(Re):`<${$e}?>`})}(_t,$e):"Error";return new Ge(Re,`${this.serviceName}: ${zt} (${Re}).`,$e)}}const Jn=/\{\$([^}]+)}/g;function Pn(pe,te){return Object.prototype.hasOwnProperty.call(pe,te)}function Ur(pe){for(const te in pe)if(Object.prototype.hasOwnProperty.call(pe,te))return!1;return!0}function ji(pe,te){if(pe===te)return!0;const Ee=Object.keys(pe),$e=Object.keys(te);for(const Re of Ee){if(!$e.includes(Re))return!1;const _t=pe[Re],zt=te[Re];if(dr(_t)&&dr(zt)){if(!ji(_t,zt))return!1}else if(_t!==zt)return!1}for(const Re of $e)if(!Ee.includes(Re))return!1;return!0}function dr(pe){return null!==pe&&"object"==typeof pe}function li(pe){const te=[];for(const[Ee,$e]of Object.entries(pe))Array.isArray($e)?$e.forEach(Re=>{te.push(encodeURIComponent(Ee)+"="+encodeURIComponent(Re))}):te.push(encodeURIComponent(Ee)+"="+encodeURIComponent($e));return te.length?"&"+te.join("&"):""}function Nr(pe){const te={};return pe.replace(/^\?/,"").split("&").forEach($e=>{if($e){const[Re,_t]=$e.split("=");te[decodeURIComponent(Re)]=decodeURIComponent(_t)}}),te}function qn(pe){const te=pe.indexOf("?");if(!te)return"";const Ee=pe.indexOf("#",te);return pe.substring(te,Ee>0?Ee:void 0)}function xt(pe,te){const Ee=new ri(pe,te);return Ee.subscribe.bind(Ee)}class ri{constructor(te,Ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(()=>{te(this)}).catch($e=>{this.error($e)})}next(te){this.forEachObserver(Ee=>{Ee.next(te)})}error(te){this.forEachObserver(Ee=>{Ee.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,Ee,$e){let Re;if(void 0===te&&void 0===Ee&&void 0===$e)throw new Error("Missing Observer.");Re=function Et(pe,te){if("object"!=typeof pe||null===pe)return!1;for(const Ee of te)if(Ee in pe&&"function"==typeof pe[Ee])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:Ee,complete:$e},void 0===Re.next&&(Re.next=_r),void 0===Re.error&&(Re.error=_r),void 0===Re.complete&&(Re.complete=_r);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch(zt){}}),this.observers.push(Re),_t}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,te)}sendOne(te,Ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{Ee(this.observers[te])}catch($e){"undefined"!=typeof console&&console.error&&console.error($e)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}function rr(pe,te=1e3,Ee=2){const $e=te*Math.pow(Ee,pe),Re=Math.round(.5*$e*(Math.random()-.5)*2);return Math.min(144e5,$e+Re)}function Qt(pe){return pe&&pe._delegate?pe._delegate:pe}function ui(pe,te){return new Promise((Ee,$e)=>{pe.onsuccess=Re=>{Ee(Re.target.result)},pe.onerror=Re=>{var _t;$e(`${te}: ${null===(_t=Re.target.error)||void 0===_t?void 0:_t.message}`)}})}class En{constructor(te){this._db=te,this.objectStoreNames=this._db.objectStoreNames}transaction(te,Ee){return new Rt(this._db.transaction.call(this._db,te,Ee))}createObjectStore(te,Ee){return new dt(this._db.createObjectStore(te,Ee))}close(){this._db.close()}}class Rt{constructor(te){this._transaction=te,this.complete=new Promise((Ee,$e)=>{this._transaction.oncomplete=function(){Ee()},this._transaction.onerror=()=>{$e(this._transaction.error)},this._transaction.onabort=()=>{$e(this._transaction.error)}})}objectStore(te){return new dt(this._transaction.objectStore(te))}}class dt{constructor(te){this._store=te}index(te){return new Lt(this._store.index(te))}createIndex(te,Ee,$e){return new Lt(this._store.createIndex(te,Ee,$e))}get(te){return ui(this._store.get(te),"Error reading from IndexedDB")}put(te,Ee){return ui(this._store.put(te,Ee),"Error writing to IndexedDB")}delete(te){return ui(this._store.delete(te),"Error deleting from IndexedDB")}clear(){return ui(this._store.clear(),"Error clearing IndexedDB object store")}}class Lt{constructor(te){this._index=te}get(te){return ui(this._index.get(te),"Error reading from IndexedDB")}}function Zt(pe,te,Ee){return new Promise(($e,Re)=>{try{const _t=indexedDB.open(pe,te);_t.onsuccess=zt=>{$e(new En(zt.target.result))},_t.onerror=zt=>{var hn;Re(`Error opening indexedDB: ${null===(hn=zt.target.error)||void 0===hn?void 0:hn.message}`)},_t.onupgradeneeded=zt=>{Ee(new En(_t.result),zt.oldVersion,zt.newVersion,new Rt(_t.transaction))}}catch(_t){Re(`Error opening indexedDB: ${_t.message}`)}})}function Kt(pe){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(pe){return new Promise((te,Ee)=>{try{const $e=indexedDB.deleteDatabase(pe);$e.onsuccess=()=>{te()},$e.onerror=Re=>{var _t;Ee(`Error deleting indexedDB database "${pe}": ${null===(_t=Re.target.error)||void 0===_t?void 0:_t.message}`)}}catch($e){Ee(`Error deleting indexedDB database "${pe}": ${$e.message}`)}})})).apply(this,arguments)}},8754:(Nt,He,G)=>{G.d(He,{x:()=>vt});var u=G(9100),I=G(5e3),z=G(4696),Ce=G(9808),ye=G(5861),Ae=G(5161),xe=G(2382);function Ie(be,ie){if(1&be&&(I.TgZ(0,"div",15)(1,"p",16)(2,"em"),I._uU(3),I.qZA()(),I.TgZ(4,"span",17),I._uU(5),I.ALo(6,"date"),I.qZA()()),2&be){const ue=I.oxw().$implicit;I.xp6(3),I.Oqu(ue.mensaje),I.xp6(2),I.Oqu(I.xi3(6,2,ue.horario,"short"))}}function Pe(be,ie){if(1&be&&(I.TgZ(0,"div",18)(1,"h6",19),I._uU(2),I.qZA(),I.TgZ(3,"p",16)(4,"em"),I._uU(5),I.qZA()(),I.TgZ(6,"span",17),I._uU(7),I.ALo(8,"date"),I.qZA()()),2&be){const ue=I.oxw().$implicit;I.xp6(2),I.Oqu(ue.emisor.split("@")[0]),I.xp6(3),I.Oqu(ue.mensaje),I.xp6(2),I.Oqu(I.xi3(8,3,ue.horario,"short"))}}function ce(be,ie){if(1&be&&(I.TgZ(0,"div",12),I.YNc(1,Ie,7,5,"div",13),I.YNc(2,Pe,9,6,"div",14),I.qZA()),2&be){const ue=ie.$implicit,ve=I.oxw(2);I.xp6(1),I.Q6J("ngIf",ue.emisor==ve.usuarioActual),I.xp6(1),I.Q6J("ngIf",ue.emisor!=ve.usuarioActual)}}function he(be,ie){if(1&be){const ue=I.EpF();I.TgZ(0,"div",2)(1,"div",3)(2,"h4"),I._uU(3),I.qZA(),I.TgZ(4,"a",4),I.NdJ("click",function(){return I.CHM(ue),I.oxw().mostrarChat=!1}),I._uU(5,"X"),I.qZA()(),I.TgZ(6,"div",5),I.YNc(7,ce,3,2,"div",6),I.qZA(),I.TgZ(8,"div",7)(9,"div",8)(10,"input",9),I.NdJ("ngModelChange",function(Oe){return I.CHM(ue),I.oxw().mensaje=Oe}),I.qZA(),I.TgZ(11,"div",10)(12,"a",11),I.NdJ("click",function(){return I.CHM(ue),I.oxw().mensajeChat()}),I._uU(13,"send"),I.qZA()()()()()}if(2&be){const ue=I.oxw();I.xp6(3),I.hij("Chat ",ue.nombreJuego,""),I.xp6(4),I.Q6J("ngForOf",ue.lista),I.xp6(3),I.Q6J("ngModel",ue.mensaje)}}function De(be,ie){if(1&be){const ue=I.EpF();I.TgZ(0,"button",20),I.NdJ("click",function(){return I.CHM(ue),I.oxw().mostrarChat=!0}),I._UZ(1,"img",21),I.qZA()}}let Ue=(()=>{class be{constructor(ue){this.database=ue,this.mostrarChat=!1,this.lista=[],this.nuevoMensaje={emisor:"",mensaje:"",horario:Date.now()}}mensajeChat(){this.nuevoMensaje={emisor:this.usuarioActual,mensaje:this.mensaje,horario:Date.now()},this.database.alta(this.data,this.nuevoMensaje),this.mensaje=""}ngOnInit(){var ue=this;return(0,ye.Z)(function*(){ue.usuarioActual=ue.database.emailUsuarioLogeado;try{const ve=yield ue.database.traerTodo(ue.data);null==ve||ve.subscribe(Oe=>(ue.lista=Oe.map(it=>it.payload.doc.data()),ue.lista.sort((it,Ge)=>new Date(it.horario).getTime()-new Date(Ge.horario).getTime())))}catch(ve){console.log("nose pudo subscribir la lista",ve)}})()}}return be.\u0275fac=function(ue){return new(ue||be)(I.Y36(Ae.T))},be.\u0275cmp=I.Xpm({type:be,selectors:[["app-chat"]],inputs:{nombreJuego:"nombreJuego",data:"data"},decls:2,vars:2,consts:[["class","card","style","width: 25vw; height: 60vh; position: fixed; bottom: 0; right: 0; margin: 10px;",4,"ngIf"],["class","btnChat btn btn-primary",3,"click",4,"ngIf"],[1,"card",2,"width","25vw","height","60vh","position","fixed","bottom","0","right","0","margin","10px"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"click"],[1,"overflow-auto"],["class","card-body",4,"ngFor","ngForOf"],[1,"card-footer","text-muted"],[1,"input-group","mb-3"],["type","text","placeholder","message",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],["class","card-text justify-content-end","style","display: grid;",4,"ngIf"],["class","card-text justify-content-start","style","display: grid;",4,"ngIf"],[1,"card-text","justify-content-end",2,"display","grid"],[2,"background-color","rgb(157, 255, 127)","margin-bottom","0","border-radius","5px","padding-left","5px"],[2,"font-size","10px"],[1,"card-text","justify-content-start",2,"display","grid"],[2,"text-transform","capitalize"],[1,"btnChat","btn","btn-primary",3,"click"],["src","https://img.utdstc.com/icon/d18/c3c/d18c3cfc4976d716bbb54e7f201d0d0dd32dec4d3b829736352415ea45697fd2:200","alt","",2,"width","50px","height","50px"]],template:function(ue,ve){1&ue&&(I.YNc(0,he,14,3,"div",0),I.YNc(1,De,2,0,"button",1)),2&ue&&(I.Q6J("ngIf",ve.mostrarChat),I.xp6(1),I.Q6J("ngIf",!ve.mostrarChat))},directives:[Ce.O5,Ce.sg,xe.Fj,xe.JJ,xe.On],pipes:[Ce.uU],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh}.btnChat[_ngcontent-%COMP%]{width:5rem;height:5rem;position:fixed;border-radius:50px;bottom:0;right:0;margin:15px}"]}),be})();function Ze(be,ie){if(1&be&&(I.TgZ(0,"span",19),I._uU(1),I.qZA()),2&be){const ue=ie.$implicit;I.xp6(1),I.Oqu(ue)}}function ot(be,ie){if(1&be){const ue=I.EpF();I.TgZ(0,"button",20),I.NdJ("click",function(){const it=I.CHM(ue).$implicit;return I.oxw().botonClicked(it)}),I._uU(1),I.qZA()}if(2&be){const ue=ie.$implicit;I.Q6J("ngClass",ue.estado),I.xp6(1),I.Oqu(ue.letra)}}const ft=function(){return["/home"]};let je=(()=>{class be{constructor(){this.buttons=[{ruta:"/home",texto:"Home",color:""},{ruta:"/quiensoy",texto:"Quien Soy",color:""}],this.letras=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","\xd1","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.palabras=["CARACOLA","TOCINA","BARCELONA","ESTRELLA","CARGADOR","CUADRO"],this.mensaje="",this.palabraAdivinarPorAhora="",this.palabraAAdivinar="",this.fallos=[],this.numFallos=1,this.numAcierto=0,this.letrasAcertadas=[],this.botones=[],this.inicializar()}continuarJugando(){this.popup.style.display="none",this.inicializar()}ngOnInit(){this.popup=document.getElementById("popup")}inicializar(){this.palabraAdivinarPorAhora="",this.fallos=[],this.botones=[],this.numFallos=1,this.numAcierto=0;let ue=Math.floor(Math.random()*this.palabras.length);this.palabraAAdivinar=this.palabras[ue],this.generarPalabraAdivinarPorAhora(),this.inicializarBotones()}inicializarBotones(){for(let ue=0;ue<this.letras.length;ue++)this.botones.push({letra:this.letras[ue],estado:"btn-no-pulsado"})}generarPalabraAdivinarPorAhora(){for(let ue=0;ue<this.palabraAAdivinar.length;ue++)this.palabraAdivinarPorAhora+="-"}botonClicked(ue){this.agregarLetraAcertada(ue.letra)?(this.numAcierto==this.palabraAAdivinar.length&&(this.mensaje="Ganaste!!",this.popup.style.display="initial"),ue.estado="btn-letra-acertada"):this.numFallos<7?(this.aumentarFallo(ue.letra),ue.estado="btn-letra-no-acertada"):(this.mensaje="Perdiste!!",this.popup.style.display="initial")}agregarLetraAcertada(ue){let ve=!1,Oe=this.palabraAAdivinar.length;for(let it=0;it<Oe;it++)ue==this.palabraAAdivinar[it]&&(this.palabraAdivinarPorAhora=(0==it?"":this.palabraAdivinarPorAhora.substr(0,it))+ue+this.palabraAdivinarPorAhora.substr(it+1),ve=!0,this.numAcierto++);return ve}letraAcertada(ue){return this.palabraAAdivinar.includes(ue)}aumentarFallo(ue){this.fallos.push(ue),this.numFallos++}}return be.\u0275fac=function(ue){return new(ue||be)},be.\u0275cmp=I.Xpm({type:be,selectors:[["app-ahorcado"]],decls:26,vars:12,consts:[[1,"container","col-12","text-center"],[3,"icono","titulo","botones"],["id","popup",1,"popup",2,"display","none","top","0","left","0"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[2,"font-weight","bolder","font-size","15px"],[1,"text-center"],["type","button","value","si",1,"btn","btn-success","m-1",3,"click"],["type","button","value","no",1,"btn","btn-secondary","m-1",3,"routerLink"],["alt","",1,"imgFallo","mt-2",3,"src"],["class","badge badge-danger m-1",4,"ngFor","ngForOf"],[1,"palabraAAdivinar"],[1,"d-flex","justify-content-center"],[1,"mt-2",2,"max-width","450px"],["class","btn btn-primary m-1",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"nombreJuego","data"],[1,"badge","badge-danger","m-1"],[1,"btn","btn-primary","m-1",3,"ngClass","click"]],template:function(ue,ve){1&ue&&(I.TgZ(0,"div",0),I._UZ(1,"app-navbar",1),I.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),I._uU(7),I.qZA()(),I.TgZ(8,"div",7)(9,"p",8),I._uU(10,"Desea continuar?"),I.qZA()(),I.TgZ(11,"div",9)(12,"button",10),I.NdJ("click",function(){return ve.continuarJugando()}),I._uU(13,"Si"),I.qZA(),I.TgZ(14,"button",11),I._uU(15,"No"),I.qZA()()()()(),I.TgZ(16,"div"),I._UZ(17,"img",12),I.qZA(),I.TgZ(18,"div"),I.YNc(19,Ze,2,1,"span",13),I.qZA(),I.TgZ(20,"p",14),I._uU(21),I.qZA(),I.TgZ(22,"div",15)(23,"div",16),I.YNc(24,ot,2,2,"button",17),I.qZA()(),I._UZ(25,"app-chat",18),I.qZA()),2&ue&&(I.xp6(1),I.Q6J("icono","http://simpleicon.com/wp-content/uploads/rocket.svg")("titulo","Ahorcado")("botones",ve.buttons),I.xp6(6),I.Oqu(ve.mensaje),I.xp6(7),I.Q6J("routerLink",I.DdM(11,ft)),I.xp6(3),I.MGl("src","../../../../assets/img/",ve.numFallos,".png",I.LSH),I.xp6(2),I.Q6J("ngForOf",ve.fallos),I.xp6(2),I.Oqu(ve.palabraAdivinarPorAhora),I.xp6(3),I.Q6J("ngForOf",ve.botones),I.xp6(1),I.Q6J("nombreJuego","Ahorcado")("data","chatAhorcado"))},directives:[z.S,u.rH,Ce.sg,Ce.mk,Ue],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh}button[_ngcontent-%COMP%]{font-size:20px;font-weight:bolder}.popup[_ngcontent-%COMP%]{position:absolute;width:99%;height:99%;background-color:#70161646}.palabraAAdivinar[_ngcontent-%COMP%]{font-size:80px;font-weight:bolder;letter-spacing:10px}.btn-letra-acertada[_ngcontent-%COMP%]{background-color:#18b318;cursor:not-allowed;pointer-events:none}.btn-letra-no-acertada[_ngcontent-%COMP%]{background-color:red;cursor:not-allowed;pointer-events:none}.btn-deshabilitar[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}.btn-no-pulsado[_ngcontent-%COMP%]{background-color:#00aeff}.imgFallo[_ngcontent-%COMP%]{border-radius:50px;width:20%;height:20%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#7fffd4}"]}),be})();var et=G(649);const Tt=function(){return["/home"]};function bt(be,ie){if(1&be){const ue=I.EpF();I.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h5",10),I._uU(5,"Se termino el tiempo"),I.qZA()(),I.TgZ(6,"h4"),I._uU(7),I.qZA(),I.TgZ(8,"div",11)(9,"p",12),I._uU(10,"Desea continuar?"),I.qZA()(),I.TgZ(11,"div",13)(12,"button",14),I.NdJ("click",function(){return I.CHM(ue),I.oxw().continuarJugando()}),I._uU(13,"Si"),I.qZA(),I.TgZ(14,"button",15),I._uU(15,"No"),I.qZA()()()()()}if(2&be){const ue=I.oxw();I.xp6(7),I.hij("Puntos ganados: ",ue.puntosJugador,""),I.xp6(7),I.Q6J("routerLink",I.DdM(2,Tt))}}function Ke(be,ie){if(1&be){const ue=I.EpF();I.TgZ(0,"div",16)(1,"div",17)(2,"h4"),I._uU(3),I.qZA(),I.TgZ(4,"div"),I._UZ(5,"img",18),I.qZA(),I.TgZ(6,"div",19)(7,"h4"),I._uU(8),I.qZA(),I.TgZ(9,"button",20),I.NdJ("click",function(){return I.CHM(ue),I.oxw().seleccionar("menor")}),I._uU(10,"Menor"),I.qZA(),I.TgZ(11,"button",20),I.NdJ("click",function(){return I.CHM(ue),I.oxw().seleccionar("mayor")}),I._uU(12,"Mayor"),I.qZA()(),I.TgZ(13,"h3"),I._uU(14),I.qZA()()()}if(2&be){const ue=I.oxw();I.xp6(3),I.Oqu(ue.tiempoRestante),I.xp6(2),I.MGl("src","../../../../assets/imgcartas/",ue.numeroRandom,".jpg",I.LSH),I.xp6(3),I.hij("La proxima carta es Mayor o Menor que ",ue.numeroRandom," ?"),I.xp6(6),I.hij("Puntos: ",ue.puntosJugador,"")}}function Ye(be,ie){if(1&be){const ue=I.EpF();I.TgZ(0,"div",21)(1,"div",22)(2,"button",23),I.NdJ("click",function(){return I.CHM(ue),I.oxw().tiempoCorriendo()}),I._uU(3," Start "),I.qZA()()()}}const Qe=[{path:"ahorcado",component:je},{path:"mayorOMenor",component:(()=>{class be{constructor(ue){this.toastService=ue,this.buttons=[{ruta:"/home",texto:"Home",color:""},{ruta:"/quiensoy",texto:"Quien Soy",color:""}],this.numeroRandom=Math.floor(12*Math.random())+1,this.puntosJugador=0,this.mostrarJuego=!1,this.tiempoRestante=10,this.continuarJuego=!1,this.jugar=!1,this.ingreso=0}ngOnInit(){}seleccionar(ue){let ve=this.numeroRandom;"mayor"==ue?(this.numeroRandom=Math.floor(12*Math.random())+1,this.numeroRandom>ve?this.puntosJugador+=1:this.toastService.show("Era Menor",{classname:"bg-warning",delay:"1000"})):(this.numeroRandom=Math.floor(12*Math.random())+1,this.numeroRandom<ve?this.puntosJugador+=1:this.toastService.show("Era Mayor",{classname:"bg-warning",delay:"1000"}))}continuarJugando(){this.tiempoRestante=10,this.puntosJugador=0,this.continuarJuego=!1,this.tiempoCorriendo()}tiempoCorriendo(){0==this.ingreso&&(this.ingreso+=1,this.jugar=!0),this.mostrarJuego=!0;const ue=setInterval(()=>{0==this.tiempoRestante?(this.continuarJuego=!0,this.mostrarJuego=!1,this.borrarIntervalo(ue)):this.tiempoRestante-=1},1e3)}borrarIntervalo(ue){clearInterval(ue)}}return be.\u0275fac=function(ue){return new(ue||be)(I.Y36(et.k))},be.\u0275cmp=I.Xpm({type:be,selectors:[["app-mayormenor"]],decls:6,vars:8,consts:[[1,"container","col-12","text-center"],[3,"icono","titulo","botones"],["class","popup","style","top:0; left:0;",4,"ngIf"],["class","container col-6",4,"ngIf"],["class","container",4,"ngIf"],[3,"nombreJuego","data"],[1,"popup",2,"top","0","left","0"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[2,"font-weight","bolder","font-size","15px"],[1,"text-center"],["type","button","value","si",1,"btn","btn-success","m-1",3,"click"],["type","button","value","no",1,"btn","btn-secondary","m-1",3,"routerLink"],[1,"container","col-6"],[1,"card","mt-5"],["alt","",2,"width","20%","height","20%",3,"src"],[1,"card-actions","p-4"],[1,"btn","btn-primary","m-1",3,"click"],[1,"container"],[1,"d-flex","justify-content-center","align-items-end",2,"width","100%","height","40%"],[1,"btnEmpezarJuego","btn","btn-success",2,"width","200px","height","200px","border-radius","100px",3,"click"]],template:function(ue,ve){1&ue&&(I.TgZ(0,"div",0),I._UZ(1,"app-navbar",1),I.YNc(2,bt,16,3,"div",2),I.YNc(3,Ke,15,4,"div",3),I.YNc(4,Ye,4,0,"div",4),I._UZ(5,"app-chat",5),I.qZA()),2&ue&&(I.xp6(1),I.Q6J("icono","http://simpleicon.com/wp-content/uploads/rocket.svg")("titulo","Mayor o menor")("botones",ve.buttons),I.xp6(1),I.Q6J("ngIf",ve.continuarJuego),I.xp6(1),I.Q6J("ngIf",ve.jugar),I.xp6(1),I.Q6J("ngIf",!ve.jugar),I.xp6(1),I.Q6J("nombreJuego","MayorMenor")("data","chatMayorMenor"))},directives:[z.S,Ce.O5,u.rH,Ue],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh}.popup[_ngcontent-%COMP%]{position:absolute;width:99%;height:99%;z-index:999;background-color:#70161646}.btnEmpezarJuego[_ngcontent-%COMP%]{font-weight:bolder;font-size:25px}.btnVolverAlMenu[_ngcontent-%COMP%]{font-weight:bolder;font-size:20px}"]}),be})()}];let vt=(()=>{class be{}return be.\u0275fac=function(ue){return new(ue||be)},be.\u0275mod=I.oAB({type:be}),be.\u0275inj=I.cJS({imports:[[u.Bz.forChild(Qe)],u.Bz]}),be})()},5161:(Nt,He,G)=>{G.d(He,{T:()=>Rf});var u=G(5861),I=G(127),z=G(5e3),Ce=G(4986),ye=G(8306),Ae=G(8996),xe=G(9646),Ie=G(5813),Pe=G(8675),ce=G(4482),he=G(5403);function De(){return(0,ce.e)((i,e)=>{let t,s=!1;i.subscribe((0,he.x)(e,l=>{const p=t;t=l,s&&e.next([p,l]),s=!0}))})}var ie,Ue=G(4004),Ze=G(5026),ot=G(1884),ft=G(9300),je=G(2011),et=G(9808),bt=(G(4087),G(3942)),Ke=G(9681),Ye=G(4859),Je=G(1877),Qe=G(2090),vt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},be={},ue=ue||{},ve=vt||self;function Oe(){}function it(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var _n="closure_uid_"+(1e9*Math.random()>>>0),Jn=0;function Mt(i,e,t){return i.call.apply(i.bind,arguments)}function en(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function qt(i,e,t){return(qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mt:en).apply(null,arguments)}function Wt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ln(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(s,l,p){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[l].apply(s,v)}}function pn(){this.s=this.s,this.o=this.o}var Pn={};pn.prototype.s=!1,pn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Gt(i){return Object.prototype.hasOwnProperty.call(i,_n)&&i[_n]||(i[_n]=++Jn)}(this);delete Pn[i]}},pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const un=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Ur=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const s=i.length,l="string"==typeof i?i.split(""):i;for(let p=0;p<s;p++)p in l&&e.call(t,l[p],p,i)};function ji(i){return Array.prototype.concat.apply([],arguments)}function dr(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function li(i){return/^[\s\xa0]*$/.test(i)}var xt,Nr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function qn(i,e){return-1!=i.indexOf(e)}function Mi(i,e){return i<e?-1:i>e?1:0}e:{var ri=ve.navigator;if(ri){var tr=ri.userAgent;if(tr){xt=tr;break e}}xt=""}function Et(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function _r(i){const e={};for(const t in i)e[t]=i[t];return e}var Oi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nr(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let p=0;p<Oi.length;p++)t=Oi[p],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Mn(i){return Mn[" "](i),i}Mn[" "]=Oe;var rr,i,hr=qn(xt,"Opera"),tn=qn(xt,"Trident")||qn(xt,"MSIE"),Ot=qn(xt,"Edge"),Ht=Ot||tn,ar=qn(xt,"Gecko")&&!(qn(xt.toLowerCase(),"webkit")&&!qn(xt,"Edge"))&&!(qn(xt,"Trident")||qn(xt,"MSIE"))&&!qn(xt,"Edge"),Ci=qn(xt.toLowerCase(),"webkit")&&!qn(xt,"Edge");function Sn(){var i=ve.document;return i?i.documentMode:void 0}e:{var Gn="",ii=(i=xt,ar?/rv:([^\);]+)(\)|;)/.exec(i):Ot?/Edge\/([\d\.]+)/.exec(i):tn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ci?/WebKit\/(\S+)/.exec(i):hr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ii&&(Gn=ii?ii[1]:""),tn){var Qt=Sn();if(null!=Qt&&Qt>parseFloat(Gn)){rr=String(Qt);break e}}rr=Gn}var ui={};var Lt=ve.document&&tn&&(Sn()||parseInt(rr,10))||void 0,Zt=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ve.addEventListener("test",Oe,e),ve.removeEventListener("test",Oe,e)}catch(t){}return i}();function Kt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function an(i,e){if(Kt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ar){e:{try{Mn(e.nodeName);var l=!0;break e}catch(p){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:pe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&an.Z.h.call(this)}}Kt.prototype.h=function(){this.defaultPrevented=!0},Ln(an,Kt);var pe={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function $e(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=l,this.key=++Ee,this.ca=this.fa=!1}function Re(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function _t(i){this.src=i,this.g={},this.h=0}function zt(i,e){var t=e.type;if(t in i.g){var p,s=i.g[t],l=un(s,e);(p=0<=l)&&Array.prototype.splice.call(s,l,1),p&&(Re(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function hn(i,e,t,s){for(var l=0;l<i.length;++l){var p=i[l];if(!p.ca&&p.listener==e&&p.capture==!!t&&p.ia==s)return l}return-1}_t.prototype.add=function(i,e,t,s,l){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var v=hn(i,e,s,l);return-1<v?(e=i[v],t||(e.fa=!1)):((e=new $e(e,this.src,p,!!s,l)).fa=t,i.push(e)),e};var lr="closure_lm_"+(1e6*Math.random()|0),gn={};function Vn(i,e,t,s,l){if(s&&s.once)return Zn(i,e,t,s,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Vn(i,e[p],t,s,l);return null}return t=Kr(t),i&&i[te]?i.N(e,t,Ge(s)?!!s.capture:!!s,l):ln(i,e,t,!1,s,l)}function ln(i,e,t,s,l,p){if(!e)throw Error("Invalid event type");var v=Ge(l)?!!l.capture:!!l,A=Qn(i);if(A||(i[lr]=A=new _t(i)),(t=A.add(e,t,s,v,p)).proxy)return t;if(s=function On(){var e=ur;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Zt||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(ds(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Zn(i,e,t,s,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Zn(i,e[p],t,s,l);return null}return t=Kr(t),i&&i[te]?i.O(e,t,Ge(s)?!!s.capture:!!s,l):ln(i,e,t,!0,s,l)}function xi(i,e,t,s,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)xi(i,e[p],t,s,l);else s=Ge(s)?!!s.capture:!!s,t=Kr(t),i&&i[te]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=hn(p=i.g[e],t,s,l))&&(Re(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=Qn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=hn(e,t,s,l)),(t=-1<i?e[i]:null)&&jr(t))}function jr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[te])zt(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(ds(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Qn(e))?(zt(t,i),0==t.h&&(t.src=null,e[lr]=null)):Re(i)}}}function ds(i){return i in gn?gn[i]:gn[i]="on"+i}function ur(i,e){if(i.ca)i=!0;else{e=new an(e,this);var t=i.listener,s=i.ia||i.src;i.fa&&jr(i),i=t.call(s,e)}return i}function Qn(i){return(i=i[lr])instanceof _t?i:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(i){return"function"==typeof i?i:(i[Zr]||(i[Zr]=function(e){return i.handleEvent(e)}),i[Zr])}function at(){pn.call(this),this.i=new _t(this),this.P=this,this.I=null}function jt(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new Kt(e,i);else if(e instanceof Kt)e.target=e.target||i;else{var l=e;nr(e=new Kt(s,i),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var v=e.g=t[p];l=Cn(v,s,!0,e)&&l}if(l=Cn(v=e.g=i,s,!0,e)&&l,l=Cn(v,s,!1,e)&&l,t)for(p=0;p<t.length;p++)l=Cn(v=e.g=t[p],s,!1,e)&&l}function Cn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.ca&&v.capture==t){var A=v.listener,j=v.ia||v.src;v.fa&&zt(i.i,v),l=!1!==A.call(j,s)&&l}}return l&&!s.defaultPrevented}Ln(at,pn),at.prototype[te]=!0,at.prototype.removeEventListener=function(i,e,t,s){xi(this,i,e,t,s)},at.prototype.M=function(){if(at.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Re(t[s]);delete i.g[e],i.h--}}this.I=null},at.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},at.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var yr=ve.JSON.stringify;function Ri(){var i=hs;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var rn,ci=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new xn,i=>i.reset());class xn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fr(i){ve.setTimeout(()=>{throw i},0)}function wr(i,e){rn||function pi(){var i=ve.Promise.resolve(void 0);rn=function(){i.then(di)}}(),Ti||(rn(),Ti=!0),hs.add(i,e)}var Ti=!1,hs=new class vr{constructor(){this.h=this.g=null}add(e,t){const s=ci.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function di(){for(var i;i=Ri();){try{i.h.call(i.g)}catch(t){fr(t)}var e=ci;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ti=!1}function Er(i,e){at.call(this),this.h=i||1,this.g=e||ve,this.j=qt(this.kb,this),this.l=Date.now()}function de(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function le(i,e,t){if("function"==typeof i)t&&(i=qt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=qt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ve.setTimeout(i,e||0)}function X(i){i.g=le(()=>{i.g=null,i.i&&(i.i=!1,X(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ln(Er,at),(ie=Er.prototype).da=!1,ie.S=null,ie.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jt(this,"tick"),this.da&&(de(this),this.start()))}},ie.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.M=function(){Er.Z.M.call(this),de(this),delete this.g};class fe extends pn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X(this)}M(){super.M(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(i){pn.call(this),this.h=i,this.g={}}Ln(Xe,pn);var It=[];function sn(i,e,t,s){Array.isArray(t)||(t&&(It[0]=t.toString()),t=It);for(var l=0;l<t.length;l++){var p=Vn(e,t[l],s||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Bn(i){Et(i.g,function(e,t){this.g.hasOwnProperty(t)&&jr(e)},i),i.g={}}function Gr(){this.g=!0}function hi(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ms(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<l.length;v++)l[v]=""}}}return yr(t)}catch(A){return e}}(i,t)+(s?" "+s:"")})}Xe.prototype.M=function(){Xe.Z.M.call(this),Bn(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gr.prototype.Aa=function(){this.g=!1},Gr.prototype.info=function(){};var Hi={},Or=null;function Os(){return Or=Or||new at}function ga(i){Kt.call(this,Hi.Ma,i)}function Ii(i){const e=Os();jt(e,new ga(e,i))}function ma(i,e){Kt.call(this,Hi.STAT_EVENT,i),this.stat=e}function gi(i){const e=Os();jt(e,new ma(e,i))}function ea(i,e){Kt.call(this,Hi.Na,i),this.size=e}function Pi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){i()},e)}Hi.Ma="serverreachability",Ln(ga,Kt),Hi.STAT_EVENT="statevent",Ln(ma,Kt),Hi.Na="timingevent",Ln(ea,Kt);var Qs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ta={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function na(){}function Xs(){}na.prototype.h=null;var Qi,Ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xa(){Kt.call(this,"d")}function vs(){Kt.call(this,"c")}function eo(){}function mi(i,e,t,s){this.l=i,this.j=e,this.m=t,this.X=s||1,this.V=new Xe(this),this.P=Fr,this.W=new Er(i=Ht?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}Ln(xa,Kt),Ln(vs,Kt),Ln(eo,na),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},Qi=new eo;var Fr=45e3,Ds={},Xi={};function xs(i,e,t){i.K=1,i.v=lt(F(e)),i.s=t,i.U=!0,ra(i,null)}function ra(i,e){i.F=Date.now(),Hr(i),i.A=F(i.v);var t=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),Ps(t.h,"t",s),i.C=0,t=i.l.H,i.h=new bs,i.g=wo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new fe(qt(i.Ia,i,i.g),i.O)),sn(i.V,i.g,"readystatechange",i.gb),e=i.H?_r(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ii(1),function Gi(i,e,t,s,l,p){i.info(function(){if(i.g)if(p)for(var v="",A=p.split("&"),j=0;j<A.length;j++){var q=A[j].split("=");if(1<q.length){var oe=q[0];q=q[1];var _e=oe.split("_");v=2<=_e.length&&"type"==_e[1]?v+(oe+"=")+q+"&":v+(oe+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function to(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function es(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=ws(i,t),l==Xi){4==e&&(i.o=4,gi(14),s=!1),hi(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ds){i.o=4,gi(15),hi(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}hi(i.j,i.m,l,null),_o(i,l)}to(i)&&l!=Xi&&l!=Ds&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,gi(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),yi(e),e.L=!0,gi(11))):(hi(i.j,i.m,t,"[Invalid Chunked Response]"),Lr(i),Yr(i))}function ws(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Xi:(t=Number(e.substring(t,s)),isNaN(t)?Ds:(s+=1)+t>e.length?Xi:(e=e.substr(s,t),i.C=s+t,e))}function Hr(i){i.Y=Date.now()+i.P,Bs(i,i.P)}function Bs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Pi(qt(i.eb,i),e)}function Rs(i){i.B&&(ve.clearTimeout(i.B),i.B=null)}function Yr(i){0==i.l.G||i.I||zs(i.l,i)}function Lr(i){Rs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,de(i.W),Bn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function _o(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ki(t.i,i)))if(t.I=i.N,!i.J&&ki(t.i,i)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(q){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=Pi(qt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Va(t),Jr(t)}Ws(t),gi(18)}if(1>=vn(t.i)&&t.ka){try{t.ka()}catch(q){}t.ka=void 0}}else Do(t,11)}else if((i.J||t.g==i)&&Va(t),!li(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let q=l[e];if(t.U=q[0],q=q[1],2==t.G)if("c"==q[0]){t.J=q[1],t.la=q[2];const oe=q[3];null!=oe&&(t.ma=oe,t.h.info("VER="+t.ma));const _e=q[4];null!=_e&&(t.za=_e,t.h.info("SVER="+t.za));const qe=q[5];null!=qe&&"number"==typeof qe&&0<qe&&(t.K=s=1.5*qe,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const pt=i.g;if(pt){const gt=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gt){var p=s.i;!p.g&&(qn(gt,"spdy")||qn(gt,"quic")||qn(gt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&($i(p,p.h),p.h=null))}if(s.D){const Ut=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ut&&(s.sa=Ut,Be(s.F,s.D,Ut))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var v=i;if((s=t).oa=Go(s,s.H?s.la:null,s.W),v.J){_i(s.i,v);var A=v,j=s.K;j&&A.setTimeout(j),A.B&&(Rs(A),Hr(A)),s.g=v}else Uo(s);0<t.l.length&&Nu(t)}else"stop"!=q[0]&&"close"!=q[0]||Do(t,7);else 3==t.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?Do(t,7):Bo(t):"noop"!=q[0]&&t.j&&t.j.wa(q),t.A=0)}Ii(4)}catch(q){}}function Us(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(it(i)||"string"==typeof i)Ur(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(it(i)||"string"==typeof i){t=[];for(var s=i.length,l=0;l<s;l++)t.push(l)}else for(l in t=[],s=0,i)t[s++]=l;s=function xo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(it(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length;for(var p=0;p<l;p++)e.call(void 0,s[p],t&&t[p],i)}}function $r(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof $r)for(t=i.T(),s=0;s<t.length;s++)this.set(t[s],i.get(t[s]));else for(s in i)this.set(s,i[s])}function js(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var s=i.g[e];Cr(i.h,s)&&(i.g[t++]=s),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)Cr(l,s=i.g[e])||(i.g[t++]=s,l[s]=1),e++;i.g.length=t}}function Cr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ie=mi.prototype).setTimeout=function(i){this.P=i},ie.gb=function(i){i=i.target;const e=this.L;e&&3==$s(i)?e.l():this.Ia(i)},ie.Ia=function(i){try{if(i==this.g)e:{const oe=$s(this.g);var e=this.g.Da();const _e=this.g.ba();if(!(3>oe)&&(3!=oe||Ht||this.g&&(this.h.h||this.g.ga()||Qa(this.g)))){this.I||4!=oe||7==e||Ii(8==e||0>=_e?3:2),Rs(this);var t=this.g.ba();this.N=t;t:if(to(this)){var s=Qa(this.g);i="";var l=s.length,p=4==$s(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lr(this),Yr(this);var v="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:p&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==t,function Xo(i,e,t,s,l,p,v){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.X,oe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!li(A)){var q=A;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,gi(12),Lr(this),Yr(this);break e}hi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_o(this,t)}this.U?(es(this,oe,v),Ht&&this.i&&3==oe&&(sn(this.V,this.W,"tick",this.fb),this.W.start())):(hi(this.j,this.m,v,null),_o(this,v)),4==oe&&Lr(this),this.i&&!this.I&&(4==oe?zs(this.l,this):(this.i=!1,Hr(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),Lr(this),Yr(this)}}}catch(oe){}},ie.fb=function(){if(this.g){var i=$s(this.g),e=this.g.ga();this.C<e.length&&(Rs(this),es(this,i,e),this.i&&4!=i&&Hr(this))}},ie.cancel=function(){this.I=!0,Lr(this)},ie.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function mo(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ii(3),gi(17)),Lr(this),this.o=2,Yr(this)):Bs(this,this.Y-i)},(ie=$r.prototype).R=function(){js(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ie.T=function(){return js(this),this.g.concat()},ie.get=function(i,e){return Cr(this.h,i)?this.h[i]:e},ie.set=function(i,e){Cr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ie.forEach=function(i,e){for(var t=this.T(),s=0;s<t.length;s++){var l=t[s],p=this.get(l);i.call(e,p,l,this)}};var Es=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hn(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Hn){this.g=void 0!==e?e:i.g,Y(this,i.j),this.s=i.s,L(this,i.i),Q(this,i.m),this.l=i.l,e=i.h;var t=new Yt;t.i=e.i,e.g&&(t.g=new $r(e.g),t.h=e.h),me(this,t),this.o=i.o}else i&&(t=String(i).match(Es))?(this.g=!!e,Y(this,t[1]||"",!0),this.s=Tn(t[2]||""),L(this,t[3]||"",!0),Q(this,t[4]),this.l=Tn(t[5]||"",!0),me(this,t[6]||"",!0),this.o=Tn(t[7]||"")):(this.g=!!e,this.h=new Yt(null,this.g))}function F(i){return new Hn(i)}function Y(i,e,t){i.j=t?Tn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function L(i,e,t){i.i=t?Tn(e,!0):e}function Q(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function me(i,e,t){e instanceof Yt?(i.h=e,function R(i,e){e&&!i.j&&(Si(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(Ro(this,s),Ps(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=yn(e,Cs)),i.h=new Yt(e,i.g))}function Be(i,e,t){i.h.set(e,t)}function lt(i){return Be(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Tn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function yn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,An),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function An(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Hn.prototype.toString=function(){var i=[],e=this.j;e&&i.push(yn(e,xr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(yn(e,xr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(yn(t,"/"==t.charAt(0)?br:Tr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",yn(t,Li)),i.join("")};var xr=/[#\/\?@]/g,Tr=/[#\?:]/g,br=/[#\?]/g,Cs=/[#\?@]/g,Li=/#/g;function Yt(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Si(i){i.g||(i.g=new $r,i.h=0,i.i&&function Gs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var p=i[t].substring(0,s);l=i[t].substring(s+1)}else p=i[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ro(i,e){Si(i),e=U(i,e),Cr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Cr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&js(i)))}function Po(i,e){return Si(i),e=U(i,e),Cr(i.g.h,e)}function Ps(i,e,t){Ro(i,e),0<t.length&&(i.i=null,i.g.set(U(i,e),dr(t)),i.h+=t.length)}function U(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function $(i){this.l=i||Le,i=ve.PerformanceNavigationTiming?0<(i=ve.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ve.g&&ve.g.Ea&&ve.g.Ea()&&ve.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=Yt.prototype).add=function(i,e){Si(this),this.i=null,i=U(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ie.forEach=function(i,e){Si(this),this.g.forEach(function(t,s){Ur(t,function(l){i.call(e,l,s,this)},this)},this)},ie.T=function(){Si(this);for(var i=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var l=i[s],p=0;p<l.length;p++)t.push(e[s]);return t},ie.R=function(i){Si(this);var e=[];if("string"==typeof i)Po(this,i)&&(e=ji(e,this.g.get(U(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=ji(e,i[t])}return e},ie.set=function(i,e){return Si(this),this.i=null,Po(this,i=U(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ie.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],l=encodeURIComponent(String(s));s=this.R(s);for(var p=0;p<s.length;p++){var v=l;""!==s[p]&&(v+="="+encodeURIComponent(String(s[p]))),i.push(v)}}return this.i=i.join("&")};var Le=10;function Bt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function vn(i){return i.h?1:i.g?i.g.size:0}function ki(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function $i(i,e){i.g?i.g.add(e):i.h=e}function _i(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function yo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return dr(i.i)}function vo(){}function Ka(){this.g=new vo}function eu(i,e,t){const s=t||"";try{Us(i,function(l,p){let v=l;Ge(l)&&(v=yr(l)),e.push(s+p+"="+encodeURIComponent(v))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Hs(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch(p){}}function Ai(i){this.l=i.$b||null,this.j=i.ib||!1}function ts(i,e){at.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vo.prototype.stringify=function(i){return ve.JSON.stringify(i,void 0)},vo.prototype.parse=function(i){return ve.JSON.parse(i,void 0)},Ln(Ai,na),Ai.prototype.g=function(){return new ts(this.l,this.j)},Ai.prototype.i=function(i){return function(){return i}}({}),Ln(ts,at);var _a=0;function bo(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Wi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ya(i)}function ya(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ie=ts.prototype).open=function(i,e){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ya(this)},ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ve).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wi(this)),this.readyState=_a},ie.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ve.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bo(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ie.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wi(this):ya(this),3==this.readyState&&bo(this)}},ie.Ua=function(i){this.g&&(this.response=this.responseText=i,Wi(this))},ie.Ta=function(i){this.g&&(this.response=i,Wi(this))},ie.ha=function(){this.g&&Wi(this)},ie.setRequestHeader=function(i,e){this.v.append(i,e)},ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Pa=ve.JSON.parse;function Wr(i){at.call(this),this.headers=new $r,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ka,this.K=this.L=!1}Ln(Wr,at);var ka="",va=/^https?$/i,Fa=["POST","PUT"];function El(i){return"content-type"==i.toLowerCase()}function Ja(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ko(i),ia(i)}function ko(i){i.D||(i.D=!0,jt(i,"complete"),jt(i,"error"))}function Fo(i){if(i.h&&void 0!==ue&&(!i.C[1]||4!=$s(i)||2!=i.ba()))if(i.v&&4==$s(i))le(i.Fa,0,i);else if(jt(i,"readystatechange"),4==$s(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===A){var l=String(i.H).match(Es)[1]||null;if(!l&&ve.self&&ve.self.location){var p=ve.self.location.protocol;l=p.substr(0,p.length-1)}s=!va.test(l?l.toLowerCase():"")}t=s}if(t)jt(i,"complete"),jt(i,"success");else{i.m=6;try{var v=2<$s(i)?i.g.statusText:""}catch(j){v=""}i.j=v+" ["+i.ba()+"]",ko(i)}}finally{ia(i)}}}function ia(i,e){if(i.g){Lo(i);const t=i.g,s=i.C[0]?Oe:null;i.g=null,i.C=null,e||jt(i,"ready");try{t.onreadystatechange=s}catch(l){}}}function Lo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ve.clearTimeout(i.A),i.A=null)}function $s(i){return i.g?i.g.readyState:0}function Qa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ka:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xa(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Vo(i){let e="";return Et(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Be(i,e,t))}function sa(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function zi(i){this.za=0,this.l=[],this.h=new Gr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sa("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sa("baseRetryDelayMs",5e3,i),this.$a=sa("retryDelaySeedMs",1e4,i),this.Ya=sa("forwardChannelMaxRetries",2,i),this.ra=sa("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new $(i&&i.concurrentRequestLimit),this.Ca=new Ka,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Bo(i){if(La(i),3==i.G){var e=i.V++,t=F(i.F);Be(t,"SID",i.J),Be(t,"RID",e),Be(t,"TYPE","terminate"),oa(i,t),(e=new mi(i,i.h,e,void 0)).K=2,e.v=lt(F(t)),t=!1,ve.navigator&&ve.navigator.sendBeacon&&(t=ve.navigator.sendBeacon(e.v.toString(),"")),!t&&ve.Image&&((new Image).src=e.v,t=!0),t||(e.g=wo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Hr(e)}aa(i)}function Jr(i){i.g&&(yi(i),i.g.cancel(),i.g=null)}function La(i){Jr(i),i.u&&(ve.clearTimeout(i.u),i.u=null),Va(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ve.clearTimeout(i.m),i.m=null)}function Qu(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Nu(i)}function Nu(i){Bt(i.i)||i.m||(i.m=!0,wr(i.Ha,i),i.C=0)}function Mu(i,e){var t;t=e?e.m:i.V++;const s=F(i.F);Be(s,"SID",i.J),Be(s,"RID",t),Be(s,"AID",i.U),oa(i,s),i.o&&i.s&&Xa(s,i.o,i.s),t=new mi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ts(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),$i(i.i,t),xs(t,s,e)}function oa(i,e){i.j&&Us({},function(t,s){Be(e,s,t)})}function Ts(i,e,t){t=Math.min(i.l.length,t);var s=i.j?qt(i.j.Oa,i.j,i):null;e:{var l=i.l;let p=-1;for(;;){const v=["count="+t];-1==p?0<t?(p=l[0].h,v.push("ofs="+p)):p=0:v.push("ofs="+p);let A=!0;for(let j=0;j<t;j++){let q=l[j].h;const oe=l[j].g;if(q-=p,0>q)p=Math.max(0,l[j].h-100),A=!1;else try{eu(oe,v,"req"+q+"_")}catch(_e){s&&s(oe)}}if(A){s=v.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,s}function Uo(i){i.g||i.u||(i.Y=1,wr(i.Ga,i),i.A=0)}function Ws(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Pi(qt(i.Ga,i),jo(i,i.A)),i.A++,0))}function yi(i){null!=i.B&&(ve.clearTimeout(i.B),i.B=null)}function Cl(i){i.g=new mi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=F(i.oa);Be(e,"RID","rpc"),Be(e,"SID",i.J),Be(e,"CI",i.N?"0":"1"),Be(e,"AID",i.U),oa(i,e),Be(e,"TYPE","xmlhttp"),i.o&&i.s&&Xa(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=lt(F(e)),t.s=null,t.U=!0,ra(t,i)}function Va(i){null!=i.v&&(ve.clearTimeout(i.v),i.v=null)}function zs(i,e){var t=null;if(i.g==e){Va(i),yi(i),i.g=null;var s=2}else{if(!ki(i.i,e))return;t=e.D,_i(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;jt(s=Os(),new ea(s,t,e,l)),Nu(i)}else Uo(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==s&&function ns(i,e){return!(vn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Pi(qt(i.Ha,i,e),jo(i,i.C)),i.C++,0)))}(i,e)||2==s&&Ws(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:Do(i,5);break;case 4:Do(i,10);break;case 3:Do(i,6);break;default:Do(i,2)}}function jo(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Do(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var s=qt(i.jb,i);t||(t=new Hn("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||Y(t,"https"),lt(t)),function Ra(i,e){const t=new Gr;if(ve.Image){const s=new Image;s.onload=Wt(Hs,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Wt(Hs,t,s,"TestLoadImage: error",!1,e),s.onabort=Wt(Hs,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Wt(Hs,t,s,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else gi(2);i.G=0,i.j&&i.j.va(e),aa(i),La(i)}function aa(i){i.G=0,i.I=-1,i.j&&((0!=yo(i.i).length||0!=i.l.length)&&(i.i.i.length=0,dr(i.l),i.l.length=0),i.j.ua())}function Go(i,e,t){let s=function Dt(i){return i instanceof Hn?F(i):new Hn(i,void 0)}(t);if(""!=s.i)e&&L(s,e+"."+s.i),Q(s,s.m);else{const l=ve.location;s=function kn(i,e,t,s){var l=new Hn(null,void 0);return i&&Y(l,i),e&&L(l,e),t&&Q(l,t),s&&(l.l=s),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Et(i.aa,function(l,p){Be(s,p,l)}),t=i.sa,(e=i.D)&&t&&Be(s,e,t),Be(s,"VER",i.ma),oa(i,s),s}function wo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&i.Ba&&!i.qa?new Ai({ib:!0}):i.qa)).L=i.H,e}function Tl(){}function el(){if(tn&&!(10<=Number(Lt)))throw Error("Environmental error: no available transport.")}function qs(i,e){at.call(this),this.g=new zi(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!li(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!li(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Is(this)}function qi(i){xa.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function tl(){vs.call(this),this.status=1}function Is(i){this.g=i}(ie=Wr.prototype).ea=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qi.g(),this.C=function Oo(i){return i.h||(i.h=i.i())}(this.u?this.u:Qi),this.g.onreadystatechange=qt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void Ja(this,p)}i=t||"";const l=new $r(this.headers);s&&Us(s,function(p,v){l.set(v,p)}),s=function ai(i){e:{var e=El;const t=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in s&&e.call(void 0,s[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=ve.FormData&&i instanceof ve.FormData,!(0<=un(Fa,e))||s||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(p,v){this.g.setRequestHeader(v,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Lo(this),0<this.B&&((this.K=function Ya(i){return tn&&function En(){return function Mr(i){var e=ui;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Nr(String(rr)).split("."),t=Nr("9").split("."),s=Math.max(e.length,t.length);for(let v=0;0==i&&v<s;v++){var l=e[v]||"",p=t[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==l[0].length&&0==p[0].length)break;i=Mi(0==l[1].length?0:parseInt(l[1],10),0==p[1].length?0:parseInt(p[1],10))||Mi(0==l[2].length,0==p[2].length)||Mi(l[2],p[2]),l=l[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qt(this.pa,this)):this.A=le(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){Ja(this,p)}},ie.pa=function(){void 0!==ue&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,jt(this,"complete"),jt(this,"abort"),ia(this))},ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ia(this,!0)),Wr.Z.M.call(this)},ie.Fa=function(){this.s||(this.F||this.v||this.l?Fo(this):this.cb())},ie.cb=function(){Fo(this)},ie.ba=function(){try{return 2<$s(this)?this.g.status:-1}catch(i){return-1}},ie.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ie.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Pa(e)}},ie.Da=function(){return this.m},ie.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=zi.prototype).ma=8,ie.G=1,ie.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ie.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new mi(this,this.h,i,void 0);let p=this.s;if(this.P&&(p?(p=_r(p),nr(p,this.P)):p=this.P),null===this.o&&(l.H=p),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ts(this,l,e),Be(t=F(this.F),"RID",i),Be(t,"CVER",22),this.D&&Be(t,"X-HTTP-Session-Id",this.D),oa(this,t),this.o&&p&&Xa(t,this.o,p),$i(this.i,l),this.Ra&&Be(t,"TYPE","init"),this.ja?(Be(t,"$req",e),Be(t,"SID","null"),l.$=!0,xs(l,t,null)):xs(l,t,e),this.G=2}}else 3==this.G&&(i?Mu(this,i):0==this.l.length||Bt(this.i)||Mu(this))},ie.Ga=function(){if(this.u=null,Cl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Pi(qt(this.bb,this),i)}},ie.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gi(10),Jr(this),Cl(this))},ie.ab=function(){null!=this.v&&(this.v=null,Jr(this),Ws(this),gi(19))},ie.jb=function(i){i?(this.h.info("Successfully pinged google.com"),gi(2)):(this.h.info("Failed to ping google.com"),gi(1))},(ie=Tl.prototype).xa=function(){},ie.wa=function(){},ie.va=function(){},ie.ua=function(){},ie.Oa=function(){},el.prototype.g=function(i,e){return new qs(i,e)},Ln(qs,at),qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),wr(qt(i.hb,i,e))),gi(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Go(i,null,i.W),Nu(i)},qs.prototype.close=function(){Bo(this.g)},qs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Qu(this.g,e)}else this.v?((e={}).__data__=yr(i),Qu(this.g,e)):Qu(this.g,i)},qs.prototype.M=function(){this.g.j=null,delete this.j,Bo(this.g),delete this.g,qs.Z.M.call(this)},Ln(qi,xa),Ln(tl,vs),Ln(Is,Tl),Is.prototype.xa=function(){jt(this.g,"a")},Is.prototype.wa=function(i){jt(this.g,new qi(i))},Is.prototype.va=function(i){jt(this.g,new tl(i))},Is.prototype.ua=function(){jt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,ta.COMPLETE="complete",Xs.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",at.prototype.listen=at.prototype.N,Wr.prototype.listenOnce=Wr.prototype.O,Wr.prototype.getLastError=Wr.prototype.La,Wr.prototype.getLastErrorCode=Wr.prototype.Da,Wr.prototype.getStatus=Wr.prototype.ba,Wr.prototype.getResponseJson=Wr.prototype.Qa,Wr.prototype.getResponseText=Wr.prototype.ga,Wr.prototype.send=Wr.prototype.ea;var tu=be.createWebChannelTransport=function(){return new el},ba=be.getStatEventTarget=function(){return Os()},Ho=be.ErrorCode=Qs,Ou=be.EventType=ta,pr=be.Event=Hi,Il=be.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},no=be.FetchXmlHttpFactory=Ai,$o=be.WebChannel=Xs,Vi=be.XhrIo=Wr;const Sl="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let N="9.6.10";const C=new Je.Yd("@firebase/firestore");function w(){return C.logLevel}function P(i,...e){if(C.logLevel<=Je.in.DEBUG){const t=e.map(ge);C.debug(`Firestore (${N}): ${i}`,...t)}}function Z(i,...e){if(C.logLevel<=Je.in.ERROR){const t=e.map(ge);C.error(`Firestore (${N}): ${i}`,...t)}}function se(i,...e){if(C.logLevel<=Je.in.WARN){const t=e.map(ge);C.warn(`Firestore (${N}): ${i}`,...t)}}function ge(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Me(i="Unexpected state"){const e=`FIRESTORE (${N}) INTERNAL ASSERTION FAILED: `+i;throw Z(e),new Error(e)}function ut(i,e){i||Me()}function nt(i,e){return i}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ro{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ss{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class Da{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wo{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const p=q=>this.i!==l?(l=this.i,t(q)):Promise.resolve();let v=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Rr,e.enqueueRetryable(()=>p(this.currentUser))};const A=()=>{const q=v;e.enqueueRetryable((0,u.Z)(function*(){yield q.promise,yield p(s.currentUser)}))},j=q=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(q=>j(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?j(q):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Rr)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut("string"==typeof s.accessToken),new ro(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Qr(e)}}class nu{constructor(e,t,s){this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class io{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new nu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ru{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ba{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=p=>{null!=p.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.p;return this.p=p.token,P("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const l=p=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?l(p):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.p=t.token,new ru(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.I(s),this.T=s=>t.writeSequenceNumber(s))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ua(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}Fi.A=-1;class Zs{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=Ua(40);for(let p=0;p<l.length;++p)s.length<20&&l[p]<t&&(s+=e.charAt(l[p]%e.length))}return s}}function $n(i,e){return i<e?-1:i>e?1:0}function la(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function nl(i){return i+"\0"}class fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new fi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$n(this.nanoseconds,e.nanoseconds):$n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new fi(0,0))}static max(){return new bn(new fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function vi(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function wa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Md(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class iu{constructor(e,t,s){void 0===t?t=0:t>e.length&&Me(),void 0===s?s=e.length-t:s>e.length-t&&Me(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===iu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const p=e.get(l),v=t.get(l);if(p<v)return-1;if(p>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kn extends iu{construct(e,t,s){return new Kn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new Kn(t)}static emptyPath(){return new Kn([])}}const Od=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fs extends iu{construct(e,t,s){return new fs(e,t,s)}static isValidIdentifier(e){return Od.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fs(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const p=()=>{if(0===s.length)throw new We(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let v=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new We(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[l+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new We(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=j,l+=2}else"`"===A?(v=!v,l++):"."!==A||v?(s+=A,l++):(p(),l++)}if(p(),v)throw new We(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fs(t)}static emptyPath(){return new fs([])}}class rl{constructor(e){this.fields=e,e.sort(fs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Bi(t)}static fromUint8Array(e){const t=function(s){let l="";for(let p=0;p<s.length;++p)l+=String.fromCharCode(s[p]);return l}(e);return new Bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const Xr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(i){if(ut(!!i),"string"==typeof i){let e=0;const t=Xr.exec(i);if(ut(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vr(i.seconds),nanos:Vr(i.nanos)}}function Vr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function il(i){return"string"==typeof i?Bi.fromBase64String(i):Bi.fromUint8Array(i)}function Nl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ps(i){const e=i.mapValue.fields.__previous_value__;return Nl(e)?ps(e):e}function rs(i){const e=Ks(i.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}class Xu{constructor(e,t,s,l,p,v,A,j){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=j}}class bi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bi&&e.projectId===this.projectId&&e.database===this.database}}function gs(i){return null==i}function As(i){return 0===i&&1/i==-1/0}function Ml(i){return"number"==typeof i&&Number.isInteger(i)&&!As(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Kn.fromString(e))}static fromName(e){return new Ct(Kn.fromString(e).popFirst(5))}static empty(){return new Ct(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Kn(e.slice()))}}const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},so={nullValue:"NULL_VALUE"};function Ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nl(i)?4:xu(i)?9:10:Me()}function Ni(i,e){if(i===e)return!0;const t=Ea(i);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return rs(i).isEqual(rs(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const p=Ks(s.timestampValue),v=Ks(l.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,il(i.bytesValue).isEqual(il(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Vr(s.geoPointValue.latitude)===Vr(l.geoPointValue.latitude)&&Vr(s.geoPointValue.longitude)===Vr(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Vr(s.integerValue)===Vr(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const p=Vr(s.doubleValue),v=Vr(l.doubleValue);return p===v?As(p)===As(v):isNaN(p)&&isNaN(v)}return!1}(i,e);case 9:return la(i.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(s,l){const p=s.mapValue.fields||{},v=l.mapValue.fields||{};if(vi(p)!==vi(v))return!1;for(const A in p)if(p.hasOwnProperty(A)&&(void 0===v[A]||!Ni(p[A],v[A])))return!1;return!0}(i,e);default:return Me()}var l}function sl(i,e){return void 0!==(i.values||[]).find(t=>Ni(t,e))}function oo(i,e){if(i===e)return 0;const t=Ea(i),s=Ea(e);if(t!==s)return $n(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return $n(i.booleanValue,e.booleanValue);case 2:return function(l,p){const v=Vr(l.integerValue||l.doubleValue),A=Vr(p.integerValue||p.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return ec(i.timestampValue,e.timestampValue);case 4:return ec(rs(i),rs(e));case 5:return $n(i.stringValue,e.stringValue);case 6:return function(l,p){const v=il(l),A=il(p);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,p){const v=l.split("/"),A=p.split("/");for(let j=0;j<v.length&&j<A.length;j++){const q=$n(v[j],A[j]);if(0!==q)return q}return $n(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,p){const v=$n(Vr(l.latitude),Vr(p.latitude));return 0!==v?v:$n(Vr(l.longitude),Vr(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,p){const v=l.values||[],A=p.values||[];for(let j=0;j<v.length&&j<A.length;++j){const q=oo(v[j],A[j]);if(q)return q}return $n(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,p){const v=l.fields||{},A=Object.keys(v),j=p.fields||{},q=Object.keys(j);A.sort(),q.sort();for(let oe=0;oe<A.length&&oe<q.length;++oe){const _e=$n(A[oe],q[oe]);if(0!==_e)return _e;const qe=oo(v[A[oe]],j[q[oe]]);if(0!==qe)return qe}return $n(A.length,q.length)}(i.mapValue,e.mapValue);default:throw Me()}}function ec(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return $n(i,e);const t=Ks(i),s=Ks(e),l=$n(t.seconds,s.seconds);return 0!==l?l:$n(t.nanos,s.nanos)}function Eo(i){return Ol(i)}function Ol(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=Ks(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?il(i.bytesValue).toBase64():"referenceValue"in i?Ct.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",p=!0;for(const v of s.values||[])p?p=!1:l+=",",l+=Ol(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let p="{",v=!0;for(const A of l)v?v=!1:p+=",",p+=`${A}:${Ol(s.fields[A])}`;return p+"}"}(i.mapValue):Me();var e}function xl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ou(i){return!!i&&"integerValue"in i}function ao(i){return!!i&&"arrayValue"in i}function Uc(i){return!!i&&"nullValue"in i}function lo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rl(i){return!!i&&"mapValue"in i}function ol(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return wa(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ol(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(i.arrayValue.values[t]);return e}return Object.assign({},i)}function xu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ja(i,e){return void 0===i?e:void 0===e||oo(i,e)>0?i:e}function Pl(i,e){return void 0===i?e:void 0===e||oo(i,e)<0?i:e}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=fs.emptyPath(),s={},l=[];e.forEach((v,A)=>{if(!t.isImmediateParentOf(A)){const j=this.getFieldsMap(t);this.applyChanges(j,s,l),s={},l=[],t=A.popLast()}v?s[A.lastSegment()]=ol(v):l.push(A.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,s,l)}delete(e){const t=this.field(e.popLast());Rl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];Rl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){wa(t,(l,p)=>e[l]=p);for(const l of s)delete e[l]}clone(){return new Zi(ol(this.value))}}function O(i){const e=[];return wa(i.fields,(t,s)=>{const l=new fs([t]);if(Rl(s)){const p=O(s.mapValue).fields;if(0===p.length)e.push(l);else for(const v of p)e.push(l.child(v))}else e.push(l)}),new rl(e)}class V{constructor(e,t,s,l,p,v){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.data=p,this.documentState=v}static newInvalidDocument(e){return new V(e,0,bn.min(),bn.min(),Zi.empty(),0)}static newFoundDocument(e,t,s){return new V(e,1,t,bn.min(),s,0)}static newNoDocument(e,t){return new V(e,2,t,bn.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new V(e,3,t,bn.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof V&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new V(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class J{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function ae(i){return i.fields.find(e=>2===e.kind)}function Fe(i){return i.fields.filter(e=>2!==e.kind)}J.UNKNOWN_ID=-1;class ze{constructor(e,t){this.fieldPath=e,this.kind=t}}class yt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yt(0,cn.min())}}function $t(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=bn.fromTimestamp(1e9===s?new fi(t+1,0):new fi(t,s));return new cn(l,Ct.empty(),e)}function Xt(i){return new cn(i.readTime,i.key,-1)}class cn{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new cn(bn.min(),Ct.empty(),-1)}static max(){return new cn(bn.max(),Ct.empty(),-1)}}function ir(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ct.comparator(i.documentKey,e.documentKey),0!==t?t:$n(i.largestBatchId,e.largestBatchId))}class In{constructor(e,t=null,s=[],l=[],p=null,v=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=p,this.startAt=v,this.endAt=A,this.P=null}}function Wn(i,e=null,t=[],s=[],l=null,p=null,v=null){return new In(i,e,t,s,l,p,v)}function ei(i){const e=nt(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(l=s).field.canonicalString()+l.op.toString()+Eo(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),gs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Eo(s)).join(",")),e.P=t}return e.P}function Ga(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Mh(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(s=e.filters[l]).op||!t.field.isEqual(s.field)||!Ni(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jc(i.startAt,e.startAt)&&jc(i.endAt,e.endAt)}function uo(i){return Ct.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function is(i,e){return i.filters.filter(t=>t instanceof ti&&t.field.isEqual(e))}class ti extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,s):new Ha(e,t,s):"array-contains"===t?new Fl(e,s):"in"===t?new Pd(e,s):"not-in"===t?new Ah(e,s):"array-contains-any"===t?new Nh(e,s):new ti(e,t,s)}static V(e,t,s){return"in"===t?new xd(e,s):new Rd(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(oo(t,this.value)):null!==t&&Ea(this.value)===Ea(t)&&this.v(oo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Me()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ha extends ti{constructor(e,t,s){super(e,t,s),this.key=Ct.fromName(s.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.v(t)}}class xd extends ti{constructor(e,t){super(e,"in",t),this.keys=au(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rd extends ti{constructor(e,t){super(e,"not-in",t),this.keys=au(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function au(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Ct.fromName(s.referenceValue))}class Fl extends ti{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ao(t)&&sl(t.arrayValue,this.value)}}class Pd extends ti{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sl(this.value.arrayValue,t)}}class Ah extends ti{constructor(e,t){super(e,"not-in",t)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sl(this.value.arrayValue,t)}}class Nh extends ti{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ao(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>sl(this.value.arrayValue,s))}}class Ys{constructor(e,t){this.position=e,this.inclusive=t}}class Ca{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function kd(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const p=e[l],v=i.position[l];if(s=p.field.isKeyField()?Ct.comparator(Ct.fromName(v.referenceValue),t.key):oo(v,t.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function jc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ni(i.position[t],e.position[t]))return!1;return!0}class zo{constructor(e,t=null,s=[],l=[],p=null,v="F",A=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=p,this.limitType=v,this.startAt=A,this.endAt=j,this.D=null,this.C=null}}function Oh(i,e,t,s,l,p,v,A){return new zo(i,e,t,s,l,p,v,A)}function lu(i){return new zo(i)}function tc(i){return!gs(i.limit)&&"F"===i.limitType}function nc(i){return!gs(i.limit)&&"L"===i.limitType}function Ll(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function uu(i){for(const e of i.filters)if(e.S())return e.field;return null}function al(i){return null!==i.collectionGroup}function Ru(i){const e=nt(i);if(null===e.D){e.D=[];const t=uu(e),s=Ll(e);if(null!==t&&null===s)t.isKeyField()||e.D.push(new Ca(t)),e.D.push(new Ca(fs.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.D.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ca(fs.keyField(),p))}}}return e.D}function Co(i){const e=nt(i);if(!e.C)if("F"===e.limitType)e.C=Wn(e.path,e.collectionGroup,Ru(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Ru(e))t.push(new Ca(p.field,"desc"===p.dir?"asc":"desc"));const s=e.endAt?new Ys(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new Ys(e.startAt.position,!e.startAt.inclusive):null;e.C=Wn(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e.C}function Ff(i,e,t){return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ll(i,e){return Ga(Co(i),Co(e))&&i.limitType===e.limitType}function Gc(i){return`${ei(Co(i))}|lt:${i.limitType}`}function Hc(i){return`Query(target=${function kl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Eo(s.value)}`;var s}).join(", ")}]`),gs(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Eo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Eo(t)).join(",")),`Target(${e})`}(Co(i))}; limitType=${i.limitType})`}function $c(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Ct.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,p,v){const A=kd(l,p,v);return l.inclusive?A<=0:A<0}(t.startAt,Ru(t),s)||t.endAt&&!function(l,p,v){const A=kd(l,p,v);return l.inclusive?A>=0:A>0}(t.endAt,Ru(t),s)));var t,s}function Wc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Fd(i){return(e,t)=>{let s=!1;for(const l of Ru(i)){const p=Lf(l,e,t);if(0!==p)return p;s=s||l.field.isKeyField()}return 0}}function Lf(i,e,t){const s=i.field.isKeyField()?Ct.comparator(e.key,t.key):function(l,p,v){const A=p.data.field(l),j=v.data.field(l);return null!==A&&null!==j?oo(A,j):Me()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Me()}}function xh(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:As(e)?"-0":e}}function Rh(i){return{integerValue:""+i}}function zc(i,e){return Ml(e)?Rh(e):xh(i,e)}class qc{constructor(){this._=void 0}}function $a(i,e,t){return i instanceof ic?function(s,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):i instanceof ul?Vf(i,e):i instanceof cu?Ph(i,e):function(s,l){const p=Ld(s,l),v=kh(p)+kh(s.k);return ou(p)&&ou(s.k)?Rh(v):xh(s.M,v)}(i,e)}function rc(i,e,t){return i instanceof ul?Vf(i,e):i instanceof cu?Ph(i,e):t}function Ld(i,e){return i instanceof du?ou(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class ic extends qc{}class ul extends qc{constructor(e){super(),this.elements=e}}function Vf(i,e){const t=Fh(e);for(const s of i.elements)t.some(l=>Ni(l,s))||t.push(s);return{arrayValue:{values:t}}}class cu extends qc{constructor(e){super(),this.elements=e}}function Ph(i,e){let t=Fh(e);for(const s of i.elements)t=t.filter(l=>!Ni(l,s));return{arrayValue:{values:t}}}class du extends qc{constructor(e,t){super(),this.M=e,this.k=t}}function kh(i){return Vr(i.integerValue||i.doubleValue)}function Fh(i){return ao(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Pu{constructor(e,t){this.field=e,this.transform=t}}class Ta{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ua(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fu{}function co(i,e,t){i instanceof cl?function(s,l,p){const v=s.value.clone(),A=sc(s.fieldTransforms,l,p.transformResults);v.setAll(A),l.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(i,e,t):i instanceof ca?function(s,l,p){if(!ua(s.precondition,l))return void l.convertToUnknownDocument(p.version);const v=sc(s.fieldTransforms,l,p.transformResults),A=l.data;A.setAll(Ud(s)),A.setAll(v),l.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vl(i,e,t){var l;i instanceof cl?function(s,l,p){if(!ua(s.precondition,l))return;const v=s.value.clone(),A=oc(s.fieldTransforms,p,l);v.setAll(A),l.convertToFoundDocument(Bd(l),v).setHasLocalMutations()}(i,e,t):i instanceof ca?function(s,l,p){if(!ua(s.precondition,l))return;const v=oc(s.fieldTransforms,p,l),A=l.data;A.setAll(Ud(s)),A.setAll(v),l.convertToFoundDocument(Bd(l),A).setHasLocalMutations()}(i,e,t):ua(i.precondition,l=e)&&l.convertToNoDocument(bn.min())}function Vd(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),p=Ld(s.transform,l||null);null!=p&&(null==t&&(t=Zi.empty()),t.set(s.field,p))}return t||null}function Bl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&la(t,s,(l,p)=>function hu(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof ul&&s instanceof ul||t instanceof cu&&s instanceof cu?la(t.elements,s.elements,Ni):t instanceof du&&s instanceof du?Ni(t.k,s.k):t instanceof ic&&s instanceof ic);var t,s}(l,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}function Bd(i){return i.isFoundDocument()?i.version:bn.min()}class cl extends fu{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}}class ca extends fu{constructor(e,t,s,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=p,this.type=1}}function Ud(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function sc(i,e,t){const s=new Map;ut(i.length===t.length);for(let l=0;l<t.length;l++){const p=i[l],v=p.transform,A=e.data.field(p.field);s.set(p.field,rc(v,A,t[l]))}return s}function oc(i,e,t){const s=new Map;for(const l of i){const p=l.transform,v=t.data.field(l.field);s.set(l.field,$a(p,v,e))}return s}class Ul extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jd extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class pu{constructor(e){this.count=e}}var Br,Yn;function ku(i){switch(i){default:return Me();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function Fu(i){if(void 0===i)return Z("GRPC error has no .code"),ke.UNKNOWN;switch(i){case Br.OK:return ke.OK;case Br.CANCELLED:return ke.CANCELLED;case Br.UNKNOWN:return ke.UNKNOWN;case Br.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Br.INTERNAL:return ke.INTERNAL;case Br.UNAVAILABLE:return ke.UNAVAILABLE;case Br.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Br.NOT_FOUND:return ke.NOT_FOUND;case Br.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Br.ABORTED:return ke.ABORTED;case Br.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Br.DATA_LOSS:return ke.DATA_LOSS;default:return Me()}}(Yn=Br||(Br={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,p]of s)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(t,s)=>{for(const[l,p]of s)e(l,p)})}isEmpty(){return Md(this.inner)}size(){return this.innerSize}}class zr{constructor(e,t){this.comparator=e,this.root=t||ss.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dl(this.root,e,this.comparator,!0)}}class dl{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?s(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,t,s,l,p){this.key=e,this.value=t,this.color=null!=s?s:ss.RED,this.left=null!=l?l:ss.EMPTY,this.right=null!=p?p:ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,p){return new ss(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const p=s(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return ss.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(i,e,t,s,l){return this}insert(i,e,t){return new ss(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lh(this.data.getIterator())}getIteratorFrom(e){return new Lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=s.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new si(this.comparator);return t.data=e,t}}class Lh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Di(i){return i.hasNext()?i.getNext():void 0}const Vh=new zr(Ct.comparator);function da(){return Vh}const Gd=new zr(Ct.comparator);function Zc(){return Gd}function ac(){return new To(i=>i.toString(),(i,e)=>i.isEqual(e))}const Kc=new zr(Ct.comparator),Bf=new si(Ct.comparator);function Pr(...i){let e=Bf;for(const t of i)e=e.add(t);return e}const Uf=new si($n);function Hd(){return Uf}class Yc{constructor(e,t,s,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,t)),new Yc(bn.min(),s,Hd(),da(),Pr())}}class Ia{constructor(e,t,s,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ia(Bi.EMPTY_BYTE_STRING,t,Pr(),Pr(),Pr())}}class os{constructor(e,t,s,l){this.O=e,this.removedTargetIds=t,this.key=s,this.F=l}}class hl{constructor(e,t){this.targetId=e,this.$=t}}class gu{constructor(e,t,s=Bi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class Lu{constructor(){this.B=0,this.L=jl(),this.U=Bi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Pr(),t=Pr(),s=Pr();return this.L.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Me()}}),new Ia(this.U,this.q,e,t,s)}J(){this.G=!1,this.L=jl()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class as{constructor(e){this.nt=e,this.st=new Map,this.it=da(),this.rt=fl(),this.ot=new si($n)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const s=this.lt(t);switch(e.state){case 0:this.ft(t)&&s.W(e.resumeToken);break;case 1:s.tt(),s.K||s.J(),s.W(e.resumeToken);break;case 2:s.tt(),s.K||this.removeTarget(t);break;case 3:this.ft(t)&&(s.et(),s.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),s.W(e.resumeToken));break;default:Me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((s,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,s=e.$.count,l=this.wt(t);if(l){const p=l.target;if(uo(p))if(0===s){const v=new Ct(p.path);this.ct(t,v,V.newNoDocument(v,bn.min()))}else ut(1===s);else this.gt(t)!==s&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((p,v)=>{const A=this.wt(v);if(A){if(p.current&&uo(A.target)){const j=new Ct(A.target.path);null!==this.it.get(j)||this.It(v,j)||this.ct(v,j,V.newNoDocument(j,e))}p.j&&(t.set(v,p.H()),p.J())}});let s=Pr();this.rt.forEach((p,v)=>{let A=!0;v.forEachWhile(j=>{const q=this.wt(j);return!q||2===q.purpose||(A=!1,!1)}),A&&(s=s.add(p))}),this.it.forEach((p,v)=>v.setReadTime(e));const l=new Yc(e,t,this.ot,this.it,s);return this.it=da(),this.rt=fl(),this.ot=new si($n),l}at(e,t){if(!this.ft(e))return;const s=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,s),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,s){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),s&&(this.it=this.it.insert(t,s))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Lu,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new si($n),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||P("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Lu),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function fl(){return new zr(Ct.comparator)}function jl(){return new zr(Ct.comparator)}const qo={asc:"ASCENDING",desc:"DESCENDING"},mu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Wa{constructor(e,t){this.databaseId=e,this.N=t}}function lc(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vu(i,e){return i.N?e.toBase64():e.toUint8Array()}function uc(i,e){return lc(i,e.toTimestamp())}function ls(i){return ut(!!i),bn.fromTimestamp(function(e){const t=Ks(e);return new fi(t.seconds,t.nanos)}(i))}function pl(i,e){return(t=i,new Kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $d(i){const e=Kn.fromString(i);return ut(ee(e)),e}function ho(i,e){return pl(i.databaseId,e.path)}function ha(i,e){const t=$d(e);if(t.get(1)!==i.databaseId.projectId)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ct(Qc(t))}function Jc(i,e){return pl(i.databaseId,e)}function cc(i){const e=$d(i);return 4===e.length?Kn.emptyPath():Qc(e)}function _u(i){return new Kn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qc(i){return ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function us(i,e,t){return{name:ho(i,e),fields:t.value.mapValue.fields}}function dc(i,e,t){const s=ha(i,e.name),l=ls(e.updateTime),p=new Zi({mapValue:{fields:e.fields}}),v=V.newFoundDocument(s,l,p);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function Js(i,e){let t;if(e instanceof cl)t={update:us(i,e.key,e.value)};else if(e instanceof Ul)t={delete:ho(i,e.key)};else if(e instanceof ca)t={update:us(i,e.key,e.data),updateMask:H(e.fieldMask)};else{if(!(e instanceof jd))return Me();t={verify:ho(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,p){const v=p.transform;if(v instanceof ic)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof ul)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof cu)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof du)return{fieldPath:p.field.canonicalString(),increment:v.k};throw Me()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:uc(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Me()),t;var l}function gl(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Nn.updateTime(ls(l.updateTime)):void 0!==l.exists?Nn.exists(l.exists):Nn.none():Nn.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(p,v){let A=null;"setToServerValue"in v?(ut("REQUEST_TIME"===v.setToServerValue),A=new ic):"appendMissingElements"in v?A=new ul(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new cu(v.removeAllFromArray.values||[]):"increment"in v?A=new du(p,v.increment):Me();const j=fs.fromServerFormat(v.fieldPath);return new Pu(j,A)}(i,l)):[];var l;if(e.update){const l=ha(i,e.update.name),p=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new rl((e.updateMask.fieldPaths||[]).map(q=>fs.fromServerFormat(q)));return new ca(l,p,v,t,s)}return new cl(l,p,t,s)}if(e.delete){const l=ha(i,e.delete);return new Ul(l,t)}if(e.verify){const l=ha(i,e.verify);return new jd(l,t)}return Me()}function td(i,e){return{documents:[Jc(i,e.path)]}}function fc(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Jc(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jc(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(j){if(0===j.length)return;const q=j.map(oe=>function(_e){if("=="===_e.op){if(lo(_e.value))return{unaryFilter:{field:b(_e.field),op:"IS_NAN"}};if(Uc(_e.value))return{unaryFilter:{field:b(_e.field),op:"IS_NULL"}}}else if("!="===_e.op){if(lo(_e.value))return{unaryFilter:{field:b(_e.field),op:"IS_NOT_NAN"}};if(Uc(_e.value))return{unaryFilter:{field:b(_e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:b(_e.field),op:Wd(_e.op),value:_e.value}}}(oe));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);l&&(t.structuredQuery.where=l);const p=function(j){if(0!==j.length)return j.map(q=>{return{field:b((oe=q).field),direction:Bh(oe.dir)};var oe})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const v=(q=e.limit,i.N||gs(q)?q:{value:q});var q,A,j;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function nd(i){let e=cc(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){ut(1===s);const oe=t.from[0];oe.allDescendants?l=oe.collectionId:e=e.child(oe.collectionId)}let p=[];t.where&&(p=rd(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(oe=>{return new Ca(f((_e=oe).field),function(qe){switch(qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));let A=null;t.limit&&(A=function(oe){let _e;return _e="object"==typeof oe?oe.value:oe,gs(_e)?null:_e}(t.limit));let j=null;var oe;t.startAt&&(j=new Ys((oe=t.startAt).values||[],!!oe.before));let q=null;return t.endAt&&(q=function(oe){return new Ys(oe.values||[],!oe.before)}(t.endAt)),Oh(e,l,v,p,A,"F",j,q)}function rd(i){return i?void 0!==i.unaryFilter?[E(i)]:void 0!==i.fieldFilter?[m(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>rd(e)).reduce((e,t)=>e.concat(t)):Me():[]}function Bh(i){return qo[i]}function Wd(i){return mu[i]}function b(i){return{fieldPath:i.canonicalString()}}function f(i){return fs.fromServerFormat(i.fieldPath)}function m(i){return ti.create(f(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(i.fieldFilter.op),i.fieldFilter.value)}function E(i){switch(i.unaryFilter.op){case"IS_NAN":const e=f(i.unaryFilter.field);return ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=f(i.unaryFilter.field);return ti.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=f(i.unaryFilter.field);return ti.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=f(i.unaryFilter.field);return ti.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}function H(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ee(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Te(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=St(e)),e=tt(i.get(t),e);return St(e)}function tt(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const p=i.charAt(l);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function St(i){return i+"\x01\x01"}function Pt(i){const e=i.length;if(ut(e>=2),2===e)return ut("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Kn.emptyPath();const t=e-2,s=[];let l="";for(let p=0;p<e;){const v=i.indexOf("\x01",p);switch((v<0||v>t)&&Me(),i.charAt(v+1)){case"\x01":const A=i.substring(p,v);let j;0===l.length?j=A:(l+=A,j=l,l=""),s.push(j);break;case"\x10":l+=i.substring(p,v),l+="\0";break;case"\x11":l+=i.substring(p,v+1);break;default:Me()}p=v+2}return new Kn(s)}const mn=["userId","batchId"];function on(i,e){return[i,Te(e)]}function wi(i,e,t){return[i,Te(e),t]}const Io={},Bu=["prefixPath","collectionGroup","readTime","documentId"],id=["prefixPath","collectionGroup","documentId"],pc=["collectionGroup","readTime","prefixPath","documentId"],zd=["canonicalId","targetId"],Gf=["targetId","path"],Gl=["path","targetId"],sd=["collectionId","parent"],gc=["indexId","uid"],qd=["uid","sequenceNumber"],od=["indexId","uid","arrayValue","directionalValue","documentKey"],Zd=["indexId","uid","documentKey"],Kd=["userId","collectionPath","documentId"],Hf=["userId","collectionPath","largestBatchId"],$f=["userId","collectionGroup","largestBatchId"],og=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m_=[...og,"documentOverlays"],Wf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zf=[...Wf,"indexConfiguration","indexState","indexEntries"],Uh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new st((s,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof st?t:st.resolve(t)}catch(t){return st.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):st.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):st.reject(t)}static resolve(e){return new st((t,s)=>{t(e)})}static reject(e){return new st((t,s)=>{s(e)})}static waitFor(e){return new st((t,s)=>{let l=0,p=0,v=!1;e.forEach(A=>{++l,A.next(()=>{++p,v&&p===l&&t()},j=>s(j))}),v=!0,p===l&&t()})}static or(e){let t=st.resolve(!1);for(const s of e)t=t.next(l=>l?st.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,p)=>{s.push(t.call(this,l,p))}),this.waitFor(s)}}class Yd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Rr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Sa(e,t.error)):this.At.resolve()},this.transaction.onerror=s=>{const l=Gh(s.target.error);this.At.reject(new Sa(e,l))}}static open(e,t,s,l){try{return new Yd(t,e.transaction(l,s))}catch(p){throw new Sa(t,p)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qf(t)}}class za{constructor(e,t,s){this.name=e,this.version=t,this.Pt=s,12.2===za.Vt((0,Qe.z$)())&&Z("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),Uu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Qe.hl)())return!1;if(za.St())return!0;const e=(0,Qe.z$)(),t=za.Vt(e),s=0<t&&t<10,l=za.Dt(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Nt(e){var t=this;return(0,u.Z)(function*(){return t.db||(P("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=v=>{s(v.target.result)},p.onblocked=()=>{l(new Sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const A=v.target.error;l("VersionError"===A.name?new We(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new We(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Sa(e,A))},p.onupgradeneeded=v=>{P("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.Pt.kt(v.target.result,p.transaction,v.oldVersion,t.version).next(()=>{P("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=s=>t.Mt(s)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var p=this;return(0,u.Z)(function*(){const v="readonly"===t;let A=0;for(;;){++A;try{p.db=yield p.Nt(e);const j=Yd.open(p.db,e,v?"readonly":"readwrite",s),q=l(j).next(oe=>(j.bt(),oe)).catch(oe=>(j.abort(oe),st.reject(oe))).toPromise();return q.catch(()=>{}),yield j.Rt,q}catch(j){const q="FirebaseError"!==j.name&&A<3;if(P("SimpleDb","Transaction failed with error:",j.message,"Retrying:",q),p.close(),!q)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ag{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Uu(this.Ft.delete())}}class Sa extends We{constructor(e,t){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yu(i){return"IndexedDbTransactionError"===i.name}class qf{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(P("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Uu(s)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),Uu(this.store.add(e))}get(e){return Uu(this.store.get(e)).next(t=>(void 0===t&&(t=null),P("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),Uu(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),Uu(this.store.count())}qt(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),p=[];return this.Gt(l,(v,A)=>{p.push(A)}).next(()=>p)}{const l=this.store.getAll(s.range);return new st((p,v)=>{l.onerror=A=>{v(A.target.error)},l.onsuccess=A=>{p(A.target.result)}})}}Kt(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new st((l,p)=>{s.onerror=v=>{p(v.target.error)},s.onsuccess=v=>{l(v.target.result)}})}Qt(e,t){P("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.jt=!1;const l=this.cursor(s);return this.Gt(l,(p,v,A)=>A.delete())}Wt(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.Gt(l,t)}zt(e){const t=this.cursor({});return new st((s,l)=>{t.onerror=p=>{const v=Gh(p.target.error);l(v)},t.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():s()}):s()}})}Gt(e,t){const s=[];return new st((l,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void l();const j=new ag(A),q=t(A.primaryKey,A.value,j);if(q instanceof st){const oe=q.catch(_e=>(j.done(),st.reject(_e)));s.push(oe)}j.isDone?l():null===j.Lt?A.continue():A.continue(j.Lt)}}).next(()=>st.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.jt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uu(i){return new st((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Gh(s.target.error);t(l)}})}let ad=!1;function Gh(i){const e=za.Vt((0,Qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ad||(ad=!0,setTimeout(()=>{throw s},0)),s}}return i}class Jd extends jh{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fs(i,e){const t=nt(i);return za.xt(t.Ht,e)}class Hh{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&co(p,e,s[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Vl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Vl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(bn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pr())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,s)=>Bl(t,s))&&la(this.baseMutations,e.baseMutations,(t,s)=>Bl(t,s))}}class Qd{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){ut(e.mutations.length===s.length);let l=Kc;const p=e.mutations;for(let v=0;v<p.length;v++)l=l.insert(p[v].key,s[v].version);return new Qd(e,t,s,l)}}class $h{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Aa{constructor(e,t,s,l,p=bn.min(),v=bn.min(),A=Bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xd{constructor(e){this.Jt=e}}function Wh(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:eh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ho(l=i.Jt,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:lc(l,p.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Hl(e.version)};else{if(!e.isUnknownDocument())return Me();s.unknownDocument={path:t.path.toArray(),version:Hl(e.version)}}var l,p;return s}function eh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Hl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ml(i){const e=new fi(i.seconds,i.nanoseconds);return bn.fromTimestamp(e)}function ld(i,e){const t=(e.baseMutations||[]).map(p=>gl(i.Jt,p));for(let p=0;p<e.mutations.length-1;++p){const v=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(v.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const s=e.mutations.map(p=>gl(i.Jt,p)),l=fi.fromMillis(e.localWriteTimeMs);return new Hh(e.batchId,l,t,s)}function ud(i){const e=ml(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?ml(i.lastLimboFreeSnapshotVersion):bn.min();let s;var l;return void 0!==i.query.documents?(ut(1===(l=i.query).documents.length),s=Co(lu(cc(l.documents[0])))):s=Co(nd(i.query)),new Aa(s,i.targetId,0,i.lastListenSequenceNumber,e,t,Bi.fromBase64String(i.resumeToken))}function ug(i,e){const t=Hl(e.snapshotVersion),s=Hl(e.lastLimboFreeSnapshotVersion);let l;l=uo(e.target)?td(i.Jt,e.target):fc(i.Jt,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ei(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function th(i){const e=nd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ff(e,e.limit,"L"):e}function nh(i,e){return new $h(e.largestBatchId,gl(i.Jt,e.overlayMutation))}function rh(i,e){const t=e.path.lastSegment();return[i,Te(e.path.popLast()),t]}class h{getBundleMetadata(e,t){return _(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:ml(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return _(e).put({bundleId:(s=t).id,createTime:Hl(ls(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return c(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:th(l.bundledQuery),readTime:ml(l.readTime)};var l})}saveNamedQuery(e,t){return c(e).put({name:(s=t).name,readTime:Hl(ls(s.readTime)),bundledQuery:s.bundledQuery});var s}}function _(i){return Fs(i,"bundles")}function c(i){return Fs(i,"namedQueries")}class y{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new y(e,t.uid||"")}getOverlay(e,t){return S(e).get(rh(this.userId,t)).next(s=>s?nh(this.M,s):null)}saveOverlays(e,t,s){const l=[];return s.forEach((p,v)=>{const A=new $h(t,v);l.push(this.Xt(e,A))}),st.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(v=>l.add(Te(v.getCollectionPath())));const p=[];return l.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);p.push(S(e).Qt("collectionPathOverlayIndex",A))}),st.waitFor(p)}getOverlaysForCollection(e,t,s){const l=ac(),p=Te(t),v=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return S(e).qt("collectionPathOverlayIndex",v).next(A=>{for(const j of A){const q=nh(this.M,j);l.set(q.getKey(),q)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const p=ac();let v;const A=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return S(e).Wt({index:"collectionGroupOverlayIndex",range:A},(j,q,oe)=>{const _e=nh(this.M,q);p.size()<l||_e.largestBatchId===v?(p.set(_e.getKey(),_e),v=_e.largestBatchId):oe.done()}).next(()=>p)}Xt(e,t){return S(e).put(function(s,l,p){const[v,A,j]=rh(l,p.mutation.key);return{userId:l,collectionPath:A,documentId:j,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Js(s.Jt,p.mutation)}}(this.M,this.userId,t))}}function S(i){return Fs(i,"documentOverlays")}class B{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Vr(e.integerValue));else if("doubleValue"in e){const s=Vr(e.doubleValue);isNaN(s)?this.ne(t,13):(this.ne(t,15),As(s)?t.se(0):t.se(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ne(t,20),"string"==typeof s?t.ie(s):(t.ie(`${s.seconds||""}`),t.se(s.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(il(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ne(t,45),t.se(s.latitude||0),t.se(s.longitude||0)}else"mapValue"in e?xu(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Me()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const s=e.fields||{};this.ne(t,55);for(const l of Object.keys(s))this.re(l,t),this.te(s[l],t)}he(e,t){const s=e.values||[];this.ne(t,50);for(const l of s)this.te(l,t)}ae(e,t){this.ne(t,37),Ct.fromName(e).path.forEach(s=>{this.ne(t,60),this.le(s,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function re(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Se(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const p=re(255&t[l]);if(s+=p,8!==p)break}return s}(i);return Math.ceil(e/8)}B.fe=new B;class Ne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this._e(s.value),s=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.ge(s.value),s=t.next();this.ye()}pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this._e(s);else if(s<2048)this._e(960|s>>>6),this._e(128|63&s);else if(t<"\ud800"||"\udbff"<t)this._e(480|s>>>12),this._e(128|63&s>>>6),this._e(128|63&s);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.ge(s);else if(s<2048)this.ge(960|s>>>6),this.ge(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.ge(480|s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),s=Se(t);this.Ae(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),s=Se(t);this.Ae(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,l,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class rt{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class ht{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Jt{constructor(){this.De=new Ne,this.Ce=new rt(this.De),this.xe=new ht(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class kt{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new kt(this.indexId,this.documentKey,this.arrayValue,s)}}function Vt(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=zn(i.arrayValue,e.arrayValue),0!==t?t:(t=zn(i.directionalValue,e.directionalValue),0!==t?t:Ct.comparator(i.documentKey,e.documentKey)))}function zn(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class fn{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const s=t;s.S()?this.Fe=s:this.Oe.push(s)}}$e(e){const t=ae(e);if(void 0!==t&&!this.Be(t))return!1;const s=Fe(e);let l=0,p=0;for(;l<s.length&&this.Be(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.Fe){const v=s[l];if(!this.Le(this.Fe,v)||!this.Ue(this.Me[p++],v))return!1;++l}for(;l<s.length;++l){const v=s[l];if(p>=this.Me.length||!this.Ue(this.Me[p++],v))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Xn{constructor(){this.qe=new gr}addToCollectionParentIndex(e,t){return this.qe.add(t),st.resolve()}getCollectionParents(e,t){return st.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return st.resolve()}deleteFieldIndex(e,t){return st.resolve()}getDocumentsMatchingTarget(e,t){return st.resolve(null)}getFieldIndex(e,t){return st.resolve(null)}getFieldIndexes(e,t){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}updateCollectionGroup(e,t,s){return st.resolve()}updateIndexEntries(e,t){return st.resolve()}}class gr{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new si(Kn.comparator),p=!l.has(s);return this.index[t]=l.add(s),p}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new si(Kn.comparator)).toArray()}}const At=new Uint8Array(0);class oi{constructor(e){this.user=e,this.Ge=new gr,this.Ke=new To(t=>ei(t),(t,s)=>Ga(t,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const p={collectionId:s,parent:Te(l)};return mr(e).put(p)}return st.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[nl(t),""],!1,!0);return mr(e).qt(l).next(p=>{for(const v of p){if(v.collectionId!==t)break;s.push(Pt(v.parent))}return s})}addFieldIndex(e,t){const s=er(e),l={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var p;return delete l.indexId,s.add(l).next()}deleteFieldIndex(e,t){const s=er(e),l=Un(e),p=sr(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=sr(e);let l=!0;const p=new Map;return st.forEach(this.Qe(t),v=>this.getFieldIndex(e,v).next(A=>{l&&(l=!!A),p.set(v,A)})).next(()=>{if(l){let v=Pr();return st.forEach(p,(A,j)=>{var q;P("IndexedDbIndexManager",`Using index ${q=A,`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map(Fn=>`${Fn.fieldPath}:${Fn.kind}`).join(",")}`} to execute ${ei(t)}`);const oe=function(Fn,cs){const jn=ae(cs);if(void 0===jn)return null;for(const Dr of is(Fn,jn.fieldPath))switch(Dr.op){case"array-contains-any":return Dr.value.arrayValue.values||[];case"array-contains":return[Dr.value]}return null}(j,A),_e=function(Fn,cs){const jn=new Map;for(const Dr of Fe(cs))for(const or of is(Fn,Dr.fieldPath))switch(or.op){case"==":case"in":jn.set(Dr.fieldPath.canonicalString(),or.value);break;case"not-in":case"!=":return jn.set(Dr.fieldPath.canonicalString(),or.value),Array.from(jn.values())}return null}(j,A),qe=function(Fn,cs){const jn=[];let Dr=!0;for(const Ql of Fe(cs)){let pa,Bc=!0;for(const Vs of is(Fn,Ql.fieldPath)){let Yi,Nd=!0;switch(Vs.op){case"<":case"<=":Yi="nullValue"in(or=Vs.value)?so:"booleanValue"in or?{booleanValue:!1}:"integerValue"in or||"doubleValue"in or?{doubleValue:NaN}:"timestampValue"in or?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in or?{stringValue:""}:"bytesValue"in or?{bytesValue:""}:"referenceValue"in or?xl(bi.empty(),Ct.empty()):"geoPointValue"in or?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in or?{arrayValue:{}}:"mapValue"in or?{mapValue:{}}:Me();break;case"==":case"in":case">=":Yi=Vs.value;break;case">":Yi=Vs.value,Nd=!1;break;case"!=":case"not-in":Yi=so}ja(pa,Yi)===Yi&&(pa=Yi,Bc=Nd)}if(null!==Fn.startAt)for(let Vs=0;Vs<Fn.orderBy.length;++Vs)if(Fn.orderBy[Vs].field.isEqual(Ql.fieldPath)){const Yi=Fn.startAt.position[Vs];ja(pa,Yi)===Yi&&(pa=Yi,Bc=Fn.startAt.inclusive);break}if(void 0===pa)return null;jn.push(pa),Dr&&(Dr=Bc)}var or;return new Ys(jn,Dr)}(j,A),pt=function(Fn,cs){const jn=[];let Dr=!0;for(const Ql of Fe(cs)){let pa,Bc=!0;for(const Vs of is(Fn,Ql.fieldPath)){let Yi,Nd=!0;switch(Vs.op){case">=":case">":Yi="nullValue"in(or=Vs.value)?{booleanValue:!1}:"booleanValue"in or?{doubleValue:NaN}:"integerValue"in or||"doubleValue"in or?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in or?{stringValue:""}:"stringValue"in or?{bytesValue:""}:"bytesValue"in or?xl(bi.empty(),Ct.empty()):"referenceValue"in or?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in or?{arrayValue:{}}:"arrayValue"in or?{mapValue:{}}:"mapValue"in or?su:Me(),Nd=!1;break;case"==":case"in":case"<=":Yi=Vs.value;break;case"<":Yi=Vs.value,Nd=!1;break;case"!=":case"not-in":Yi=su}Pl(pa,Yi)===Yi&&(pa=Yi,Bc=Nd)}if(null!==Fn.endAt)for(let Vs=0;Vs<Fn.orderBy.length;++Vs)if(Fn.orderBy[Vs].field.isEqual(Ql.fieldPath)){const Yi=Fn.endAt.position[Vs];Pl(pa,Yi)===Yi&&(pa=Yi,Bc=Fn.endAt.inclusive);break}if(void 0===pa)return null;jn.push(pa),Dr&&(Dr=Bc)}var or;return new Ys(jn,Dr)}(j,A),gt=this.je(A,j,qe),Ut=this.je(A,j,pt),Dn=this.We(A,j,_e),ni=this.ze(A.indexId,oe,gt,!!qe&&qe.inclusive,Ut,!!pt&&pt.inclusive,Dn);return st.forEach(ni,Fn=>s.Kt(Fn,t.limit).next(cs=>{cs.forEach(jn=>{v=v.add(new Ct(Pt(jn.documentKey)))})}))}).next(()=>v)}return st.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,s,l,p,v,A){const j=(null!=t?t.length:1)*Math.max(null!=s?s.length:1,null!=p?p.length:1),q=j/(null!=t?t.length:1),oe=[];for(let _e=0;_e<j;++_e){const qe=t?this.He(t[_e/q]):At,pt=s?this.Je(e,qe,s[_e%q],l):this.Ye(e),gt=p?this.Xe(e,qe,p[_e%q],v):this.Ye(e+1);oe.push(...this.createRange(pt,gt,A.map(Ut=>this.Je(e,qe,Ut,!0))))}return oe}Je(e,t,s,l){const p=new kt(e,Ct.empty(),t,s);return l?p:p.ke()}Xe(e,t,s,l){const p=new kt(e,Ct.empty(),t,s);return l?p.ke():p}Ye(e){return new kt(e,Ct.empty(),At,At)}getFieldIndex(e,t){const s=new fn(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(p=>{const v=p.filter(A=>s.$e(A));return v.sort((A,j)=>j.fields.length-A.fields.length),v.length>0?v[0]:null})}Ze(e,t){const s=new Jt;for(const l of Fe(e)){const p=t.data.field(l.fieldPath);if(null==p)return null;const v=s.Ne(l.kind);B.fe.Zt(p,v)}return s.Se()}He(e){const t=new Jt;return B.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,s){if(null===s)return[];let l=[];l.push(new Jt);let p=0;for(const v of Fe(e)){const A=s[p++];for(const j of l)if(this.tn(t,v.fieldPath)&&ao(A))l=this.en(l,v,A);else{const q=j.Ne(v.kind);B.fe.Zt(A,q)}}return this.nn(l)}je(e,t,s){return null==s?null:this.We(e,t,s.position)}nn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Se();return t}en(e,t,s){const l=[...e],p=[];for(const v of s.arrayValue.values||[])for(const A of l){const j=new Jt;j.seed(A.Se()),B.fe.Zt(v,j.Ne(t.kind)),p.push(j)}return p}tn(e,t){return!!e.filters.find(s=>s instanceof ti&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=er(e),l=Un(e);return(t?s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.qt()).next(p=>{const v=[];return st.forEach(p,A=>l.get([A.indexId,this.uid]).next(j=>{v.push(function(q,oe){const _e=oe?new yt(oe.sequenceNumber,new cn(ml(oe.readTime),new Ct(Pt(oe.documentKey)),oe.largestBatchId)):yt.empty(),qe=q.fields.map(([pt,gt])=>new ze(fs.fromServerFormat(pt),gt));return new J(q.indexId,q.collectionGroup,qe,_e)}(A,j))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const p=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==p?p:$n(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=er(e),p=Un(e);return this.sn(e).next(v=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>st.forEach(A,j=>{return p.put({indexId:j.indexId,uid:this.user.uid||"",sequenceNumber:v,readTime:Hl((qe=s).readTime),documentKey:Te(qe.documentKey.path),largestBatchId:qe.largestBatchId});var qe})))}updateIndexEntries(e,t){const s=new Map;return st.forEach(t,(l,p)=>{const v=s.get(l.collectionGroup);return(v?st.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(A=>(s.set(l.collectionGroup,A),st.forEach(A,j=>this.rn(e,l,j).next(q=>{const oe=this.on(p,j);return q.isEqual(oe)?st.resolve():this.un(e,p,q,oe)}))))})}an(e,t,s){return sr(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,documentKey:Te(t.key.path)})}cn(e,t,s){return sr(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,Te(t.key.path)])}rn(e,t,s){const l=sr(e);let p=new si(Vt);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,Te(t.path)])},(v,A)=>{p=p.add(new kt(s.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>p)}on(e,t){let s=new si(Vt);const l=this.Ze(t,e);if(null==l)return s;const p=ae(t);if(null!=p){const v=e.data.field(p.fieldPath);if(ao(v))for(const A of v.arrayValue.values||[])s=s.add(new kt(t.indexId,e.key,this.He(A),l))}else s=s.add(new kt(t.indexId,e.key,At,l));return s}un(e,t,s,l){P("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(v,A,j,q,oe){const _e=v.getIterator(),qe=A.getIterator();let pt=Di(_e),gt=Di(qe);for(;pt||gt;){let Ut=!1,Dn=!1;if(pt&&gt){const ni=j(pt,gt);ni<0?Dn=!0:ni>0&&(Ut=!0)}else null!=pt?Dn=!0:Ut=!0;Ut?(q(gt),gt=Di(qe)):Dn?(oe(pt),pt=Di(_e)):(pt=Di(_e),gt=Di(qe))}}(s,l,Vt,v=>{p.push(this.an(e,t,v))},v=>{p.push(this.cn(e,t,v))}),st.waitFor(p)}sn(e){let t=1;return Un(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,p)=>{p.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((v,A)=>Vt(v,A)).filter((v,A,j)=>!A||0!==Vt(v,j[A-1]));const l=[];l.push(e);for(const v of s){const A=Vt(v,e),j=Vt(v,t);if(0===A)l[0]=e.ke();else if(A>0&&j<0)l.push(v),l.push(v.ke());else if(j>0)break}l.push(t);const p=[];for(let v=0;v<l.length;v+=2)p.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,""],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,""]));return p}}function mr(i){return Fs(i,"collectionParents")}function sr(i){return Fs(i,"indexEntries")}function er(i){return Fs(i,"indexConfiguration")}function Un(i){return Fs(i,"indexState")}const kr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qr{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ms(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),p=[],v=IDBKeyRange.only(t.batchId);let A=0;const j=s.Wt({range:v},(oe,_e,qe)=>(A++,qe.delete()));p.push(j.next(()=>{ut(1===A)}));const q=[];for(const oe of t.mutations){const _e=wi(e,oe.key.path,t.batchId);p.push(l.delete(_e)),q.push(oe.key)}return st.waitFor(p).next(()=>q)}function Ir(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Me();e=i.noDocument}return JSON.stringify(e).length}qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(41943040,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);class So{constructor(e,t,s,l){this.userId=e,this.M=t,this.indexManager=s,this.referenceDelegate=l,this.hn={}}static Yt(e,t,s,l){ut(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new So(p,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).Wt({index:"userMutationsIndex",range:s},(l,p,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const p=$l(e),v=Zo(e);return v.add({}).next(A=>{ut("number"==typeof A);const j=new Hh(A,t,s,l),q=function(qe,pt,gt){const Ut=gt.baseMutations.map(ni=>Js(qe.Jt,ni)),Dn=gt.mutations.map(ni=>Js(qe.Jt,ni));return{userId:pt,batchId:gt.batchId,localWriteTimeMs:gt.localWriteTime.toMillis(),baseMutations:Ut,mutations:Dn}}(this.M,this.userId,j),oe=[];let _e=new si((qe,pt)=>$n(qe.canonicalString(),pt.canonicalString()));for(const qe of l){const pt=wi(this.userId,qe.key.path,A);_e=_e.add(qe.key.path.popLast()),oe.push(v.put(q)),oe.push(p.put(pt,Io))}return _e.forEach(qe=>{oe.push(this.indexManager.addToCollectionParentIndex(e,qe))}),e.addOnCommittedListener(()=>{this.hn[A]=j.keys()}),st.waitFor(oe).next(()=>j)})}lookupMutationBatch(e,t){return Zo(e).get(t).next(s=>s?(ut(s.userId===this.userId),ld(this.M,s)):null)}ln(e,t){return this.hn[t]?st.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.hn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Zo(e).Wt({index:"userMutationsIndex",range:l},(v,A,j)=>{A.userId===this.userId&&(ut(A.batchId>=s),p=ld(this.M,A)),j.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Zo(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,p,v)=>{s=p.batchId,v.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).qt("userMutationsIndex",t).next(s=>s.map(l=>ld(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=on(this.userId,t.path),l=IDBKeyRange.lowerBound(s),p=[];return $l(e).Wt({range:l},(v,A,j)=>{const[q,oe,_e]=v,qe=Pt(oe);if(q===this.userId&&t.path.isEqual(qe))return Zo(e).get(_e).next(pt=>{if(!pt)throw Me();ut(pt.userId===this.userId),p.push(ld(this.M,pt))});j.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new si($n);const l=[];return t.forEach(p=>{const v=on(this.userId,p.path),A=IDBKeyRange.lowerBound(v),j=$l(e).Wt({range:A},(q,oe,_e)=>{const[qe,pt,gt]=q,Ut=Pt(pt);qe===this.userId&&p.path.isEqual(Ut)?s=s.add(gt):_e.done()});l.push(j)}),st.waitFor(l).next(()=>this.fn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,p=on(this.userId,s),v=IDBKeyRange.lowerBound(p);let A=new si($n);return $l(e).Wt({range:v},(j,q,oe)=>{const[_e,qe,pt]=j,gt=Pt(qe);_e===this.userId&&s.isPrefixOf(gt)?gt.length===l&&(A=A.add(pt)):oe.done()}).next(()=>this.fn(e,A))}fn(e,t){const s=[],l=[];return t.forEach(p=>{l.push(Zo(e).get(p).next(v=>{if(null===v)throw Me();ut(v.userId===this.userId),s.push(ld(this.M,v))}))}),st.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return ms(e.Ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),st.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return st.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return $l(e).Wt({range:s},(p,v,A)=>{if(p[0]===this.userId){const j=Pt(p[1]);l.push(j)}else A.done()}).next(()=>{ut(0===l.length)})})}containsKey(e,t){return Ao(e,this.userId,t)}_n(e){return No(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ao(i,e,t){const s=on(e,t.path),l=s[1],p=IDBKeyRange.lowerBound(s);let v=!1;return $l(i).Wt({range:p,jt:!0},(A,j,q)=>{const[oe,_e,qe]=A;oe===e&&_e===l&&(v=!0),q.done()}).next(()=>v)}function Zo(i){return Fs(i,"mutations")}function $l(i){return Fs(i,"documentMutations")}function No(i){return Fs(i,"mutationQueues")}class fo{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new fo(0)}static gn(){return new fo(-1)}}class ju{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const s=new fo(t.highestTargetId);return t.highestTargetId=s.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>bn.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.yn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.pn(e,l)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(s=>(s.targetCount+=1,this.Tn(t,s),this.pn(e,s))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Mo(e).delete(t.targetId)).next(()=>this.yn(e)).next(s=>(ut(s.targetCount>0),s.targetCount-=1,this.pn(e,s)))}removeTargets(e,t,s){let l=0;const p=[];return Mo(e).Wt((v,A)=>{const j=ud(A);j.sequenceNumber<=t&&null===s.get(j.targetId)&&(l++,p.push(this.removeTargetData(e,j)))}).next(()=>st.waitFor(p)).next(()=>l)}forEachTarget(e,t){return Mo(e).Wt((s,l)=>{const p=ud(l);t(p)})}yn(e){return Gu(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}pn(e,t){return Gu(e).put("targetGlobalKey",t)}In(e,t){return Mo(e).put(ug(this.M,t))}Tn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=ei(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return Mo(e).Wt({range:l,index:"queryTargetsIndex"},(v,A,j)=>{const q=ud(A);Ga(t,q.target)&&(p=q,j.done())}).next(()=>p)}addMatchingKeys(e,t,s){const l=[],p=Na(e);return t.forEach(v=>{const A=Te(v.path);l.push(p.put({targetId:s,path:A})),l.push(this.referenceDelegate.addReference(e,s,v))}),st.waitFor(l)}removeMatchingKeys(e,t,s){const l=Na(e);return st.forEach(t,p=>{const v=Te(p.path);return st.waitFor([l.delete([s,v]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,t){const s=Na(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=Na(e);let p=Pr();return l.Wt({range:s,jt:!0},(v,A,j)=>{const q=Pt(v[1]),oe=new Ct(q);p=p.add(oe)}).next(()=>p)}containsKey(e,t){const s=Te(t.path),l=IDBKeyRange.bound([s],[nl(s)],!1,!0);let p=0;return Na(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([v,A],j,q)=>{0!==v&&(p++,q.done())}).next(()=>p>0)}Et(e,t){return Mo(e).get(t).next(s=>s?ud(s):null)}}function Mo(i){return Fs(i,"targets")}function Gu(i){return Fs(i,"targetGlobal")}function Na(i){return Fs(i,"targetDocuments")}function fa(i){return cd.apply(this,arguments)}function cd(){return cd=(0,u.Z)(function*(i){if(i.code!==ke.FAILED_PRECONDITION||i.message!==Uh)throw i;P("LocalStore","Unexpectedly lost primary lease")}),cd.apply(this,arguments)}function Hu([i,e],[t,s]){const l=$n(i,t);return 0===l?$n(e,s):l}class vu{constructor(e){this.En=e,this.buffer=new si(Hu),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Hu(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dd{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const s=this.Pn?3e5:6e4;P("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,u.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){yu(l)?P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield fa(l)}yield t.vn(e)}))}}class ih{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return st.resolve(Fi.A);const s=new vu(t);return this.Sn.forEachTarget(e,l=>s.bn(l.sequenceNumber)).next(()=>this.Sn.Cn(e,l=>s.bn(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Sn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(kr)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kr):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let s,l,p,v,A,j,q;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),l=this.params.maximumSequenceNumbersToCollect):l=_e,v=Date.now(),this.nthSequenceNumber(e,l))).next(_e=>(s=_e,A=Date.now(),this.removeTargets(e,s,t))).next(_e=>(p=_e,j=Date.now(),this.removeOrphanedDocuments(e,s))).next(_e=>(q=Date.now(),w()<=Je.in.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-oe}ms\n\tDetermined least recently used ${l} in `+(A-v)+`ms\n\tRemoved ${p} targets in `+(j-A)+`ms\n\tRemoved ${_e} documents in `+(q-j)+`ms\nTotal Duration: ${q-oe}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:_e})))}}class bu{constructor(e,t){this.db=e,this.garbageCollector=new ih(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Nn(e){let t=0;return this.Cn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(s,l)=>t(l))}addReference(e,t,s){return hd(e,s)}removeReference(e,t,s){return hd(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return hd(e,t)}Mn(e,t){return function(s,l){let p=!1;return No(s).zt(v=>Ao(s,v,l).next(A=>(A&&(p=!0),st.resolve(!A)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.kn(e,(v,A)=>{if(A<=t){const j=this.Mn(e,v).next(q=>{if(!q)return p++,s.getEntry(e,v).next(()=>(s.removeEntry(v,bn.min()),Na(e).delete([0,Te(v.path)])))});l.push(j)}}).next(()=>st.waitFor(l)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return hd(e,t)}kn(e,t){const s=Na(e);let l,p=Fi.A;return s.Wt({index:"documentTargetsIndex"},([v,A],{path:j,sequenceNumber:q})=>{0===v?(p!==Fi.A&&t(new Ct(Pt(l)),p),p=q,l=j):p=Fi.A}).next(()=>{p!==Fi.A&&t(new Ct(Pt(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hd(i,e){return Na(i).put((s=i.currentSequenceNumber,{targetId:0,path:Te(e.path),sequenceNumber:s}));var s}class Zf{constructor(){this.changes=new To(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,V.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?st.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kf{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return $u(e).put(s)}removeEntry(e,t,s){return $u(e).delete(function(l,p){const v=l.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],eh(p),v[v.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.On(e,s)))}getEntry(e,t){let s=V.newInvalidDocument(t);return $u(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Wu(t))},(l,p)=>{s=this.Fn(t,p)}).next(()=>s)}$n(e,t){let s={size:0,document:V.newInvalidDocument(t)};return $u(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Wu(t))},(l,p)=>{s={document:this.Fn(t,p),size:Ir(p)}}).next(()=>s)}getEntries(e,t){let s=da();return this.Bn(e,t,(l,p)=>{const v=this.Fn(l,p);s=s.insert(l,v)}).next(()=>s)}Ln(e,t){let s=da(),l=new zr(Ct.comparator);return this.Bn(e,t,(p,v)=>{const A=this.Fn(p,v);s=s.insert(p,A),l=l.insert(p,Ir(v))}).next(()=>({documents:s,Un:l}))}Bn(e,t,s){if(t.isEmpty())return st.resolve();let l=new si(Qf);t.forEach(j=>l=l.add(j));const p=IDBKeyRange.bound(Wu(l.first()),Wu(l.last())),v=l.getIterator();let A=v.getNext();return $u(e).Wt({index:"documentKeyIndex",range:p},(j,q,oe)=>{const _e=Ct.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;A&&Qf(A,_e)<0;)s(A,null),A=v.getNext();A&&A.isEqual(_e)&&(s(A,q),A=v.hasNext()?v.getNext():null),A?oe.Ut(Wu(A)):oe.done()}).next(()=>{for(;A;)s(A,null),A=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,s){const l=[t.popLast().toArray(),t.lastSegment(),eh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(e).qt(IDBKeyRange.bound(l,p,!0)).next(v=>{let A=da();for(const j of v){const q=this.Fn(Ct.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);A=A.insert(q.key,q)}return A})}getAllFromCollectionGroup(e,t,s,l){let p=da();const v=Jf(t,s),A=Jf(t,cn.max());return $u(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(j,q,oe)=>{const _e=this.Fn(Ct.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);p=p.insert(_e.key,_e),p.size===l&&oe.done()}).next(()=>p)}newChangeBuffer(e){return new Yf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sh(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}On(e,t){return sh(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const s=function lg(i,e){let t;if(e.document)t=dc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ct.fromSegments(e.noDocument.path),l=ml(e.noDocument.readTime);t=V.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Me();{const s=Ct.fromSegments(e.unknownDocument.path),l=ml(e.unknownDocument.version);t=V.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new fi(s[0],s[1]);return bn.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!s.isNoDocument()||!s.version.isEqual(bn.min()))return s}return V.newInvalidDocument(e)}}class Yf extends Zf{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new To(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new si((p,v)=>$n(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const A=this.Gn.get(p);if(t.push(this.qn.removeEntry(e,p,A.readTime)),v.isValidDocument()){const j=Wh(this.qn.M,v);l=l.add(p.path.popLast()),s+=Ir(j)-A.size,t.push(this.qn.addEntry(e,p,j))}else if(s-=A.size,this.trackRemovals){const j=Wh(this.qn.M,v.convertToNoDocument(bn.min()));t.push(this.qn.addEntry(e,p,j))}}),l.forEach(p=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.qn.updateMetadata(e,s)),st.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(s=>(this.Gn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:s,Un:l})=>(l.forEach((p,v)=>{this.Gn.set(p,{size:v,readTime:s.get(p).readTime})}),s))}}function sh(i){return Fs(i,"remoteDocumentGlobal")}function $u(i){return Fs(i,"remoteDocumentsV14")}function Wu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jf(i,e){const t=e.documentKey.path.toArray();return[i,eh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Qf(i,e){const t=i.path.length-e.path.length;return 0!==t?t:Ct.comparator(i,e)}class __{constructor(e){this.M=e}kt(e,t,s,l){const p=new Yd("createOrUpgrade",t);var A;s<1&&l>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mn,{unique:!0}),A.createObjectStore("documentMutations"),cg(e),function(A){A.createObjectStore("remoteDocuments")}(e));let v=st.resolve();return s<3&&l>=3&&(0!==s&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),cg(e)),v=v.next(()=>function(A){const j=A.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",q)}(p))),s<4&&l>=4&&(0!==s&&(v=v.next(()=>function(A,j){return j.store("mutations").qt().next(q=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mn,{unique:!0});const oe=j.store("mutations"),_e=q.map(qe=>oe.put(qe));return st.waitFor(_e)})}(e,p))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(v=v.next(()=>this.Kn(p))),s<6&&l>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(p)))),s<7&&l>=7&&(v=v.next(()=>this.jn(p))),s<8&&l>=8&&(v=v.next(()=>this.Wn(e,p))),s<9&&l>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(v=v.next(()=>this.zn(p))),s<11&&l>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(v=v.next(()=>{!function(A){const j=A.createObjectStore("documentOverlays",{keyPath:Kd});j.createIndex("collectionPathOverlayIndex",Hf,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",$f,{unique:!1})}(e)})),s<13&&l>=13&&(v=v.next(()=>function(A){const j=A.createObjectStore("remoteDocumentsV14",{keyPath:Bu});j.createIndex("documentKeyIndex",id),j.createIndex("collectionGroupIndex",pc)}(e)).next(()=>this.Hn(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(v=v.next(()=>{!function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:gc}).createIndex("sequenceNumberIndex",qd,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:od}).createIndex("documentKeyIndex",Zd,{unique:!1})}(e)})),v}Qn(e){let t=0;return e.store("remoteDocuments").Wt((s,l)=>{t+=Ir(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Kn(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.qt().next(l=>st.forEach(l,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.qt("userMutationsIndex",v).next(A=>st.forEach(A,j=>{ut(j.userId===p.userId);const q=ld(this.M,j);return ms(e,p.userId,q).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const p=[];return s.Wt((v,A)=>{const j=new Kn(v),q=[0,Te(j)];p.push(t.get(q).next(oe=>oe?st.resolve():t.put({targetId:0,path:Te(j),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>st.waitFor(p))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:sd});const s=t.store("collectionParents"),l=new gr,p=v=>{if(l.add(v)){const A=v.lastSegment(),j=v.popLast();return s.put({collectionId:A,parent:Te(j)})}};return t.store("remoteDocuments").Wt({jt:!0},(v,A)=>{const j=new Kn(v);return p(j.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([v,A,j],q)=>{const oe=Pt(A);return p(oe.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((s,l)=>{const p=ud(l),v=ug(this.M,p);return t.put(v)})}Hn(e,t){const s=t.store("remoteDocuments"),l=[];return s.Wt((p,v)=>{const A=t.store("remoteDocumentsV14"),j=(q=v,q.document?new Ct(Kn.fromString(q.document.name).popFirst(5)):q.noDocument?Ct.fromSegments(q.noDocument.path):q.unknownDocument?Ct.fromSegments(q.unknownDocument.path):Me()).path.toArray();var q;const oe={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};l.push(A.put(oe))}).next(()=>st.waitFor(l))}}function cg(i){i.createObjectStore("targetDocuments",{keyPath:Gf}).createIndex("documentTargetsIndex",Gl,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zd,{unique:!0}),i.createObjectStore("targetGlobal")}const Du="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fd{constructor(e,t,s,l,p,v,A,j,q,oe,_e=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Jn=p,this.window=v,this.document=A,this.Yn=q,this.Xn=oe,this.Zn=_e,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=qe=>Promise.resolve(),!fd.vt())throw new We(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bu(this,l),this.cs=t+"main",this.M=new Xd(j),this.hs=new za(this.cs,this.Zn,new __(this.M)),this.ls=new ju(this.referenceDelegate,this.M),this.fs=new Kf(this.M),this.ds=new h,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===oe&&Z("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(ke.FAILED_PRECONDITION,Du);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Fi(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var s=(0,u.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,u.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,u.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>oh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(yu(e))return P("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return pd(e).get("owner").next(t=>st.resolve(this.bs(t)))}Ps(e){return oh(e).delete(this.clientId)}Vs(){var e=this;return(0,u.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Fs(s,"clientMetadata");return l.qt().next(p=>{const v=e.Ss(p,18e5),A=p.filter(j=>-1===v.indexOf(j));return st.forEach(A,j=>l.delete(j.clientId)).next(()=>A)})}).catch(()=>[]);if(e._s)for(const s of t)e._s.removeItem(e.Ds(s.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?st.resolve(!0):pd(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new We(ke.FAILED_PRECONDITION,Du);return!1}}return!(!this.networkEnabled||!this.inForeground)||oh(e).qt().next(s=>void 0===this.Ss(s,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,A=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&A)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&P("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,u.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Jd(t,Fi.A);return e.As(s).next(()=>e.Ps(s))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(s=>this.vs(s.updateTimeMs,t)&&!this.Cs(s.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>oh(e).qt().next(t=>this.Ss(t,18e5).map(s=>s.clientId)))}get started(){return this.es}getMutationQueue(e,t){return So.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new oi(e)}getDocumentOverlayCache(e){return y.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,s){P("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",p=14===(v=this.Zn)?zf:13===v?Wf:12===v?m_:11===v?og:void Me();var v;let A;return this.hs.runTransaction(e,l,p,j=>(A=new Jd(j,this.ts?this.ts.next():Fi.A),"readwrite-primary"===t?this.Ts(A).next(q=>!!q||this.Es(A)).next(q=>{if(!q)throw Z(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new We(ke.FAILED_PRECONDITION,Uh);return s(A)}).next(q=>this.Rs(A).next(()=>q)):this.Fs(A).next(()=>s(A)))).then(j=>(A.raiseOnCommittedEvent(),j))}Fs(e){return pd(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new We(ke.FAILED_PRECONDITION,Du)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pd(e).put("owner",t)}static vt(){return za.vt()}As(e){const t=pd(e);return t.get("owner").next(s=>this.bs(s)?(P("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):st.resolve())}vs(e,t){const s=Date.now();return!(e<s-t||e>s&&(Z(`Detected an update time that is in the future: ${e} > ${s}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const s=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return P("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Z("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Z("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pd(i){return Fs(i,"owner")}function oh(i){return Fs(i,"clientMetadata")}function ah(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class dg{constructor(e,t,s){this.fs=e,this.$s=t,this.indexManager=s}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Ls(e,t,s))}Ls(e,t,s){return this.fs.getEntry(e,t).next(l=>{for(const p of s)p.applyToLocalView(l);return l})}Us(e,t){e.forEach((s,l)=>{for(const p of t)p.applyToLocalView(l)})}qs(e,t){return this.fs.getEntries(e,t).next(s=>this.Gs(e,s).next(()=>s))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.Us(t,s))}Ks(e,t,s){return Ct.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.Qs(e,t.path):al(t)?this.js(e,t,s):this.Ws(e,t,s);var l}Qs(e,t){return this.Bs(e,new Ct(t)).next(s=>{let l=Zc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}js(e,t,s){const l=t.collectionGroup;let p=Zc();return this.indexManager.getCollectionParents(e,l).next(v=>st.forEach(v,A=>{const j=(q=t,oe=A.child(l),new zo(oe,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,oe;return this.Ws(e,j,s).next(q=>{q.forEach((oe,_e)=>{p=p.insert(oe,_e)})})}).next(()=>p))}Ws(e,t,s){let l;return this.fs.getAllFromCollection(e,t.path,s).next(p=>(l=p,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(p=>{for(const v of p)for(const A of v.mutations){const j=A.key;let q=l.get(j);null==q&&(q=V.newInvalidDocument(j),l=l.insert(j,q)),Vl(A,q,v.localWriteTime),q.isFoundDocument()||(l=l.remove(j))}}).next(()=>(l.forEach((p,v)=>{$c(t,v)||(l=l.remove(p))}),l))}}class qa{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.zs=s,this.Hs=l}static Js(e,t){let s=Pr(),l=Pr();for(const p of t.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new qa(e,t.fromCache,s,l)}}class gd{Ys(e){this.Xs=e}Ks(e,t,s,l){return 0===(p=t).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||s.isEqual(bn.min())?this.Zs(e,t):this.Xs.qs(e,l).next(p=>{const v=this.ti(t,p);return(tc(t)||nc(t))&&this.ei(t.limitType,v,l,s)?this.Zs(e,t):(w()<=Je.in.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hc(t)),this.Xs.Ks(e,t,$t(s,-1)).next(A=>(v.forEach(j=>{A=A.insert(j.key,j)}),A)))});var p}ti(e,t){let s=new si(Fd(e));return t.forEach((l,p)=>{$c(e,p)&&(s=s.add(p))}),s}ei(e,t,s,l){if(s.size!==t.size)return!0;const p="F"===e?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Zs(e,t){return w()<=Je.in.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Hc(t)),this.Xs.Ks(e,t,cn.min())}}class Xf{constructor(e,t,s,l){this.persistence=e,this.ni=t,this.M=l,this.si=new zr($n),this.ii=new To(p=>ei(p),Ga),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(s)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new dg(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function hg(i,e,t,s){return new Xf(i,e,t,s)}function ep(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,u.Z)(function*(i,e){const t=nt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.$s.getAllMutationBatches(s).next(p=>(l=p,t.ui(e),t.$s.getAllMutationBatches(s))).next(p=>{const v=[],A=[];let j=Pr();for(const q of l){v.push(q.batchId);for(const oe of q.mutations)j=j.add(oe.key)}for(const q of p){A.push(q.batchId);for(const oe of q.mutations)j=j.add(oe.key)}return t.ai.qs(s,j).next(q=>({ci:q,removedBatchIds:v,addedBatchIds:A}))})})}),tp.apply(this,arguments)}function fg(i,e){const t=nt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),p=t.oi.newChangeBuffer({trackRemovals:!0});return function(v,A,j,q){const oe=j.batch,_e=oe.keys();let qe=st.resolve();return _e.forEach(pt=>{qe=qe.next(()=>q.getEntry(A,pt)).next(gt=>{const Ut=j.docVersions.get(pt);ut(null!==Ut),gt.version.compareTo(Ut)<0&&(oe.applyToRemoteDocument(gt,j),gt.isValidDocument()&&(gt.setReadTime(j.commitVersion),q.addEntry(gt)))})}),qe.next(()=>v.$s.removeMutationBatch(A,oe))}(t,s,e,p).next(()=>p.apply(s)).next(()=>t.$s.performConsistencyCheck(s)).next(()=>t.ai.qs(s,l))})}function y_(i){const e=nt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function mc(i,e){const t=nt(i),s=e.snapshotVersion;let l=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=t.oi.newChangeBuffer({trackRemovals:!0});l=t.si;const A=[];e.targetChanges.forEach((q,oe)=>{const _e=l.get(oe);if(!_e)return;A.push(t.ls.removeMatchingKeys(p,q.removedDocuments,oe).next(()=>t.ls.addMatchingKeys(p,q.addedDocuments,oe)));let qe=_e.withSequenceNumber(p.currentSequenceNumber);var pt,gt,Ut;e.targetMismatches.has(oe)?qe=qe.withResumeToken(Bi.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):q.resumeToken.approximateByteSize()>0&&(qe=qe.withResumeToken(q.resumeToken,s)),l=l.insert(oe,qe),gt=qe,Ut=q,(0===(pt=_e).resumeToken.approximateByteSize()||gt.snapshotVersion.toMicroseconds()-pt.snapshotVersion.toMicroseconds()>=3e8||Ut.addedDocuments.size+Ut.modifiedDocuments.size+Ut.removedDocuments.size>0)&&A.push(t.ls.updateTargetData(p,qe))});let j=da();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(p,q))}),A.push(pg(p,v,e.documentUpdates).next(q=>{j=q})),!s.isEqual(bn.min())){const q=t.ls.getLastRemoteSnapshotVersion(p).next(oe=>t.ls.setTargetsMetadata(p,p.currentSequenceNumber,s));A.push(q)}return st.waitFor(A).next(()=>v.apply(p)).next(()=>t.ai.Gs(p,j)).next(()=>j)}).then(p=>(t.si=l,p))}function pg(i,e,t){let s=Pr();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let p=da();return t.forEach((v,A)=>{const j=l.get(v);A.isNoDocument()&&A.version.isEqual(bn.min())?(e.removeEntry(v,A.readTime),p=p.insert(v,A)):!j.isValidDocument()||A.version.compareTo(j.version)>0||0===A.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(A),p=p.insert(v,A)):P("LocalStore","Ignoring outdated watch update for ",v,". Current version:",j.version," Watch version:",A.version)}),p})}function Tv(i,e){const t=nt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(s,e)))}function _c(i,e){const t=nt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.ls.getTargetData(s,e).next(p=>p?(l=p,st.resolve(l)):t.ls.allocateTargetId(s).next(v=>(l=new Aa(e,v,0,s.currentSequenceNumber),t.ls.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.si.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.si=t.si.insert(s.targetId,s),t.ii.set(e,s.targetId)),s})}function lh(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,u.Z)(function*(i,e,t){const s=nt(i),l=s.si.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",p,v=>s.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!yu(v))throw v;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}s.si=s.si.remove(e),s.ii.delete(l.target)}),np.apply(this,arguments)}function rp(i,e,t){const s=nt(i);let l=bn.min(),p=Pr();return s.persistence.runTransaction("Execute query","readonly",v=>function(A,j,q){const oe=nt(A),_e=oe.ii.get(q);return void 0!==_e?st.resolve(oe.si.get(_e)):oe.ls.getTargetData(j,q)}(s,v,Co(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,s.ls.getMatchingKeysForTargetId(v,A.targetId).next(j=>{p=j})}).next(()=>s.ni.Ks(v,e,t?l:bn.min(),t?p:Pr())).next(A=>(md(s,Wc(e),A),{documents:A,hi:p})))}function v_(i,e){const t=nt(i),s=nt(t.ls),l=t.si.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",p=>s.Et(p,e).next(v=>v?v.target:null))}function uh(i,e){const t=nt(i),s=t.ri.get(e)||bn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.oi.getAllFromCollectionGroup(l,e,$t(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(md(t,e,l),l))}function md(i,e,t){let s=bn.min();t.forEach((l,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),i.ri.set(e,s)}function yc(){return yc=(0,u.Z)(function*(i,e,t,s){const l=nt(i);let p=Pr(),v=da();for(const q of t){const oe=e.li(q.metadata.name);q.document&&(p=p.add(oe));const _e=e.fi(q);_e.setReadTime(e.di(q.metadata.readTime)),v=v.insert(oe,_e)}const A=l.oi.newChangeBuffer({trackRemovals:!0}),j=yield _c(l,(q=s,Co(lu(Kn.fromString(`__bundle__/docs/${q}`)))));var q;return l.persistence.runTransaction("Apply bundle documents","readwrite",q=>pg(q,A,v).next(oe=>(A.apply(q),oe)).next(oe=>l.ls.removeMatchingKeysForTargetId(q,j.targetId).next(()=>l.ls.addMatchingKeys(q,p,j.targetId)).next(()=>l.ai.Gs(q,oe)).next(()=>oe)))}),yc.apply(this,arguments)}function zh(i,e){return vc.apply(this,arguments)}function vc(){return vc=(0,u.Z)(function*(i,e,t=Pr()){const s=yield _c(i,Co(th(e.bundledQuery))),l=nt(i);return l.persistence.runTransaction("Save named query","readwrite",p=>{const v=ls(e.readTime);if(s.snapshotVersion.compareTo(v)>=0)return l.ds.saveNamedQuery(p,e);const A=s.withResumeToken(Bi.EMPTY_BYTE_STRING,v);return l.si=l.si.insert(A.targetId,A),l.ls.updateTargetData(p,A).next(()=>l.ls.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>l.ls.addMatchingKeys(p,t,s.targetId)).next(()=>l.ds.saveNamedQuery(p,e))})}),vc.apply(this,arguments)}class Iv{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return st.resolve(this._i.get(t))}saveBundleMetadata(e,t){var s;return this._i.set(t.id,{id:(s=t).id,version:s.version,createTime:ls(s.createTime)}),st.resolve()}getNamedQuery(e,t){return st.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(s=t).name,query:th(s.bundledQuery),readTime:ls(s.readTime)}),st.resolve();var s}}class b_{constructor(){this.overlays=new zr(Ct.comparator),this.mi=new Map}getOverlay(e,t){return st.resolve(this.overlays.get(t))}saveOverlays(e,t,s){return s.forEach((l,p)=>{this.Xt(e,t,p)}),st.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.mi.get(s);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.mi.delete(s)),st.resolve()}getOverlaysForCollection(e,t,s){const l=ac(),p=t.length+1,v=new Ct(t.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const j=A.getNext().value,q=j.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===p&&j.largestBatchId>s&&l.set(j.getKey(),j)}return st.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let p=new zr((q,oe)=>q-oe);const v=this.overlays.getIterator();for(;v.hasNext();){const q=v.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>s){let oe=p.get(q.largestBatchId);null===oe&&(oe=ac(),p=p.insert(q.largestBatchId,oe)),oe.set(q.getKey(),q)}}const A=ac(),j=p.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((q,oe)=>A.set(q,oe)),!(A.size()>=l)););return st.resolve(A)}Xt(e,t,s){if(null===s)return;const l=this.overlays.get(s.key);if(null!==l){const v=this.mi.get(l.largestBatchId).delete(s.key);this.mi.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new $h(t,s));let p=this.mi.get(t);void 0===p&&(p=Pr(),this.mi.set(t,p)),this.mi.set(t,p.add(s.key))}}class ip{constructor(){this.gi=new si(Ls.yi),this.pi=new si(Ls.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const s=new Ls(e,t);this.gi=this.gi.add(s),this.pi=this.pi.add(s)}Ti(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Ei(new Ls(e,t))}Ai(e,t){e.forEach(s=>this.removeReference(s,t))}Ri(e){const t=new Ct(new Kn([])),s=new Ls(t,e),l=new Ls(t,e+1),p=[];return this.pi.forEachInRange([s,l],v=>{this.Ei(v),p.push(v.key)}),p}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ct(new Kn([])),s=new Ls(t,e),l=new Ls(t,e+1);let p=Pr();return this.pi.forEachInRange([s,l],v=>{p=p.add(v.key)}),p}containsKey(e){const t=new Ls(e,0),s=this.gi.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ls{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ct.comparator(e.key,t.key)||$n(e.Vi,t.Vi)}static Ii(e,t){return $n(e.Vi,t.Vi)||Ct.comparator(e.key,t.key)}}class mg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new si(Ls.yi)}checkEmpty(e){return st.resolve(0===this.$s.length)}addMutationBatch(e,t,s,l){const p=this.vi;this.vi++;const v=new Hh(p,t,s,l);this.$s.push(v);for(const A of l)this.Si=this.Si.add(new Ls(A.key,p)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return st.resolve(v)}lookupMutationBatch(e,t){return st.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.Ci(t+1),p=l<0?0:l;return st.resolve(this.$s.length>p?this.$s[p]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return st.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ls(t,0),l=new Ls(t,Number.POSITIVE_INFINITY),p=[];return this.Si.forEachInRange([s,l],v=>{const A=this.Di(v.Vi);p.push(A)}),st.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new si($n);return t.forEach(l=>{const p=new Ls(l,0),v=new Ls(l,Number.POSITIVE_INFINITY);this.Si.forEachInRange([p,v],A=>{s=s.add(A.Vi)})}),st.resolve(this.xi(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let p=s;Ct.isDocumentKey(p)||(p=p.child(""));const v=new Ls(new Ct(p),0);let A=new si($n);return this.Si.forEachWhile(j=>{const q=j.key.path;return!!s.isPrefixOf(q)&&(q.length===l&&(A=A.add(j.Vi)),!0)},v),st.resolve(this.xi(A))}xi(e){const t=[];return e.forEach(s=>{const l=this.Di(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){ut(0===this.Ni(t.batchId,"removed")),this.$s.shift();let s=this.Si;return st.forEach(t.mutations,l=>{const p=new Ls(l.key,t.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Si=s})}dn(e){}containsKey(e,t){const s=new Ls(t,0),l=this.Si.firstAfterOrEqual(s);return st.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return st.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class D_{constructor(e){this.ki=e,this.docs=new zr(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),p=l?l.size:0,v=this.ki(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return st.resolve(s?s.document.mutableCopy():V.newInvalidDocument(t))}getEntries(e,t){let s=da();return t.forEach(l=>{const p=this.docs.get(l);s=s.insert(l,p?p.document.mutableCopy():V.newInvalidDocument(l))}),st.resolve(s)}getAllFromCollection(e,t,s){let l=da();const p=new Ct(t.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:A,value:{document:j}}=v.getNext();if(!t.isPrefixOf(A.path))break;A.path.length>t.length+1||ir(Xt(j),s)<=0||(l=l.insert(j.key,j.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(e,t,s,l){Me()}Mi(e,t){return st.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new sp(this)}getSize(e){return st.resolve(this.size)}}class sp extends Zf{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.qn.addEntry(e,l)):this.qn.removeEntry(s)}),st.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class Sv{constructor(e){this.persistence=e,this.Oi=new To(t=>ei(t),Ga),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.Fi=0,this.$i=new ip,this.targetCount=0,this.Bi=fo.mn()}forEachTarget(e,t){return this.Oi.forEach((s,l)=>t(l)),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Fi&&(this.Fi=t),st.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new fo(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,st.resolve()}updateTargetData(e,t){return this.In(t),st.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,t,s){let l=0;const p=[];return this.Oi.forEach((v,A)=>{A.sequenceNumber<=t&&null===s.get(A.targetId)&&(this.Oi.delete(v),p.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),st.waitFor(p).next(()=>l)}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,t){const s=this.Oi.get(t)||null;return st.resolve(s)}addMatchingKeys(e,t,s){return this.$i.Ti(t,s),st.resolve()}removeMatchingKeys(e,t,s){this.$i.Ai(t,s);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(v=>{p.push(l.markPotentiallyOrphaned(e,v))}),st.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),st.resolve()}getMatchingKeysForTargetId(e,t){const s=this.$i.Pi(t);return st.resolve(s)}containsKey(e,t){return st.resolve(this.$i.containsKey(t))}}class w_{constructor(e,t){this.Li={},this.overlays={},this.ts=new Fi(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new Sv(this),this.indexManager=new Xn,this.fs=new D_(s=>this.referenceDelegate.Ui(s)),this.M=new Xd(t),this.ds=new Iv(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Li[e.toKey()];return s||(s=new mg(t,this.referenceDelegate),this.Li[e.toKey()]=s),s}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,s){P("MemoryPersistence","Starting transaction:",e);const l=new kb(this.ts.next());return this.referenceDelegate.qi(),s(l).next(p=>this.referenceDelegate.Gi(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Ki(e,t){return st.or(Object.values(this.Li).map(s=>()=>s.containsKey(e,t)))}}class kb extends jh{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Qi=new ip,this.ji=null}static Wi(e){return new op(e)}get zi(){if(this.ji)return this.ji;throw Me()}addReference(e,t,s){return this.Qi.addReference(s,t),this.zi.delete(s.toString()),st.resolve()}removeReference(e,t,s){return this.Qi.removeReference(s,t),this.zi.add(s.toString()),st.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),st.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(l=>this.zi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.zi.add(p.toString()))}).next(()=>s.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.zi,s=>{const l=Ct.fromPath(s);return this.Hi(e,l).next(p=>{p||t.removeEntry(l,bn.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(s=>{s?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return st.or([()=>st.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function _g(i,e){return`firestore_clients_${i}_${e}`}function E_(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function ap(i,e){return`firestore_targets_${i}_${e}`}class lp{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Ji(e,t,s){const l=JSON.parse(s);let p,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(p=new We(l.error.code,l.error.message))),v?new lp(e,t,l.state,p):(Z("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Ji(e,t){const s=JSON.parse(t);let l,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(l=new We(s.error.code,s.error.message))),p?new qh(e,s.state,l):(Z("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ko{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,p=Hd();for(let v=0;l&&v<s.activeTargetIds.length;++v)l=Ml(s.activeTargetIds[v]),p=p.add(s.activeTargetIds[v]);return l?new Ko(e,p):(Z("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yg{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yg(t.clientId,t.onlineState):(Z("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vg{constructor(){this.activeTargetIds=Hd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C_{constructor(e,t,s,l,p){this.window=e,this.Jn=t,this.persistenceKey=s,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new zr($n),this.started=!1,this.ir=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.rr=_g(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new vg),this.ar=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,u.Z)(function*(){const t=yield e.syncEngine.Os();for(const l of t){if(l===e.tr)continue;const p=e.getItem(_g(e.persistenceKey,l));if(p){const v=Ko.Ji(l,p);v&&(e.sr=e.sr.insert(v.clientId,v))}}e._r();const s=e.storage.getItem(e.lr);if(s){const l=e.wr(s);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,s){this.yr(e,t,s),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ap(this.persistenceKey,e));if(s){const l=qh.Ji(e,s);l&&(t=l.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ap(this.persistenceKey,e))}updateQueryState(e,t,s){this.Tr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.pr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return P("SharedClientState","READ",e,t),t}setItem(e,t){P("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){P("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(P("SharedClientState","EVENT",s.key,s.newValue),s.key===this.rr)return void Z("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,u.Z)(function*(){if(t.started){if(null!==s.key)if(t.ar.test(s.key)){if(null==s.newValue){const l=t.Rr(s.key);return t.br(l,null)}{const l=t.Pr(s.key,s.newValue);if(l)return t.br(l.clientId,l)}}else if(t.cr.test(s.key)){if(null!==s.newValue){const l=t.Vr(s.key,s.newValue);if(l)return t.vr(l)}}else if(t.hr.test(s.key)){if(null!==s.newValue){const l=t.Sr(s.key,s.newValue);if(l)return t.Dr(l)}}else if(s.key===t.lr){if(null!==s.newValue){const l=t.wr(s.newValue);if(l)return t.mr(l)}}else if(s.key===t.ur){const l=function(p){let v=Fi.A;if(null!=p)try{const A=JSON.parse(p);ut("number"==typeof A),v=A}catch(A){Z("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(s.newValue);l!==Fi.A&&t.sequenceNumberHandler(l)}else if(s.key===t.dr){const l=t.Cr(s.newValue);yield Promise.all(l.map(p=>t.syncEngine.Nr(p)))}}else t.ir.push(s)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,s){const l=new lp(this.currentUser,e,t,s),p=E_(this.persistenceKey,this.currentUser,e);this.setItem(p,l.Yi())}pr(e){const t=E_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,s){const l=ap(this.persistenceKey,e),p=new qh(e,t,s);this.setItem(l,p.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const s=this.Rr(e);return Ko.Ji(s,t)}Vr(e,t){const s=this.cr.exec(e),l=Number(s[1]);return lp.Ji(new Qr(void 0!==s[2]?s[2]:null),l,t)}Sr(e,t){const s=this.hr.exec(e),l=Number(s[1]);return qh.Ji(l,t)}wr(e){return yg.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,u.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);P("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const s=t?this.sr.insert(e,t):this.sr.remove(e),l=this.gr(this.sr),p=this.gr(s),v=[],A=[];return p.forEach(j=>{l.has(j)||v.push(j)}),l.forEach(j=>{p.has(j)||A.push(j)}),this.syncEngine.Or(v,A).then(()=>{this.sr=s})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Hd();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Av{constructor(){this.Fr=new vg,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,s){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new vg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T_{Br(e){}shutdown(){}}class Nv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bg{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class I_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,s,l,p){const v=this.oo(e,t);P("RestConnection","Sending: ",v,s);const A={};return this.uo(A,l,p),this.ao(e,v,A,s).then(j=>(P("RestConnection","Received: ",j),j),j=>{throw se("RestConnection",`${e} failed with error: `,j,"url: ",v,"request:",s),j})}co(e,t,s,l,p){return this.ro(e,t,s,l,p)}uo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+N,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),s&&s.headers.forEach((l,p)=>e[p]=l)}oo(e,t){return`${this.so}/v1/${t}:${Mv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,s,l){return new Promise((p,v)=>{const A=new Vi;A.listenOnce(Ou.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Ho.NO_ERROR:const q=A.getResponseJson();P("Connection","XHR received:",JSON.stringify(q)),p(q);break;case Ho.TIMEOUT:P("Connection",'RPC "'+e+'" timed out'),v(new We(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:const oe=A.getStatus();if(P("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",A.getResponseText()),oe>0){const _e=A.getResponseJson().error;if(_e&&_e.status&&_e.message){const qe=function(pt){const gt=pt.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(gt)>=0?gt:ke.UNKNOWN}(_e.status);v(new We(qe,_e.message))}else v(new We(ke.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new We(ke.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{P("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(l);A.send(t,"POST",j,s,15)})}ho(e,t,s){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=tu(),v=ba(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new no({})),this.uo(A.initMessageHeaders,t,s),(0,Qe.uI)()||(0,Qe.b$)()||(0,Qe.d)()||(0,Qe.w1)()||(0,Qe.Mn)()||(0,Qe.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const j=l.join("");P("Connection","Creating WebChannel: "+j,A);const q=p.createWebChannel(j,A);let oe=!1,_e=!1;const qe=new bg({jr:gt=>{_e?P("Connection","Not sending because WebChannel is closed:",gt):(oe||(P("Connection","Opening WebChannel transport."),q.open(),oe=!0),P("Connection","WebChannel sending:",gt),q.send(gt))},Wr:()=>q.close()}),pt=(gt,Ut,Dn)=>{gt.listen(Ut,ni=>{try{Dn(ni)}catch(Fn){setTimeout(()=>{throw Fn},0)}})};return pt(q,$o.EventType.OPEN,()=>{_e||P("Connection","WebChannel transport opened.")}),pt(q,$o.EventType.CLOSE,()=>{_e||(_e=!0,P("Connection","WebChannel transport closed"),qe.eo())}),pt(q,$o.EventType.ERROR,gt=>{_e||(_e=!0,se("Connection","WebChannel transport errored:",gt),qe.eo(new We(ke.UNAVAILABLE,"The operation could not be completed")))}),pt(q,$o.EventType.MESSAGE,gt=>{var Ut;if(!_e){const Dn=gt.data[0];ut(!!Dn);const ni=Dn,Fn=ni.error||(null===(Ut=ni[0])||void 0===Ut?void 0:Ut.error);if(Fn){P("Connection","WebChannel received error:",Fn);const cs=Fn.status;let jn=function(or){const Ql=Br[or];if(void 0!==Ql)return Fu(Ql)}(cs),Dr=Fn.message;void 0===jn&&(jn=ke.INTERNAL,Dr="Unknown error status: "+cs+" with message "+Fn.message),_e=!0,qe.eo(new We(jn,Dr)),q.close()}else P("Connection","WebChannel received:",Dn),qe.no(Dn)}}),pt(v,pr.STAT_EVENT,gt=>{gt.stat===Il.PROXY?P("Connection","Detected buffering proxy"):gt.stat===Il.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(()=>{qe.Zr()},0),qe}}function S_(){return"undefined"!=typeof window?window:null}function up(){return"undefined"!=typeof document?document:null}function Zh(i){return new Wa(i,!0)}class cp{constructor(e,t,s=1e3,l=1.5,p=6e4){this.Jn=e,this.timerId=t,this.lo=s,this.fo=l,this._o=p,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),l=Math.max(0,t-s);l>0&&P("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class A_{constructor(e,t,s,l,p,v,A,j){this.Jn=e,this.Ao=s,this.Ro=l,this.bo=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=j,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new cp(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,u.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,u.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var s=this;return(0,u.Z)(function*(){s.Fo(),s.$o(),s.So.cancel(),s.Po++,4!==e?s.So.reset():t&&t.code===ke.RESOURCE_EXHAUSTED?(Z(t.toString()),Z("Using maximum backoff delay to prevent overloading the backend."),s.So.po()):t&&t.code===ke.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Bo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Po===t&&this.Uo(s,l)},s=>{e(()=>{const l=new We(ke.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(l)})})}Uo(e,t){const s=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{s(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{s(()=>this.qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,u.Z)(function*(){e.state=0,e.start()}))}qo(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N_ extends A_{constructor(e,t,s,l,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,v),this.M=p}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Xc(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Me(),l=e.targetChange.targetIds||[],p=function(j,q){return j.N?(ut(void 0===q||"string"==typeof q),Bi.fromBase64String(q||"")):(ut(void 0===q||q instanceof Uint8Array),Bi.fromUint8Array(q||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(j){const q=void 0===j.code?ke.UNKNOWN:Fu(j.code);return new We(q,j.message||"")}(v);t=new gu(s,l,p,A||null)}else if("documentChange"in e){const s=e.documentChange,l=ha(i,s.document.name),p=ls(s.document.updateTime),v=new Zi({mapValue:{fields:s.document.fields}}),A=V.newFoundDocument(l,p,v);t=new os(s.targetIds||[],s.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const s=e.documentDelete,l=ha(i,s.document),p=s.readTime?ls(s.readTime):bn.min(),v=V.newNoDocument(l,p);t=new os([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,l=ha(i,s.document);t=new os([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Me();{const s=e.filter,p=new pu(s.count||0);t=new hl(s.targetId,p)}}var j;return t}(this.M,e),s=function(l){if(!("targetChange"in l))return bn.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?bn.min():p.readTime?ls(p.readTime):bn.min()}(e);return this.listener.Ko(t,s)}Qo(e){const t={};t.database=_u(this.M),t.addTarget=function(l,p){let v;const A=p.target;return v=uo(A)?{documents:td(l,A)}:{query:fc(l,A)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?v.resumeToken=Vu(l,p.resumeToken):p.snapshotVersion.compareTo(bn.min())>0&&(v.readTime=lc(l,p.snapshotVersion.toTimestamp())),v}(this.M,e);const s=function jf(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Me()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Oo(t)}jo(e){const t={};t.database=_u(this.M),t.removeTarget=e,this.Oo(t)}}class Ov extends A_{constructor(e,t,s,l,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,v),this.M=p,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function ed(i,e){return i&&i.length>0?(ut(void 0!==e),i.map(t=>function(s,l){let p=ls(s.updateTime?s.updateTime:l);return p.isEqual(bn.min())&&(p=ls(l)),new Ta(p,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ls(e.commitTime);return this.listener.Jo(s,t)}return ut(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=_u(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Js(this.M,s))};this.Oo(t)}}class xv extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.M=l,this.Zo=!1}tu(){if(this.Zo)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.bo.ro(e,t,s,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new We(ke.UNKNOWN,l.toString())})}co(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.bo.co(e,t,s,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new We(ke.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class M_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Z(t),this.su=!1):P("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class O_{constructor(e,t,s,l,p){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=p,this.du.Br(A=>{s.enqueueAndForget((0,u.Z)(function*(){var j;wu(v)&&(P("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,u.Z)(function*(q){const oe=nt(q);oe.lu.add(4),yield bc(oe),oe._u.set("Unknown"),oe.lu.delete(4),yield Kh(oe)}),function(q){return j.apply(this,arguments)})(v))}))}),this._u=new M_(s,l)}}function Kh(i){return _l.apply(this,arguments)}function _l(){return _l=(0,u.Z)(function*(i){if(wu(i))for(const e of i.fu)yield e(!0)}),_l.apply(this,arguments)}function bc(i){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,u.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Dg.apply(this,arguments)}function dp(i,e){const t=nt(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Eg(t)?wg(t):wc(t).Co()&&fp(t,e))}function hp(i,e){const t=nt(i),s=wc(t);t.hu.delete(e),s.Co()&&x_(t,e),0===t.hu.size&&(s.Co()?s.ko():wu(t)&&t._u.set("Unknown"))}function fp(i,e){i.wu.Z(e.targetId),wc(i).Qo(e)}function x_(i,e){i.wu.Z(e),wc(i).jo(e)}function wg(i){i.wu=new as({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),wc(i).start(),i._u.iu()}function Eg(i){return wu(i)&&!wc(i).Do()&&i.hu.size>0}function wu(i){return 0===nt(i).lu.size}function R_(i){i.wu=void 0}function Rv(i){return ch.apply(this,arguments)}function ch(){return ch=(0,u.Z)(function*(i){i.hu.forEach((e,t)=>{fp(i,e)})}),ch.apply(this,arguments)}function Cg(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,u.Z)(function*(i,e){R_(i),Eg(i)?(i._u.uu(e),wg(i)):i._u.set("Unknown")}),Tg.apply(this,arguments)}function Ig(i,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,u.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof gu&&2===e.state&&e.cause)try{yield(s=(0,u.Z)(function*(l,p){const v=p.cause;for(const A of p.targetIds)l.hu.has(A)&&(yield l.remoteSyncer.rejectListen(A,v),l.hu.delete(A),l.wu.removeTarget(A))}),function(l,p){return s.apply(this,arguments)})(i,e)}catch(s){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Jh(i,s)}else if(e instanceof os?i.wu.ut(e):e instanceof hl?i.wu._t(e):i.wu.ht(e),!t.isEqual(bn.min()))try{const s=yield y_(i.localStore);t.compareTo(s)>=0&&(yield function(l,p){const v=l.wu.yt(p);return v.targetChanges.forEach((A,j)=>{if(A.resumeToken.approximateByteSize()>0){const q=l.hu.get(j);q&&l.hu.set(j,q.withResumeToken(A.resumeToken,p))}}),v.targetMismatches.forEach(A=>{const j=l.hu.get(A);if(!j)return;l.hu.set(A,j.withResumeToken(Bi.EMPTY_BYTE_STRING,j.snapshotVersion)),x_(l,A);const q=new Aa(j.target,A,1,j.sequenceNumber);fp(l,q)}),l.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(s){P("RemoteStore","Failed to raise snapshot:",s),yield Jh(i,s)}var s}),Yh.apply(this,arguments)}function Jh(i,e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,u.Z)(function*(i,e,t){if(!yu(e))throw e;i.lu.add(1),yield bc(i),i._u.set("Offline"),t||(t=()=>y_(i.localStore)),i.asyncQueue.enqueueRetryable((0,u.Z)(function*(){P("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Kh(i)}))}),Sg.apply(this,arguments)}function P_(i,e){return e().catch(t=>Jh(i,t,e))}function Dc(i){return k_.apply(this,arguments)}function k_(){return k_=(0,u.Z)(function*(i){const e=nt(i),t=qu(e);let s=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;Pv(e);)try{const l=yield Tv(e.localStore,s);if(null===l){0===e.cu.length&&t.ko();break}s=l.batchId,F_(e,l)}catch(l){yield Jh(e,l)}Ag(e)&&Ng(e)}),k_.apply(this,arguments)}function Pv(i){return wu(i)&&i.cu.length<10}function F_(i,e){i.cu.push(e);const t=qu(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function Ag(i){return wu(i)&&!qu(i).Do()&&i.cu.length>0}function Ng(i){qu(i).start()}function L_(i){return pp.apply(this,arguments)}function pp(){return pp=(0,u.Z)(function*(i){qu(i).Xo()}),pp.apply(this,arguments)}function zu(i){return dh.apply(this,arguments)}function dh(){return dh=(0,u.Z)(function*(i){const e=qu(i);for(const t of i.cu)e.Ho(t.mutations)}),dh.apply(this,arguments)}function kv(i,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,u.Z)(function*(i,e,t){const s=i.cu.shift(),l=Qd.from(s,e,t);yield P_(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Dc(i)}),Mg.apply(this,arguments)}function Fb(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,u.Z)(function*(i,e){var t;e&&qu(i).zo&&(yield(t=(0,u.Z)(function*(s,l){if(ku(p=l.code)&&p!==ke.ABORTED){const v=s.cu.shift();qu(s).No(),yield P_(s,()=>s.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield Dc(s)}var p}),function(s,l){return t.apply(this,arguments)})(i,e)),Ag(i)&&Ng(i)}),Qh.apply(this,arguments)}function Og(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,u.Z)(function*(i,e){const t=nt(i);t.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const s=wu(t);t.lu.add(3),yield bc(t),s&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Kh(t)}),Xh.apply(this,arguments)}function _d(i,e){return xg.apply(this,arguments)}function xg(){return xg=(0,u.Z)(function*(i,e){const t=nt(i);e?(t.lu.delete(2),yield Kh(t)):e||(t.lu.add(2),yield bc(t),t._u.set("Unknown"))}),xg.apply(this,arguments)}function wc(i){return i.mu||(i.mu=function(e,t,s){const l=nt(e);return l.tu(),new N_(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,s)}(i.datastore,i.asyncQueue,{zr:Rv.bind(null,i),Jr:Cg.bind(null,i),Ko:Ig.bind(null,i)}),i.fu.push(function(){var e=(0,u.Z)(function*(t){t?(i.mu.No(),Eg(i)?wg(i):i._u.set("Unknown")):(yield i.mu.stop(),R_(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function qu(i){return i.gu||(i.gu=function(e,t,s){const l=nt(e);return l.tu(),new Ov(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,s)}(i.datastore,i.asyncQueue,{zr:L_.bind(null,i),Jr:Fb.bind(null,i),Yo:zu.bind(null,i),Jo:kv.bind(null,i)}),i.fu.push(function(){var e=(0,u.Z)(function*(t){t?(i.gu.No(),yield Dc(i)):(yield i.gu.stop(),i.cu.length>0&&(P("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class gp{constructor(e,t,s,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=p,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,s,l,p){const v=Date.now()+s,A=new gp(e,t,v,l,p);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(i,e){if(Z("AsyncQueue",`${e}: ${i}`),yu(i))return new We(ke.UNAVAILABLE,`${e}: ${i}`);throw i}class hh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ct.comparator(t.key,s.key):(t,s)=>Ct.comparator(t.key,s.key),this.keyedMap=Zc(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new hh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=s.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new hh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class mp{constructor(){this.yu=new zr(Ct.comparator)}track(e){const t=e.doc.key,s=this.yu.get(t);s?0!==e.type&&3===s.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==s.type?this.yu=this.yu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.yu=this.yu.remove(t):1===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Me():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,s)=>{e.push(s)}),e}}class fh{constructor(e,t,s,l,p,v,A,j){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=j}static fromInitialDocuments(e,t,s,l){const p=[];return t.forEach(v=>{p.push({type:0,doc:v})}),new fh(e,t,hh.emptySet(t),p,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class Fv{constructor(){this.Iu=void 0,this.listeners=[]}}class V_{constructor(){this.queries=new To(e=>Gc(e),ll),this.onlineState="Unknown",this.Tu=new Set}}function Ec(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,u.Z)(function*(i,e){const t=nt(i),s=e.query;let l=!1,p=t.queries.get(s);if(p||(l=!0,p=new Fv),l)try{p.Iu=yield t.onListen(s)}catch(v){const A=yd(v,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(A)}t.queries.set(s,p),p.listeners.push(e),e.Eu(t.onlineState),p.Iu&&e.Au(p.Iu)&&kg(t)}),_p.apply(this,arguments)}function Rg(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,u.Z)(function*(i,e){const t=nt(i),s=e.query;let l=!1;const p=t.queries.get(s);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),l=0===p.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),Pg.apply(this,arguments)}function ph(i,e){const t=nt(i);let s=!1;for(const l of e){const v=t.queries.get(l.query);if(v){for(const A of v.listeners)A.Au(l)&&(s=!0);v.Iu=l}}s&&kg(t)}function Lv(i,e,t){const s=nt(i),l=s.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);s.queries.delete(e)}function kg(i){i.Tu.forEach(e=>{e.next()})}class Fg{constructor(e,t,s){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new fh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Vv{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class yl{constructor(e){this.M=e}li(e){return ha(this.M,e)}fi(e){return e.metadata.exists?dc(this.M,e.document,!1):V.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ls(e)}}class Lg{constructor(e,t,s){this.xu=e,this.localStore=t,this.M=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vg(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=Kn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,s=new yl(this.M);for(const l of e)if(l.metadata.queries){const p=s.li(l.metadata.name);for(const v of l.metadata.queries){const A=(t.get(v)||Pr()).add(p);t.set(v,A)}}return t}complete(){var e=this;return(0,u.Z)(function*(){const t=yield function gg(i,e,t,s){return yc.apply(this,arguments)}(e.localStore,new yl(e.M),e.documents,e.xu.id),s=e.ku(e.documents);for(const l of e.queries)yield zh(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Vg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Bg{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class jg{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Pr(),this.mutatedKeys=Pr(),this.Lu=Fd(e),this.Uu=new hh(this.Lu)}get qu(){return this.Fu}Gu(e,t){const s=t?t.Ku:new mp,l=t?t.Uu:this.Uu;let p=t?t.mutatedKeys:this.mutatedKeys,v=l,A=!1;const j=tc(this.query)&&l.size===this.query.limit?l.last():null,q=nc(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((oe,_e)=>{const qe=l.get(oe),pt=$c(this.query,_e)?_e:null,gt=!!qe&&this.mutatedKeys.has(qe.key),Ut=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let Dn=!1;qe&&pt?qe.data.isEqual(pt.data)?gt!==Ut&&(s.track({type:3,doc:pt}),Dn=!0):this.Qu(qe,pt)||(s.track({type:2,doc:pt}),Dn=!0,(j&&this.Lu(pt,j)>0||q&&this.Lu(pt,q)<0)&&(A=!0)):!qe&&pt?(s.track({type:0,doc:pt}),Dn=!0):qe&&!pt&&(s.track({type:1,doc:qe}),Dn=!0,(j||q)&&(A=!0)),Dn&&(pt?(v=v.add(pt),p=Ut?p.add(oe):p.delete(oe)):(v=v.delete(oe),p=p.delete(oe)))}),tc(this.query)||nc(this.query))for(;v.size>this.query.limit;){const oe=tc(this.query)?v.last():v.first();v=v.delete(oe.key),p=p.delete(oe.key),s.track({type:1,doc:oe})}return{Uu:v,Ku:s,ei:A,mutatedKeys:p}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const p=e.Ku.pu();p.sort((q,oe)=>function(_e,qe){const pt=gt=>{switch(gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return pt(_e)-pt(qe)}(q.type,oe.type)||this.Lu(q.doc,oe.doc)),this.ju(s);const v=t?this.Wu():[],A=0===this.Bu.size&&this.current?1:0,j=A!==this.$u;return this.$u=A,0!==p.length||j?{snapshot:new fh(this.query,e.Uu,l,p,e.mutatedKeys,0===A,j,!1),zu:v}:{zu:v}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new mp,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Pr(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const t=[];return e.forEach(s=>{this.Bu.has(s)||t.push(new Ug(s))}),this.Bu.forEach(s=>{e.has(s)||t.push(new Bg(s))}),t}Ju(e){this.Fu=e.hi,this.Bu=Pr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return fh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Bv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Uv{constructor(e){this.key=e,this.Xu=!1}}class jv{constructor(e,t,s,l,p,v){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.Zu={},this.ta=new To(A=>Gc(A),ll),this.ea=new Map,this.na=new Set,this.sa=new zr(Ct.comparator),this.ia=new Map,this.ra=new ip,this.oa={},this.ua=new Map,this.aa=fo.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function Gv(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,u.Z)(function*(i,e){const t=Sc(i);let s,l;const p=t.ta.get(e);if(p)s=p.targetId,t.sharedClientState.addLocalQueryTarget(s),l=p.view.Yu();else{const v=yield _c(t.localStore,Co(e));t.isPrimaryClient&&dp(t.remoteStore,v);const A=t.sharedClientState.addLocalQueryTarget(v.targetId);s=v.targetId,l=yield B_(t,e,s,"current"===A)}return l}),yp.apply(this,arguments)}function B_(i,e,t,s){return vp.apply(this,arguments)}function vp(){return vp=(0,u.Z)(function*(i,e,t,s){i.ha=(oe,_e,qe)=>{return(pt=(0,u.Z)(function*(gt,Ut,Dn,ni){let Fn=Ut.view.Gu(Dn);Fn.ei&&(Fn=yield rp(gt.localStore,Ut.query,!1).then(({documents:Dr})=>Ut.view.Gu(Dr,Fn)));const cs=ni&&ni.targetChanges.get(Ut.targetId),jn=Ut.view.applyChanges(Fn,gt.isPrimaryClient,cs);return zg(gt,Ut.targetId,jn.zu),jn.snapshot}),function(gt,Ut,Dn,ni){return pt.apply(this,arguments)})(i,oe,_e,qe);var pt};const l=yield rp(i.localStore,e,!0),p=new jg(e,l.hi),v=p.Gu(l.documents),A=Ia.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState),j=p.applyChanges(v,i.isPrimaryClient,A);zg(i,t,j.zu);const q=new Bv(e,t,p);return i.ta.set(e,q),i.ea.has(t)?i.ea.get(t).push(e):i.ea.set(t,[e]),j.snapshot}),vp.apply(this,arguments)}function Hv(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,u.Z)(function*(i,e){const t=nt(i),s=t.ta.get(e),l=t.ea.get(s.targetId);if(l.length>1)return t.ea.set(s.targetId,l.filter(p=>!ll(p,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield lh(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),hp(t.remoteStore,s.targetId),vd(t,s.targetId)}).catch(fa))):(vd(t,s.targetId),yield lh(t.localStore,s.targetId,!0))}),Gg.apply(this,arguments)}function U_(){return U_=(0,u.Z)(function*(i,e,t){const s=Ac(i);try{const l=yield function(p,v){const A=nt(p),j=fi.now(),q=v.reduce((_e,qe)=>_e.add(qe.key),Pr());let oe;return A.persistence.runTransaction("Locally write mutations","readwrite",_e=>A.ai.qs(_e,q).next(qe=>{oe=qe;const pt=[];for(const gt of v){const Ut=Vd(gt,oe.get(gt.key));null!=Ut&&pt.push(new ca(gt.key,Ut,O(Ut.value.mapValue),Nn.exists(!0)))}return A.$s.addMutationBatch(_e,j,pt,v)})).then(_e=>(_e.applyToLocalDocumentSet(oe),{batchId:_e.batchId,changes:oe}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(p,v,A){let j=p.oa[p.currentUser.toKey()];j||(j=new zr($n)),j=j.insert(v,A),p.oa[p.currentUser.toKey()]=j}(s,l.batchId,t),yield Zu(s,l.changes),yield Dc(s.remoteStore)}catch(l){const p=yd(l,"Failed to persist write");t.reject(p)}}),U_.apply(this,arguments)}function bp(i,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,u.Z)(function*(i,e){const t=nt(i);try{const s=yield mc(t.localStore,e);e.targetChanges.forEach((l,p)=>{const v=t.ia.get(p);v&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Xu=!0:l.modifiedDocuments.size>0?ut(v.Xu):l.removedDocuments.size>0&&(ut(v.Xu),v.Xu=!1))}),yield Zu(t,s,e)}catch(s){yield fa(s)}}),Hg.apply(this,arguments)}function $g(i,e,t){const s=nt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.ta.forEach((p,v)=>{const A=v.view.Eu(e);A.snapshot&&l.push(A.snapshot)}),function(p,v){const A=nt(p);A.onlineState=v;let j=!1;A.queries.forEach((q,oe)=>{for(const _e of oe.listeners)_e.Eu(v)&&(j=!0)}),j&&kg(A)}(s.eventManager,e),l.length&&s.Zu.Ko(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function j_(i,e,t){return G_.apply(this,arguments)}function G_(){return G_=(0,u.Z)(function*(i,e,t){const s=nt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.ia.get(e),p=l&&l.key;if(p){let v=new zr(Ct.comparator);v=v.insert(p,V.newNoDocument(p,bn.min()));const A=Pr().add(p),j=new Yc(bn.min(),new Map,new si($n),v,A);yield bp(s,j),s.sa=s.sa.remove(p),s.ia.delete(e),Zg(s)}else yield lh(s.localStore,e,!1).then(()=>vd(s,e,t)).catch(fa)}),G_.apply(this,arguments)}function Wl(i,e){return H_.apply(this,arguments)}function H_(){return H_=(0,u.Z)(function*(i,e){const t=nt(i),s=e.batch.batchId;try{const l=yield fg(t.localStore,e);W_(t,s,null),Wg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Zu(t,l)}catch(l){yield fa(l)}}),H_.apply(this,arguments)}function Vb(i,e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,u.Z)(function*(i,e,t){const s=nt(i);try{const l=yield function(p,v){const A=nt(p);return A.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let q;return A.$s.lookupMutationBatch(j,v).next(oe=>(ut(null!==oe),q=oe.keys(),A.$s.removeMutationBatch(j,oe))).next(()=>A.$s.performConsistencyCheck(j)).next(()=>A.ai.qs(j,q))})}(s.localStore,e);W_(s,e,t),Wg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Zu(s,l)}catch(l){yield fa(l)}}),Dp.apply(this,arguments)}function wp(){return wp=(0,u.Z)(function*(i,e){const t=nt(i);wu(t.remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const v=nt(p);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.$s.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===s)return void e.resolve();const l=t.ua.get(s)||[];l.push(e),t.ua.set(s,l)}catch(s){const l=yd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),wp.apply(this,arguments)}function Wg(i,e){(i.ua.get(e)||[]).forEach(t=>{t.resolve()}),i.ua.delete(e)}function W_(i,e,t){const s=nt(i);let l=s.oa[s.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),s.oa[s.currentUser.toKey()]=l}}function vd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ea.get(e))i.ta.delete(s),t&&i.Zu.la(s,t);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(s=>{i.ra.containsKey(s)||Ep(i,s)})}function Ep(i,e){i.na.delete(e.path.canonicalString());const t=i.sa.get(e);null!==t&&(hp(i.remoteStore,t),i.sa=i.sa.remove(e),i.ia.delete(t),Zg(i))}function zg(i,e,t){for(const s of t)s instanceof Bg?(i.ra.addReference(s.key,e),qg(i,s)):s instanceof Ug?(P("SyncEngine","Document no longer in limbo: "+s.key),i.ra.removeReference(s.key,e),i.ra.containsKey(s.key)||Ep(i,s.key)):Me()}function qg(i,e){const t=e.key,s=t.path.canonicalString();i.sa.get(t)||i.na.has(s)||(P("SyncEngine","New document in limbo: "+t),i.na.add(s),Zg(i))}function Zg(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const t=new Ct(Kn.fromString(e)),s=i.aa.next();i.ia.set(s,new Uv(t)),i.sa=i.sa.insert(t,s),dp(i.remoteStore,new Aa(Co(lu(t.path)),s,2,Fi.A))}}function Zu(i,e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,u.Z)(function*(i,e,t){const s=nt(i),l=[],p=[],v=[];var A;s.ta.isEmpty()||(s.ta.forEach((A,j)=>{v.push(s.ha(j,e,t).then(q=>{if(q){s.isPrimaryClient&&s.sharedClientState.updateQueryState(j.targetId,q.fromCache?"not-current":"current"),l.push(q);const oe=qa.Js(j.targetId,q);p.push(oe)}}))}),yield Promise.all(v),s.Zu.Ko(l),yield(A=(0,u.Z)(function*(j,q){const oe=nt(j);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>st.forEach(q,qe=>st.forEach(qe.zs,pt=>oe.persistence.referenceDelegate.addReference(_e,qe.targetId,pt)).next(()=>st.forEach(qe.Hs,pt=>oe.persistence.referenceDelegate.removeReference(_e,qe.targetId,pt)))))}catch(_e){if(!yu(_e))throw _e;P("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of q){const qe=_e.targetId;if(!_e.fromCache){const pt=oe.si.get(qe),Ut=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);oe.si=oe.si.insert(qe,Ut)}}}),function(j,q){return A.apply(this,arguments)})(s.localStore,p))}),Kg.apply(this,arguments)}function $v(i,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,u.Z)(function*(i,e){const t=nt(i);if(!t.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const s=yield ep(t.localStore,e);t.currentUser=e,(l=t).ua.forEach(v=>{v.forEach(A=>{A.reject(new We(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ua.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Zu(t,s.ci)}var l}),Yg.apply(this,arguments)}function Wv(i,e){const t=nt(i),s=t.ia.get(e);if(s&&s.Xu)return Pr().add(s.key);{let l=Pr();const p=t.ea.get(e);if(!p)return l;for(const v of p){const A=t.ta.get(v);l=l.unionWith(A.view.qu)}return l}}function Cp(i,e){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,u.Z)(function*(i,e){const t=nt(i),s=yield rp(t.localStore,e.query,!0),l=e.view.Ju(s);return t.isPrimaryClient&&zg(t,e.targetId,l.zu),l}),Cc.apply(this,arguments)}function zv(i,e){return bd.apply(this,arguments)}function bd(){return bd=(0,u.Z)(function*(i,e){const t=nt(i);return uh(t.localStore,e).then(s=>Zu(t,s))}),bd.apply(this,arguments)}function qv(i,e,t,s){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,u.Z)(function*(i,e,t,s){const l=nt(i),p=yield function(v,A){const j=nt(v),q=nt(j.$s);return j.persistence.runTransaction("Lookup mutation documents","readonly",oe=>q.ln(oe,A).next(_e=>_e?j.ai.qs(oe,_e):st.resolve(null)))}(l.localStore,e);var A;null!==p?("pending"===t?yield Dc(l.remoteStore):"acknowledged"===t||"rejected"===t?(W_(l,e,s||null),Wg(l,e),A=e,nt(nt(l.localStore).$s).dn(A)):Me(),yield Zu(l,p)):P("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jg.apply(this,arguments)}function vl(){return vl=(0,u.Z)(function*(i,e){const t=nt(i);if(Sc(t),Ac(t),!0===e&&!0!==t.ca){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield gh(t,s.toArray());t.ca=!0,yield _d(t.remoteStore,!0);for(const p of l)dp(t.remoteStore,p)}else if(!1===e&&!1!==t.ca){const s=[];let l=Promise.resolve();t.ea.forEach((p,v)=>{t.sharedClientState.isLocalQueryTarget(v)?s.push(v):l=l.then(()=>(vd(t,v),lh(t.localStore,v,!0))),hp(t.remoteStore,v)}),yield l,yield gh(t,s),function(p){const v=nt(p);v.ia.forEach((A,j)=>{hp(v.remoteStore,j)}),v.ra.bi(),v.ia=new Map,v.sa=new zr(Ct.comparator)}(t),t.ca=!1,yield _d(t.remoteStore,!1)}}),vl.apply(this,arguments)}function gh(i,e,t){return po.apply(this,arguments)}function po(){return po=(0,u.Z)(function*(i,e,t){const s=nt(i),l=[],p=[];for(const v of e){let A;const j=s.ea.get(v);if(j&&0!==j.length){A=yield _c(s.localStore,Co(j[0]));for(const q of j){const oe=s.ta.get(q),_e=yield Cp(s,oe);_e.snapshot&&p.push(_e.snapshot)}}else{const q=yield v_(s.localStore,v);A=yield _c(s.localStore,q),yield B_(s,Tc(q),v,!1)}l.push(A)}return s.Zu.Ko(p),l}),po.apply(this,arguments)}function Tc(i){return Oh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Tp(i){const e=nt(i);return nt(nt(e.localStore).persistence).Os()}function bl(i,e,t,s){return ef.apply(this,arguments)}function ef(){return ef=(0,u.Z)(function*(i,e,t,s){const l=nt(i);if(l.ca)return void P("SyncEngine","Ignoring unexpected query state notification.");const p=l.ea.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const v=yield uh(l.localStore,Wc(p[0])),A=Yc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Zu(l,v,A);break}case"rejected":yield lh(l.localStore,e,!0),vd(l,e,s);break;default:Me()}}),ef.apply(this,arguments)}function mh(i,e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,u.Z)(function*(i,e,t){const s=Sc(i);if(s.ca){for(const l of e){if(s.ea.has(l)){P("SyncEngine","Adding an already active target "+l);continue}const p=yield v_(s.localStore,l),v=yield _c(s.localStore,p);yield B_(s,Tc(p),v.targetId,!1),dp(s.remoteStore,v)}for(const l of t)s.ea.has(l)&&(yield lh(s.localStore,l,!1).then(()=>{hp(s.remoteStore,l),vd(s,l)}).catch(fa))}}),Ic.apply(this,arguments)}function Sc(i){const e=nt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j_.bind(null,e),e.Zu.Ko=ph.bind(null,e.eventManager),e.Zu.la=Lv.bind(null,e.eventManager),e}function Ac(i){const e=nt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vb.bind(null,e),e}class Dd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,u.Z)(function*(){t.M=Zh(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return hg(this.persistence,new gd,e.initialUser,this.M)}_a(e){return new w_(op.Wi,this.M)}da(e){return new Av}terminate(){var e=this;return(0,u.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wd extends Dd{constructor(e,t,s){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,u.Z)(function*(){yield t().call(s,e),yield s.ga.initialize(s,e),yield Ac(s.ga.syncEngine),yield Dc(s.ga.remoteStore),yield s.persistence.Is(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}ma(e){return hg(this.persistence,new gd,e.initialUser,this.M)}wa(e){return new dd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new fd(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,S_(),up(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Av}}class yh extends wd{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,u.Z)(function*(){yield t().call(s,e);const l=s.ga.syncEngine;s.sharedClientState instanceof C_&&(s.sharedClientState.syncEngine={kr:qv.bind(null,l),Mr:bl.bind(null,l),Or:mh.bind(null,l),Os:Tp.bind(null,l),Nr:zv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.Is(function(){var p=(0,u.Z)(function*(v){yield function Qg(i,e){return vl.apply(this,arguments)}(s.ga.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):v||s.gcScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}da(e){const t=S_();if(!C_.vt(t))throw new We(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C_(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Nc{initialize(e,t){var s=this;return(0,u.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>$g(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=$v.bind(null,s.syncEngine),yield _d(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new V_}createDatastore(e){const t=Zh(e.databaseInfo.databaseId),s=new I_(e.databaseInfo);return new xv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,p=A=>$g(this.syncEngine,A,0),v=Nv.vt()?new Nv:new T_,new O_(t,s,l,p,v);var t,s,l,p,v}createSyncEngine(e,t){return function(s,l,p,v,A,j,q){const oe=new jv(s,l,p,v,A,j);return q&&(oe.ca=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,u.Z)(function*(t){const s=nt(t);P("RemoteStore","RemoteStore shutting down."),s.lu.add(5),yield bc(s),s.du.shutdown(),s._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Xg(i,e=10240){let t=0;return{read:()=>(0,u.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,u.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class z_{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Rr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(s=>{s&&s.Cu()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,u.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,u.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,u.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const s=e.Ta.decode(t),l=Number(s);isNaN(l)&&e.Ra(`length string (${s}) is not valid number`);const p=yield e.ba(l);return new Vv(JSON.parse(p),t.length+l)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,u.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ba(e){var t=this;return(0,u.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const s=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,u.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class q_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,u.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new We(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,u.Z)(function*(p,v){const A=nt(p),j=_u(A.M)+"/documents",q={documents:v.map(pt=>ho(A.M,pt))},oe=yield A.co("BatchGetDocuments",j,q),_e=new Map;oe.forEach(pt=>{const gt=function hc(i,e){return"found"in e?function(t,s){ut(!!s.found);const l=ha(t,s.found.name),p=ls(s.found.updateTime),v=new Zi({mapValue:{fields:s.found.fields}});return V.newFoundDocument(l,p,v)}(i,e):"missing"in e?function(t,s){ut(!!s.missing),ut(!!s.readTime);const l=ha(t,s.missing),p=ls(s.readTime);return V.newNoDocument(l,p)}(i,e):Me()}(A.M,pt);_e.set(gt.key.toString(),gt)});const qe=[];return v.forEach(pt=>{const gt=_e.get(pt.toString());ut(!!gt),qe.push(gt)}),qe}),function(p,v){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,u.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const p=Ct.fromPath(l);e.mutations.push(new jd(p,e.precondition(p)))}),yield(s=(0,u.Z)(function*(l,p){const v=nt(l),A=_u(v.M)+"/documents",j={writes:p.map(q=>Js(v.M,q))};yield v.ro("Commit",A,j)}),function(l,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Me();t=bn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new We(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nn.updateTime(t):Nn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bn.min()))throw new We(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nn.updateTime(t)}return Nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Z_{constructor(e,t,s,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=l,this.va=5,this.So=new cp(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,u.Z)(function*(){const t=new q_(e.datastore),s=e.Da(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.Ca(p)}))}).catch(l=>{e.Ca(l)})}))}Da(e){try{const t=this.updateFunction(e);return!gs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ku(t)}return!1}}class K_{constructor(e,t,s,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Qr.UNAUTHENTICATED,this.clientId=Zs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,u.Z)(function*(A){P("FirestoreClient","Received user=",A.uid),yield p.authCredentialListener(A),p.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(P("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,u.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=yd(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function em(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,u.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,u.Z)(function*(p){s.isEqual(p)||(yield ep(e.localStore,p),s=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ip.apply(this,arguments)}function tm(i,e){return nm.apply(this,arguments)}function nm(){return nm=(0,u.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Sp(i);P("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Og(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,p)=>Og(e.remoteStore,p)),i.onlineComponents=e}),nm.apply(this,arguments)}function Sp(i){return rm.apply(this,arguments)}function rm(){return rm=(0,u.Z)(function*(i){return i.offlineComponents||(P("FirestoreClient","Using default OfflineComponentProvider"),yield em(i,new Dd)),i.offlineComponents}),rm.apply(this,arguments)}function nf(i){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,u.Z)(function*(i){return i.onlineComponents||(P("FirestoreClient","Using default OnlineComponentProvider"),yield tm(i,new Nc)),i.onlineComponents}),Ap.apply(this,arguments)}function Y_(i){return Sp(i).then(e=>e.persistence)}function im(i){return Sp(i).then(e=>e.localStore)}function sm(i){return nf(i).then(e=>e.remoteStore)}function om(i){return nf(i).then(e=>e.syncEngine)}function Ed(i){return am.apply(this,arguments)}function am(){return am=(0,u.Z)(function*(i){const e=yield nf(i),t=e.eventManager;return t.onListen=Gv.bind(null,e.syncEngine),t.onUnlisten=Hv.bind(null,e.syncEngine),t}),am.apply(this,arguments)}function Np(i,e,t={}){const s=new Rr;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(l,p,v,A,j){const q=new tf({next:_e=>{p.enqueueAndForget(()=>Rg(l,oe));const qe=_e.docs.has(v);!qe&&_e.fromCache?j.reject(new We(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):qe&&_e.fromCache&&A&&"server"===A.source?j.reject(new We(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(_e)},error:_e=>j.reject(_e)}),oe=new Fg(lu(v.path),q,{includeMetadataChanges:!0,Du:!0});return Ec(l,oe)}(yield Ed(i),i.asyncQueue,e,t,s)})),s.promise}function J_(i,e,t={}){const s=new Rr;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(l,p,v,A,j){const q=new tf({next:_e=>{p.enqueueAndForget(()=>Rg(l,oe)),_e.fromCache&&"server"===A.source?j.reject(new We(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(_e)},error:_e=>j.reject(_e)}),oe=new Fg(v,q,{includeMetadataChanges:!0,Du:!0});return Ec(l,oe)}(yield Ed(i),i.asyncQueue,e,t,s)})),s.promise}const um=new Map;function Q_(i,e,t){if(!t)throw new We(ke.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function X_(i,e,t,s){if(!0===e&&!0===s)throw new We(ke.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Cd(i){if(!Ct.isDocumentKey(i))throw new We(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ey(i){if(Ct.isDocumentKey(i))throw new We(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Me()}function Sr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new We(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rf(i);throw new We(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function cm(i,e){if(e<=0)throw new We(ke.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class sf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new We(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,X_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sf({}),this._settingsFrozen=!1,e instanceof bi?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new We(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bi(l.options.projectId)}(e))}get app(){if(!this._app)throw new We(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ss;switch(t.type){case"gapi":const s=t.client;return ut(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new io(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new We(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=um.get(e);t&&(P("ComponentProvider","Removing Datastore"),um.delete(e),t.terminate())}(this),Promise.resolve()}}class Ui{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Yo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class Eu extends Yo{constructor(e,t,s){super(e,t,lu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new Ct(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function ny(i,e,...t){if(i=(0,Qe.m9)(i),Q_("collection","path",e),i instanceof af){const s=Kn.fromString(e,...t);return ey(s),new Eu(i,null,s)}{if(!(i instanceof Ui||i instanceof Eu))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kn.fromString(e,...t));return ey(s),new Eu(i.firestore,null,s)}}function lf(i,e,...t){if(i=(0,Qe.m9)(i),1===arguments.length&&(e=Zs.R()),Q_("doc","path",e),i instanceof af){const s=Kn.fromString(e,...t);return Cd(s),new Ui(i,null,new Ct(s))}{if(!(i instanceof Ui||i instanceof Eu))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kn.fromString(e,...t));return Cd(s),new Ui(i.firestore,i instanceof Eu?i.converter:null,new Ct(s))}}function ry(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),(i instanceof Ui||i instanceof Eu)&&(e instanceof Ui||e instanceof Eu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function dm(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),i instanceof Yo&&e instanceof Yo&&i.firestore===e.firestore&&ll(i._query,e._query)&&i.converter===e.converter}class iy{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new cp(this,"async_queue_retry"),this.Ua=()=>{const t=up();t&&P("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Rr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,u.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!yu(t))throw t;P("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(s=>{throw this.Fa=s,this.$a=!1,Z("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(s)),s}).then(s=>(this.$a=!1,s))));return this.Na=t,t}enqueueAfterDelay(e,t,s){this.qa(),this.La.indexOf(e)>-1&&(t=0);const l=gp.createAndSchedule(this,e,t,s,p=>this.Qa(p));return this.Oa.push(l),l}qa(){this.Fa&&Me()}verifyOperationInProgress(){}ja(){var e=this;return(0,u.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function uf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class Hb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ki extends af{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new iy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Op(this),this._firestoreClient.terminate()}}function Ns(i){return i._firestoreClient||Op(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Op(i){var e;const t=i._freezeSettings(),s=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Xu(i._databaseId,p,i._persistenceKey,(A=t).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var p,A;i._firestoreClient=new K_(i._authCredentials,i._appCheckCredentials,i._queue,s)}function cf(i,e,t){const s=new Rr;return i.asyncQueue.enqueue((0,u.Z)(function*(){try{yield em(i,t),yield tm(i,e),s.resolve()}catch(l){if(!("FirebaseError"===(p=l).name?p.code===ke.FAILED_PRECONDITION||p.code===ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var p})).then(()=>s.promise)}function mm(i){if(i._initialized||i._terminated)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new We(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(Bi.fromBase64String(e))}catch(t){throw new We(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ql(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ku{constructor(e){this._methodName=e}}class df{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new We(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new We(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $n(this._lat,e._lat)||$n(this._long,e._long)}}const t0=/^__.*__$/;class ay{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new cl(e,this.data,t,this.fieldTransforms)}}class _m{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class hf{constructor(e,t,s,l,p,v){this.settings=e,this.databaseId=t,this.M=s,this.ignoreUndefinedProperties=l,void 0===p&&this.Ja(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:s,tc:!1});return l.ec(e),l}nc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:s,tc:!1});return l.Ja(),l}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return gf(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Rp(this.Ya)&&t0.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class n0{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=s||Zh(e)}uc(e,t,s,l=!1){return new hf({Ya:e,methodName:t,oc:s,path:fs.emptyPath(),tc:!1,rc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Mc(i){const e=i._freezeSettings(),t=Zh(i._databaseId);return new n0(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ff(i,e,t,s,l,p={}){const v=i.uc(p.merge||p.mergeFields?2:0,e,t,l);vm("Data must be an object, but it was:",v,s);const A=r0(s,v);let j,q;if(p.merge)j=new rl(v.fieldMask),q=v.fieldTransforms;else if(p.mergeFields){const oe=[];for(const _e of p.mergeFields){const qe=Lp(e,_e,t);if(!v.contains(qe))throw new We(ke.INVALID_ARGUMENT,`Field '${qe}' is specified in your field mask but missing from your input data.`);hy(oe,qe)||oe.push(qe)}j=new rl(oe),q=v.fieldTransforms.filter(_e=>j.covers(_e.field))}else j=null,q=v.fieldTransforms;return new ay(new Zi(A),j,q)}class Td extends Ku{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function pf(i,e,t){return new hf({Ya:3,oc:e.settings.oc,methodName:i._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Pp extends Ku{_toFieldTransform(e){return new Pu(e.path,new ic)}isEqual(e){return e instanceof Pp}}class ly extends Ku{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=pf(this,e,!0),s=this.ac.map(p=>Oc(p,t)),l=new ul(s);return new Pu(e.path,l)}isEqual(e){return this===e}}class uy extends Ku{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=pf(this,e,!0),s=this.ac.map(p=>Oc(p,t)),l=new cu(s);return new Pu(e.path,l)}isEqual(e){return this===e}}class cy extends Ku{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new du(e.M,zc(e.M,this.cc));return new Pu(e.path,t)}isEqual(e){return this===e}}function kp(i,e,t,s){const l=i.uc(1,e,t);vm("Data must be an object, but it was:",l,s);const p=[],v=Zi.empty();wa(s,(j,q)=>{const oe=_s(e,j,t);q=(0,Qe.m9)(q);const _e=l.nc(oe);if(q instanceof Td)p.push(oe);else{const qe=Oc(q,_e);null!=qe&&(p.push(oe),v.set(oe,qe))}});const A=new rl(p);return new _m(v,A,l.fieldTransforms)}function Fp(i,e,t,s,l,p){const v=i.uc(1,e,t),A=[Lp(e,s,t)],j=[l];if(p.length%2!=0)throw new We(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qe=0;qe<p.length;qe+=2)A.push(Lp(e,p[qe])),j.push(p[qe+1]);const q=[],oe=Zi.empty();for(let qe=A.length-1;qe>=0;--qe)if(!hy(q,A[qe])){const pt=A[qe];let gt=j[qe];gt=(0,Qe.m9)(gt);const Ut=v.nc(pt);if(gt instanceof Td)q.push(pt);else{const Dn=Oc(gt,Ut);null!=Dn&&(q.push(pt),oe.set(pt,Dn))}}const _e=new rl(q);return new _m(oe,_e,v.fieldTransforms)}function ym(i,e,t,s=!1){return Oc(t,i.uc(s?4:3,e))}function Oc(i,e){if(dy(i=(0,Qe.m9)(i)))return vm("Unsupported field value:",e,i),r0(i,e);if(i instanceof Ku)return function(t,s){if(!Rp(s.Ya))throw s.ic(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ic(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,s){const l=[];let p=0;for(const v of t){let A=Oc(v,s.sc(p));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),p++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,Qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zc(s.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=fi.fromDate(t);return{timestampValue:lc(s.M,l)}}if(t instanceof fi){const l=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lc(s.M,l)}}if(t instanceof df)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ql)return{bytesValue:Vu(s.M,t._byteString)};if(t instanceof Ui){const l=s.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw s.ic(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:pl(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ic(`Unsupported field value: ${rf(t)}`)}(i,e)}function r0(i,e){const t={};return Md(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(i,(s,l)=>{const p=Oc(l,e.Za(s));null!=p&&(t[s]=p)}),{mapValue:{fields:t}}}function dy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof fi||i instanceof df||i instanceof ql||i instanceof Ui||i instanceof Ku)}function vm(i,e,t){if(!dy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=rf(t);throw e.ic("an object"===s?i+" a custom object":i+" "+s)}var s}function Lp(i,e,t){if((e=(0,Qe.m9)(e))instanceof zl)return e._internalPath;if("string"==typeof e)return _s(i,e);throw gf("Field path arguments must be of type string or ",i,!1,void 0,t)}const s0=new RegExp("[~\\*/\\[\\]]");function _s(i,e,t){if(e.search(s0)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new zl(...e.split("."))._internalPath}catch(s){throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function gf(i,e,t,s,l){const p=s&&!s.isEmpty(),v=void 0!==l;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let j="";return(p||v)&&(j+=" (found",p&&(j+=` in field ${s}`),v&&(j+=` in document ${l}`),j+=")"),new We(ke.INVALID_ARGUMENT,A+i+j)}function hy(i,e){return i.some(t=>t.isEqual(e))}class mf{constructor(e,t,s,l,p){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fy extends mf{data(){return super.data()}}function Vp(i,e){return"string"==typeof e?_s(i,e):e instanceof zl?e._internalPath:e._delegate._internalPath}class xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cu extends mf{constructor(e,t,s,l,p,v){super(e,t,s,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Tu extends Cu{data(e={}){return super.data(e)}}class Rc{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new xc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Tu(this._firestore,this._userDataWriter,s.key,s,new xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new We(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let p=0;return s._snapshot.docChanges.map(v=>({type:"added",doc:new Tu(s._firestore,s._userDataWriter,v.doc.key,v.doc,new xc(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:p++}))}{let p=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const A=new Tu(s._firestore,s._userDataWriter,v.doc.key,v.doc,new xc(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter);let j=-1,q=-1;return 0!==v.type&&(j=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),q=p.indexOf(v.doc.key)),{type:o0(v.type),doc:A,oldIndex:j,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}function bm(i,e){return i instanceof Cu&&e instanceof Cu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Rc&&e instanceof Rc&&i._firestore===e._firestore&&dm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function py(i){if(nc(i)&&0===i.explicitOrderBy.length)throw new We(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vh{}function Id(i,...e){for(const t of e)i=t._apply(i);return i}class Dm extends vh{constructor(e,t,s){super(),this.hc=e,this.lc=t,this.fc=s,this.type="where"}_apply(e){const t=Mc(e.firestore),s=function(l,p,v,A,j,q,oe){let _e;if(j.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){bh(oe,q);const pt=[];for(const gt of oe)pt.push(Bp(A,l,gt));_e={arrayValue:{values:pt}}}else _e=Bp(A,l,oe)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||bh(oe,q),_e=ym(v,"where",oe,"in"===q||"not-in"===q);const qe=ti.create(j,q,_e);return function(pt,gt){if(gt.S()){const Dn=uu(pt);if(null!==Dn&&!Dn.isEqual(gt.field))throw new We(ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Dn.toString()}' and '${gt.field.toString()}'`);const ni=Ll(pt);null!==ni&&vy(0,gt.field,ni)}const Ut=function(Dn,ni){for(const Fn of Dn.filters)if(ni.indexOf(Fn.op)>=0)return Fn.op;return null}(pt,function(Dn){switch(Dn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(gt.op));if(null!==Ut)throw new We(ke.INVALID_ARGUMENT,Ut===gt.op?`Invalid query. You cannot use more than one '${gt.op.toString()}' filter.`:`Invalid query. You cannot use '${gt.op.toString()}' filters with '${Ut.toString()}' filters.`)}(l,qe),qe}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Yo(e.firestore,e.converter,function(l,p){const v=l.filters.concat([p]);return new zo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,s))}}class Iu extends vh{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(s,l,p){if(null!==s.startAt)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Ca(l,p);return function(A,j){if(null===Ll(A)){const q=uu(A);null!==q&&vy(0,q,j.field)}}(s,v),v}(e._query,this.hc,this.dc);return new Yo(e.firestore,e.converter,function(s,l){const p=s.explicitOrderBy.concat([l]);return new zo(s.path,s.collectionGroup,p,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Em extends vh{constructor(e,t,s){super(),this.type=e,this._c=t,this.wc=s}_apply(e){return new Yo(e.firestore,e.converter,Ff(e._query,this._c,this.wc))}}class Dl extends vh{constructor(e,t,s){super(),this.type=e,this.mc=t,this.gc=s}_apply(e){const t=yy(e,this.type,this.mc,this.gc);return new Yo(e.firestore,e.converter,(l=t,new zo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class _y extends vh{constructor(e,t,s){super(),this.type=e,this.mc=t,this.gc=s}_apply(e){const t=yy(e,this.type,this.mc,this.gc);return new Yo(e.firestore,e.converter,(l=t,new zo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function yy(i,e,t,s){if(t[0]=(0,Qe.m9)(t[0]),t[0]instanceof mf)return function(l,p,v,A,j){if(!A)throw new We(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const q=[];for(const oe of Ru(l))if(oe.field.isKeyField())q.push(xl(p,A.key));else{const _e=A.data.field(oe.field);if(Nl(_e))throw new We(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_e){const qe=oe.field.canonicalString();throw new We(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${qe}' (used as the orderBy) does not exist.`)}q.push(_e)}return new Ys(q,j)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=Mc(i.firestore);return function(p,v,A,j,q,oe){const _e=p.explicitOrderBy;if(q.length>_e.length)throw new We(ke.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const qe=[];for(let pt=0;pt<q.length;pt++){const gt=q[pt];if(_e[pt].field.isKeyField()){if("string"!=typeof gt)throw new We(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof gt}`);if(!al(p)&&-1!==gt.indexOf("/"))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${gt}' contains a slash.`);const Ut=p.path.child(Kn.fromString(gt));if(!Ct.isDocumentKey(Ut))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Ut}' is not because it contains an odd number of segments.`);const Dn=new Ct(Ut);qe.push(xl(v,Dn))}else{const Ut=ym(A,j,gt);qe.push(Ut)}}return new Ys(qe,oe)}(i._query,i.firestore._databaseId,l,e,t,s)}}function Bp(i,e,t){if("string"==typeof(t=(0,Qe.m9)(t))){if(""===t)throw new We(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!al(e)&&-1!==t.indexOf("/"))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Kn.fromString(t));if(!Ct.isDocumentKey(s))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xl(i,new Ct(s))}if(t instanceof Ui)return xl(i,t._key);throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(t)}.`)}function bh(i,e){if(!Array.isArray(i)||0===i.length)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function vy(i,e,t){if(!t.isEqual(e))throw new We(ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Up{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Me()}}convertObject(e,t){const s={};return wa(e.fields,(l,p)=>{s[l]=this.convertValue(p,t)}),s}convertGeoPoint(e){return new df(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ps(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(rs(e));default:return null}}convertTimestamp(e){const t=Ks(e);return new fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Kn.fromString(e);ut(ee(s));const l=new bi(s.get(1),s.get(3)),p=new Ct(s.popFirst(5));return l.isEqual(t)||Z(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function jp(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class by extends Up{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}class Cm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mc(e)}set(e,t,s){this._verifyNotCommitted();const l=Kl(e,this._firestore),p=jp(l.converter,t,s),v=ff(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,s);return this._mutations.push(v.toMutation(l._key,Nn.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const p=Kl(e,this._firestore);let v;return v="string"==typeof(t=(0,Qe.m9)(t))||t instanceof zl?Fp(this._dataReader,"WriteBatch.update",p._key,t,s,l):kp(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(v.toMutation(p._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kl(e,this._firestore);return this._mutations=this._mutations.concat(new Ul(t._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kl(i,e){if((i=(0,Qe.m9)(i)).firestore!==e)throw new We(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Pc extends Up{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}function Im(i,e,t){i=Sr(i,Ui);const s=Sr(i.firestore,Ki),l=jp(i.converter,e,t);return Dh(s,[ff(Mc(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Nn.none())])}function Sm(i,e,t,...s){i=Sr(i,Ui);const l=Sr(i.firestore,Ki),p=Mc(l);let v;return v="string"==typeof(e=(0,Qe.m9)(e))||e instanceof zl?Fp(p,"updateDoc",i._key,e,t,s):kp(p,"updateDoc",i._key,e),Dh(l,[v.toMutation(i._key,Nn.exists(!0))])}function Am(i,...e){var t,s,l;i=(0,Qe.m9)(i);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||uf(e[v])||(p=e[v],v++);const A={includeMetadataChanges:p.includeMetadataChanges};if(uf(e[v])){const _e=e[v];e[v]=null===(t=_e.next)||void 0===t?void 0:t.bind(_e),e[v+1]=null===(s=_e.error)||void 0===s?void 0:s.bind(_e),e[v+2]=null===(l=_e.complete)||void 0===l?void 0:l.bind(_e)}let j,q,oe;if(i instanceof Ui)q=Sr(i.firestore,Ki),oe=lu(i._key.path),j={next:_e=>{e[v]&&e[v](Nm(q,i,_e))},error:e[v+1],complete:e[v+2]};else{const _e=Sr(i,Yo);q=Sr(_e.firestore,Ki),oe=_e._query;const qe=new Pc(q);j={next:pt=>{e[v]&&e[v](new Rc(q,qe,_e,pt))},error:e[v+1],complete:e[v+2]},py(i._query)}return function(_e,qe,pt,gt){const Ut=new tf(gt),Dn=new Fg(qe,Ut,pt);return _e.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return Ec(yield Ed(_e),Dn)})),()=>{Ut.pa(),_e.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return Rg(yield Ed(_e),Dn)}))}}(Ns(q),oe,A,j)}function Dh(i,e){return function(t,s){const l=new Rr;return t.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function Lb(i,e,t){return U_.apply(this,arguments)}(yield om(t),s,l)})),l.promise}(Ns(i),e)}function Nm(i,e,t){const s=t.docs.get(e._key),l=new Pc(i);return new Cu(i,l,e._key,s,new xc(t.hasPendingWrites,t.fromCache),e.converter)}class d0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mc(e)}get(e){const t=Kl(e,this._firestore),s=new by(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Me();const p=l[0];if(p.isFoundDocument())return new mf(this._firestore,s,p.key,p,t.converter);if(p.isNoDocument())return new mf(this._firestore,s,t._key,null,t.converter);throw Me()})}set(e,t,s){const l=Kl(e,this._firestore),p=jp(l.converter,t,s),v=ff(this._dataReader,"Transaction.set",l._key,p,null!==l.converter,s);return this._transaction.set(l._key,v),this}update(e,t,s,...l){const p=Kl(e,this._firestore);let v;return v="string"==typeof(t=(0,Qe.m9)(t))||t instanceof zl?Fp(this._dataReader,"Transaction.update",p._key,t,s,l):kp(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,v),this}delete(e){const t=Kl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kl(e,this._firestore),s=new Pc(this._firestore);return super.get(e).then(l=>new Cu(this._firestore,s,t._key,l._document,new xc(!1,!1),t.converter))}}function Mm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new We("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ay(){if("undefined"==typeof Uint8Array)throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function Ny(){if(!function ks(){return"undefined"!=typeof atob}())throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){N=Ke.SDK_VERSION,(0,Ke._registerComponent)(new Ye.wA("firestore",(t,{options:s})=>{const l=t.getProvider("app").getImmediate(),p=new Ki(l,new Wo(t.getProvider("auth-internal")),new Ba(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),p._setSettings(s),p},"PUBLIC")),(0,Ke.registerVersion)(Sl,"3.4.7",i),(0,Ke.registerVersion)(Sl,"3.4.7","esm2017")}();class _f{constructor(e){this._delegate=e}static fromBase64String(e){return Ny(),new _f(ql.fromBase64String(e))}static fromUint8Array(e){return Ay(),new _f(ql.fromUint8Array(e))}toBase64(){return Ny(),this._delegate.toBase64()}toUint8Array(){return Ay(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Hp(i){return function My(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class Oy{enableIndexedDbPersistence(e,t){return function fm(i,e){mm(i=Sr(i,Ki));const t=Ns(i),s=i._freezeSettings(),l=new Nc;return cf(t,l,new wd(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Qv(i){mm(i=Sr(i,Ki));const e=Ns(i),t=i._freezeSettings(),s=new Nc;return cf(e,s,new yh(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xp(i){if(i._initialized&&!i._terminated)throw new We(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{yield(t=(0,u.Z)(function*(s){if(!za.vt())return Promise.resolve();const l=s+"main";yield za.delete(l)}),function(s){return t.apply(this,arguments)})(ah(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Om{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof bi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&se("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function ty(i,e,t,s={}){var l;const p=(i=Sr(i,af))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&se("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let v,A;if("string"==typeof s.mockUserToken)v=s.mockUserToken,A=Qr.MOCK_USER;else{v=(0,Qe.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new We(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qr(j)}i._authCredentials=new Da(new ro(v,A))}}(this._delegate,e,t,s)}enableNetwork(){return function $b(i){return function Zv(i){return i.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield Y_(i),t=yield sm(i);return e.setNetworkEnabled(!0),function(s){const l=nt(s);return l.lu.delete(0),Kh(l)}(t)}))}(Ns(i=Sr(i,Ki)))}(this._delegate)}disableNetwork(){return function Xv(i){return function Bb(i){return i.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield Y_(i),t=yield sm(i);return e.setNetworkEnabled(!1),(s=(0,u.Z)(function*(l){const p=nt(l);p.lu.add(0),yield bc(p),p._u.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(Ns(i=Sr(i,Ki)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,X_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pm(i){return function(e){const t=new Rr;return e.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function $_(i,e){return wp.apply(this,arguments)}(yield om(e),t)})),t.promise}(Ns(i=Sr(i,Ki)))}(this._delegate)}onSnapshotsInSync(e){return function Iy(i,e){return function Ub(i,e){const t=new tf(e);return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return s=yield Ed(i),l=t,nt(s).Tu.add(l),void l.next();var s,l})),()=>{t.pa(),i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return s=yield Ed(i),l=t,void nt(s).Tu.delete(l);var s,l}))}}(Ns(i=Sr(i,Ki)),uf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sd(this,ny(this._delegate,e))}catch(t){throw Jo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ma(this,lf(this._delegate,e))}catch(t){throw Jo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Oa(this,function Jv(i,e){if(i=Sr(i,af),Q_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yo(i,null,(t=e,new zo(Kn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Jo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function h0(i,e){return function jb(i,e){const t=new Rr;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){const s=yield(l=i,nf(l).then(p=>p.datastore));var l;new Z_(i.asyncQueue,s,e,t).run()})),t.promise}(Ns(i=Sr(i,Ki)),t=>e(new d0(i,t)))}(this._delegate,t=>e(new xm(this,t)))}batch(){return Ns(this._delegate),new Rm(new Cm(this._delegate,e=>Dh(this._delegate,e)))}loadBundle(e){return function gm(i,e){const t=Ns(i=Sr(i,Ki)),s=new Hb;return function Gb(i,e,t,s){const l=function(p,v){let A;return A="string"==typeof p?(new TextEncoder).encode(p):p,j=function(j,q){if(j instanceof Uint8Array)return Xg(j,q);if(j instanceof ArrayBuffer)return Xg(new Uint8Array(j),q);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new z_(j,v);var j}(t,Zh(e));i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){!function _h(i,e,t){const s=nt(i);var l;(l=(0,u.Z)(function*(p,v,A){try{const j=yield v.getMetadata();if(yield function(qe,pt){const gt=nt(qe),Ut=ls(pt.createTime);return gt.persistence.runTransaction("hasNewerBundle","readonly",Dn=>gt.ds.getBundleMetadata(Dn,pt.id)).then(Dn=>!!Dn&&Dn.createTime.compareTo(Ut)>=0)}(p.localStore,j))return yield v.close(),A._completeWith({taskState:"Success",documentsLoaded:(qe=j).totalDocuments,bytesLoaded:qe.totalBytes,totalDocuments:qe.totalDocuments,totalBytes:qe.totalBytes}),Promise.resolve(new Set);A._updateProgress(Vg(j));const q=new Lg(j,p.localStore,v.M);let oe=yield v.fa();for(;oe;){const qe=yield q.Nu(oe);qe&&A._updateProgress(qe),oe=yield v.fa()}const _e=yield q.complete();return yield Zu(p,_e.Ou,void 0),yield function(qe,pt){const gt=nt(qe);return gt.persistence.runTransaction("Save bundle","readwrite",Ut=>gt.ds.saveBundleMetadata(Ut,pt))}(p.localStore,j),A._completeWith(_e.progress),Promise.resolve(_e.Mu)}catch(j){return se("SyncEngine",`Loading bundle failed with ${j}`),A._failWith(j),Promise.resolve(new Set)}var qe}),function(p,v,A){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield om(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function oy(i,e){return function Yv(i,e){return i.asyncQueue.enqueue((0,u.Z)(function*(){return function(t,s){const l=nt(t);return l.persistence.runTransaction("Get named query","readonly",p=>l.ds.getNamedQuery(p,s))}(yield im(i),e)}))}(Ns(i=Sr(i,Ki)),e).then(t=>t?new Yo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Oa(this,t):null)}}class yf extends Up{constructor(e){super(),this.firestore=e}convertBytes(e){return new _f(new ql(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ma.forKey(t,this.firestore,null)}}class xm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yf(e)}get(e){const t=Lc(e);return this._delegate.get(t).then(s=>new vf(this._firestore,new Cu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=Lc(e);return s?(Mm("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const p=Lc(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...l),this}delete(e){const t=Lc(e);return this._delegate.delete(t),this}}class Rm{constructor(e){this._delegate=e}set(e,t,s){const l=Lc(e);return s?(Mm("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const p=Lc(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...l),this}delete(e){const t=Lc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Tu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Au(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=kc.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let p=l.get(t);return p||(p=new kc(e,new yf(e),t),l.set(t,p)),p}}kc.INSTANCES=new WeakMap;class Ma{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ma(t,new Ui(t._delegate,s,new Ct(e)))}static forKey(e,t,s){return new Ma(t,new Ui(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Sd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sd(this.firestore,ny(this._delegate,e))}catch(t){throw Jo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Ui&&ry(this._delegate,e)}set(e,t){t=Mm("DocumentReference.set",t);try{return t?Im(this._delegate,e,t):Im(this._delegate,e)}catch(s){throw Jo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Sm(this._delegate,e):Sm(this._delegate,e,t,...s)}catch(l){throw Jo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Cy(i){return Dh(Sr(i.firestore,Ki),[new Ul(i._key,Nn.none())])}(this._delegate)}onSnapshot(...e){const t=Fc(e),s=Ry(e,l=>new vf(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Am(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Dy(i){i=Sr(i,Ui);const e=Sr(i.firestore,Ki),t=Ns(e),s=new Pc(e);return function Kv(i,e){const t=new Rr;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(s=(0,u.Z)(function*(l,p,v){try{const A=yield function(j,q){const oe=nt(j);return oe.persistence.runTransaction("read document","readonly",_e=>oe.ai.Bs(_e,q))}(l,p);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new We(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const j=yd(A,`Failed to get document '${p} from cache`);v.reject(j)}}),function(l,p,v){return s.apply(this,arguments)})(yield im(i),e,t);var s})),t.promise}(t,i._key).then(l=>new Cu(e,s,i._key,l,new xc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Tm(i){i=Sr(i,Ui);const e=Sr(i.firestore,Ki);return Np(Ns(e),i._key,{source:"server"}).then(t=>Nm(e,i,t))}(this._delegate):function c0(i){i=Sr(i,Ui);const e=Sr(i.firestore,Ki);return Np(Ns(e),i._key).then(t=>Nm(e,i,t))}(this._delegate),t.then(s=>new vf(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?kc.getInstance(this.firestore,e):null))}}function Jo(i,e,t){return i.message=i.message.replace(e,t),i}function Fc(i){for(const e of i)if("object"==typeof e&&!Hp(e))return e;return{}}function Ry(i,e){var t,s;let l;return l=Hp(i[0])?i[0]:Hp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:p=>{l.next&&l.next(e(p))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class vf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bm(this._delegate,e._delegate)}}class Au extends vf{data(e){const t=this._delegate.data(e);return function Rn(i,e){i||Me()}(void 0!==t),t}}class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yf(e)}where(e,t,s){try{return new Oa(this.firestore,Id(this._delegate,function wm(i,e,t){const s=e,l=Vp("where",i);return new Dm(l,s,t)}(e,t,s)))}catch(l){throw Jo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Oa(this.firestore,Id(this._delegate,function a0(i,e="asc"){const t=e,s=Vp("orderBy",i);return new Iu(s,t)}(e,t)))}catch(s){throw Jo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Oa(this.firestore,Id(this._delegate,function Su(i){return cm("limit",i),new Em("limit",i,"F")}(e)))}catch(t){throw Jo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Oa(this.firestore,Id(this._delegate,function Zl(i){return cm("limitToLast",i),new Em("limitToLast",i,"L")}(e)))}catch(t){throw Jo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Oa(this.firestore,Id(this._delegate,function gy(...i){return new Dl("startAt",i,!0)}(...e)))}catch(t){throw Jo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Oa(this.firestore,Id(this._delegate,function my(...i){return new Dl("startAfter",i,!1)}(...e)))}catch(t){throw Jo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Oa(this.firestore,Id(this._delegate,function l0(...i){return new _y("endBefore",i,!1)}(...e)))}catch(t){throw Jo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Oa(this.firestore,Id(this._delegate,function u0(...i){return new _y("endAt",i,!0)}(...e)))}catch(t){throw Jo(t,"endAt()","Query.endAt()")}}isEqual(e){return dm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wy(i){i=Sr(i,Yo);const e=Sr(i.firestore,Ki),t=Ns(e),s=new Pc(e);return function lm(i,e){const t=new Rr;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(s=(0,u.Z)(function*(l,p,v){try{const A=yield rp(l,p,!0),j=new jg(p,A.hi),q=j.Gu(A.documents),oe=j.applyChanges(q,!1);v.resolve(oe.snapshot)}catch(A){const j=yd(A,`Failed to execute query '${p} against cache`);v.reject(j)}}),function(l,p,v){return s.apply(this,arguments)})(yield im(i),e,t);var s})),t.promise}(t,i._query).then(l=>new Rc(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ey(i){i=Sr(i,Yo);const e=Sr(i.firestore,Ki),t=Ns(e),s=new Pc(e);return J_(t,i._query,{source:"server"}).then(l=>new Rc(e,s,i,l))}(this._delegate):function Gp(i){i=Sr(i,Yo);const e=Sr(i.firestore,Ki),t=Ns(e),s=new Pc(e);return py(i._query),J_(t,i._query).then(l=>new Rc(e,s,i,l))}(this._delegate),t.then(s=>new Py(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Fc(e),s=Ry(e,l=>new Py(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Am(this._delegate,t,s)}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?kc.getInstance(this.firestore,e):null))}}class Pm{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Au(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Py{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Oa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Au(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Pm(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Au(this._firestore,s))})}isEqual(e){return bm(this._delegate,e._delegate)}}class Sd extends Oa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ma(this.firestore,e):null}doc(e){try{return new Ma(this.firestore,void 0===e?lf(this._delegate):lf(this._delegate,e))}catch(t){throw Jo(t,"doc()","CollectionReference.doc()")}}add(e){return function Ty(i,e){const t=Sr(i.firestore,Ki),s=lf(i),l=jp(i.converter,e);return Dh(t,[ff(Mc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Nn.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ma(this.firestore,t))}isEqual(e){return ry(this._delegate,e._delegate)}withConverter(e){return new Sd(this.firestore,this._delegate.withConverter(e?kc.getInstance(this.firestore,e):null))}}function Lc(i){return Sr(i,Ui)}class ky{constructor(...e){this._delegate=new zl(...e)}static documentId(){return new ky(fs.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof zl&&this._delegate._internalPath.isEqual(e._internalPath)}}class dn{constructor(e){this._delegate=e}static serverTimestamp(){const e=function p0(){return new Pp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new dn(e)}static delete(){const e=function f0(){return new Td("deleteField")}();return e._methodName="FieldValue.delete",new dn(e)}static arrayUnion(...e){const t=function g0(...i){return new ly("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new dn(t)}static arrayRemove(...e){const t=function m0(...i){return new uy("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new dn(t)}static increment(e){const t=function _0(i){return new cy("increment",i)}(e);return t._methodName="FieldValue.increment",new dn(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const b0={Firestore:Om,GeoPoint:df,Timestamp:fi,Blob:_f,Transaction:xm,WriteBatch:Rm,DocumentReference:Ma,DocumentSnapshot:vf,Query:Oa,QueryDocumentSnapshot:Au,QuerySnapshot:Py,CollectionReference:Sd,FieldPath:ky,FieldValue:dn,setLogLevel:function xy(i){!function k(i){C.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function w0(i){(function D0(i,e){i.INTERNAL.registerComponent(new Ye.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},b0)))})(i,(e,t)=>new Om(e,t,new Oy)),i.registerVersion("@firebase/firestore-compat","0.1.16")}(bt.Z);var bf=G(7579),E0=G(6451),Ad=G(5363),Yl=G(3900),ys=G(6063);class qb extends bf.x{constructor(e=1/0,t=1/0,s=ys.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:v}=this;t||(s.push(e),!l&&s.push(p.now()+v)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:l}=this,p=l.slice();for(let v=0;v<p.length&&!e.closed;v+=s?1:2)e.next(p[v]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:l}=this,p=(l?1:2)*e;if(e<1/0&&p<s.length&&s.splice(0,s.length-p),!l){const v=t.now();let A=0;for(let j=1;j<s.length&&s[j]<=v;j+=2)A=j;A&&s.splice(0,A+1)}}}var Fy=G(3099);function Ly(i,e,t){let s,l=!1;return i&&"object"==typeof i?({bufferSize:s=1/0,windowTime:e=1/0,refCount:l=!1,scheduler:t}=i):s=null!=i?i:1/0,(0,Fy.B)({connector:()=>new qb(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var C0=G(590),Vy=G(576);function km(i,e){return(0,Vy.m)(e)?(0,Yl.w)(()=>i,e):(0,Yl.w)(()=>i)}var $p=G(9468);G(5867);const Vm=new Map,Uy={activated:!1,tokenObservers:[]},jy={initialized:!1,enabled:!1};function go(i){return Vm.get(i)||Uy}function wl(i,e){Vm.set(i,e)}function Kp(){return jy}class Yp{constructor(e,t,s,l,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,u.Z)(function*(){t.stop();try{t.pending=new Qe.BH,yield function N0(i){return new Promise(e=>{setTimeout(e,i)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qo=new Qe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hy(i){if(!go(i).activated)throw Qo.create("use-before-activation",{appName:i.name})}function jm(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,u.Z)(function*({url:i,body:e},t){const s={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const _e=yield l.getHeartbeatsHeader();_e&&(s["X-Firebase-Client"]=_e)}const p={method:"POST",body:JSON.stringify(e),headers:s};let v,A;try{v=yield fetch(i,p)}catch(_e){throw Qo.create("fetch-network-error",{originalErrorMessage:_e.message})}if(200!==v.status)throw Qo.create("fetch-status-error",{httpStatus:v.status});try{A=yield v.json()}catch(_e){throw Qo.create("fetch-parse-error",{originalErrorMessage:_e.message})}const j=A.ttl.match(/^([\d.]+)(s)$/);if(!j||!j[2]||isNaN(Number(j[1])))throw Qo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${A.ttl}`});const q=1e3*Number(j[1]),oe=Date.now();return{token:A.attestationToken,expireTimeMillis:oe+q,issuedAtTimeMillis:oe}}),Qp.apply(this,arguments)}function wh(i,e){const{projectId:t,appId:s,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${l}`,body:{debug_token:e}}}const wf="firebase-app-check-store";let Xp=null;function Hm(){return Xp||(Xp=new Promise((i,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{i(s.target.result)},t.onerror=s=>{var l;e(Qo.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(wf,{keyPath:"compositeKey"})}}catch(t){e(Qo.create("storage-open",{originalErrorMessage:t.message}))}}),Xp)}function zm(){return zm=(0,u.Z)(function*(i,e){const s=(yield Hm()).transaction(wf,"readwrite"),p=s.objectStore(wf).put({compositeKey:i,value:e});return new Promise((v,A)=>{p.onsuccess=j=>{v()},s.onerror=j=>{var q;A(Qo.create("storage-set",{originalErrorMessage:null===(q=j.target.error)||void 0===q?void 0:q.message}))}})}),zm.apply(this,arguments)}const Ef=new Je.Yd("@firebase/app-check");function Zy(i,e){return(0,Qe.hl)()?function $m(i,e){return function Wm(i,e){return zm.apply(this,arguments)}(function eg(i){return`${i.options.appId}-${i.name}`}(i),e)}(i,e).catch(t=>{Ef.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ky(){return Kp().enabled}function Yy(){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,u.Z)(function*(){const i=Kp();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ym.apply(this,arguments)}const Jy={error:"UNKNOWN_ERROR"};function Qy(i){return Qe.US.encodeString(JSON.stringify(i),!1)}function Cf(i){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,u.Z)(function*(i,e=!1){const t=i.app;Hy(t);const s=go(t);let p,l=s.token;if(!l){const j=yield s.cachedTokenPromise;j&&Eh(j)&&(l=j)}if(!e&&l&&Eh(l))return{token:l.token};let A,v=!1;if(Ky()){s.exchangeTokenPromise||(s.exchangeTokenPromise=jm(wh(t,yield Yy()),i.heartbeatServiceProvider).then(q=>(s.exchangeTokenPromise=void 0,q)),v=!0);const j=yield s.exchangeTokenPromise;return yield Zy(t,j),wl(t,Object.assign(Object.assign({},s),{token:j})),{token:j.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(j=>(s.exchangeTokenPromise=void 0,j)),v=!0),l=yield s.exchangeTokenPromise}catch(j){"appCheck/throttled"===j.code?Ef.warn(j.message):Ef.error(j),p=j}return l?(A={token:l.token},wl(t,Object.assign(Object.assign({},s),{token:l})),yield Zy(t,l)):A=ev(p),v&&ng(t,A),A}),Jm.apply(this,arguments)}function tg(i,e){const t=go(i),s=t.tokenObservers.filter(l=>l.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),wl(i,Object.assign(Object.assign({},t),{tokenObservers:s}))}function Xy(i){const{app:e}=i,t=go(e);let s=t.tokenRefresher;s||(s=function B0(i){const{app:e}=i;return new Yp((0,u.Z)(function*(){let s;if(s=go(e).token?yield Cf(i,!0):yield Cf(i),s.error)throw s.error}),()=>!0,()=>{const t=go(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(i),wl(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function ng(i,e){const t=go(i).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(l){}}function Eh(i){return i.expireTimeMillis-Date.now()>0}function ev(i){return{token:Qy(Jy),error:i}}class Qm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=go(this.app);for(const t of e)tg(this.app,t.next);return Promise.resolve()}}const av="app-check-internal";!function lv(){(0,Ke._registerComponent)(new Ye.wA("app-check",i=>function U0(i,e){return new Qm(i,e)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,t)=>{i.getProvider(av).initialize()})),(0,Ke._registerComponent)(new Ye.wA(av,i=>function j0(i){return{getToken:e=>Cf(i,e),addTokenListener:e=>function Tf(i,e,t,s){const{app:l}=i,p=go(l),v={next:t,error:s,type:e};if(wl(l,Object.assign(Object.assign({},p),{tokenObservers:[...p.tokenObservers,v]})),p.token&&Eh(p.token)){const A=p.token;Promise.resolve().then(()=>{t({token:A.token}),Xy(i)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Xy(i))}(i,"INTERNAL",e),removeTokenListener:e=>tg(i.app,e)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ke.registerVersion)("@firebase/app-check","0.5.5")}();class i_{constructor(){return(0,Ie.vb)("app-check")}}"undefined"!=typeof window&&window;const a_=new z.OlP("angularfire2.auth.use-emulator"),l_=new z.OlP("angularfire2.auth.settings"),u_=new z.OlP("angularfire2.auth.tenant-id"),c_=new z.OlP("angularfire2.auth.langugage-code"),hv=new z.OlP("angularfire2.auth.use-device-language"),fv=new z.OlP("angularfire.auth.persistence"),pv=(i,e,t,s,l,p,v,A)=>(0,je.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const j=e.runOutsideAngular(()=>i.auth());if(t&&j.useEmulator(...t),s&&(j.tenantId=s),j.languageCode=l,p&&j.useDeviceLanguage(),v)for(const[q,oe]of Object.entries(v))j.settings[q]=oe;return A&&j.setPersistence(A),j},[t,s,l,p,v,A]);let d_=(()=>{class i{constructor(t,s,l,p,v,A,j,q,oe,_e,qe,pt){const gt=new bf.x,Ut=(0,xe.of)(void 0).pipe((0,Ad.Q)(v.outsideAngular),(0,Yl.w)(()=>p.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,4087)))),(0,Ue.U)(()=>(0,je.on)(t,p,s)),(0,Ue.U)(Dn=>pv(Dn,p,A,q,oe,_e,j,qe)),Ly({bufferSize:1,refCount:!1}));if((0,et.PM)(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{Ut.pipe((0,C0.P)()).subscribe();const ni=Ut.pipe((0,Yl.w)(jn=>jn.getRedirectResult().then(Dr=>Dr,()=>null)),Ie.iC,Ly({bufferSize:1,refCount:!1})),Fn=Ut.pipe((0,Yl.w)(jn=>new ye.y(Dr=>({unsubscribe:p.runOutsideAngular(()=>jn.onAuthStateChanged(or=>Dr.next(or),or=>Dr.error(or),()=>Dr.complete()))})))),cs=Ut.pipe((0,Yl.w)(jn=>new ye.y(Dr=>({unsubscribe:p.runOutsideAngular(()=>jn.onIdTokenChanged(or=>Dr.next(or),or=>Dr.error(or),()=>Dr.complete()))}))));this.authState=ni.pipe(km(Fn),(0,$p.R)(v.outsideAngular),(0,Ad.Q)(v.insideAngular)),this.user=ni.pipe(km(cs),(0,$p.R)(v.outsideAngular),(0,Ad.Q)(v.insideAngular)),this.idToken=this.user.pipe((0,Yl.w)(jn=>jn?(0,Ae.D)(jn.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe((0,Yl.w)(jn=>jn?(0,Ae.D)(jn.getIdTokenResult()):(0,xe.of)(null))),this.credential=(0,E0.T)(ni,gt,this.authState.pipe((0,ft.h)(jn=>!jn))).pipe((0,Ue.U)(jn=>(null==jn?void 0:jn.user)?jn:null),(0,$p.R)(v.outsideAngular),(0,Ad.Q)(v.insideAngular))}return(0,je.pX)(this,Ut,p,{spy:{apply:(Dn,ni,Fn)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&Fn.then(cs=>gt.next(cs))}}})}}return i.\u0275fac=function(t){return new(t||i)(z.LFG(je.Dh),z.LFG(je.xv,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ie.HU),z.LFG(a_,8),z.LFG(l_,8),z.LFG(u_,8),z.LFG(c_,8),z.LFG(hv,8),z.LFG(fv,8),z.LFG(i_,8))},i.\u0275prov=z.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Sh(i,e){return function eb(i,e=Ce.z){return new ye.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function rg(i,e){return Sh(i,e).pipe((0,Ue.U)(t=>({payload:t,type:"query"})))}function Of(i,e){return rg(i,e).pipe((0,Pe.O)(void 0),De(),(0,Ue.U)(([t,s])=>{const l=s.payload.docChanges(),p=l.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((v,A)=>{const j=l.find(oe=>oe.doc.ref.isEqual(v.ref)),q=null==t?void 0:t.payload.docs.find(oe=>oe.ref.isEqual(v.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(v.metadata)||!j&&q&&JSON.stringify(q.metadata)===JSON.stringify(v.metadata)||p.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:v}})}),p}))}function h_(i,e,t){return Of(i,t).pipe((0,Ze.R)((s,l)=>function mv(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function tb(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return ig(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ig(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ig(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(p=>p.payload),e),[]),(0,ot.x)(),(0,Ue.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function ig(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function _v(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class f_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Of(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ue.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,Pe.O)(void 0),De(),(0,ft.h)(([s,l])=>l.length>0||!s),(0,Ue.U)(([s,l])=>l),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ze.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=_v(e);return h_(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ie.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new yv(this.ref.doc(e),this.afs)}}class yv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:p}=Jl(s,t);return new f_(l,p,this.afs)}snapshotChanges(){return function gv(i,e){return Sh(i,e).pipe((0,Pe.O)(void 0),De(),(0,Ue.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ae.D)(this.ref.get(e)).pipe(Ie.iC)}}class nb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Of(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ft.h)(t=>t.length>0),Ie.iC):Of(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ze.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=_v(e);return h_(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Ie.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Ie.iC)}}const rb=new z.OlP("angularfire2.enableFirestorePersistence"),xf=new z.OlP("angularfire2.firestore.persistenceSettings"),ib=new z.OlP("angularfire2.firestore.settings"),p_=new z.OlP("angularfire2.firestore.use-emulator");function Jl(i,e=(t=>t)){return{query:e(i),ref:i}}let sb=(()=>{class i{constructor(t,s,l,p,v,A,j,q,oe,_e,qe,pt,gt,Ut,Dn,ni,Fn){this.schedulers=j;const cs=(0,je.on)(t,A,s),jn=oe;_e&&pv(cs,A,qe,gt,Ut,Dn,pt,ni),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${cs.name}.firestore`,"AngularFirestore",cs.name,()=>{const Dr=A.runOutsideAngular(()=>cs.firestore());if(p&&Dr.settings(p),jn&&Dr.useEmulator(...jn),l&&!(0,et.PM)(v)){const or=()=>{try{return(0,Ae.D)(Dr.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(Ql){return"undefined"!=typeof console&&console.warn(Ql),(0,xe.of)(!1)}};return[Dr,A.runOutsideAngular(or)]}return[Dr,(0,xe.of)(!1)]},[p,jn,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:v}=Jl(l,s),A=this.schedulers.ngZone.run(()=>p);return new f_(A,v,this)}collectionGroup(t,s){const l=s||(v=>v),p=this.firestore.collectionGroup(t);return new nb(l(p),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new yv(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(z.LFG(je.Dh),z.LFG(je.xv,8),z.LFG(rb,8),z.LFG(ib,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ie.HU),z.LFG(xf,8),z.LFG(p_,8),z.LFG(d_,8),z.LFG(a_,8),z.LFG(l_,8),z.LFG(u_,8),z.LFG(c_,8),z.LFG(hv,8),z.LFG(fv,8),z.LFG(i_,8))},i.\u0275prov=z.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Rf=(()=>{class i{constructor(t,s){this.firestore=t,this.afAuth=s,this.isLogged=!1,s.authState.subscribe(l=>this.isLogged=l)}alta(t,s){var l=this;return(0,u.Z)(function*(){try{return yield l.firestore.collection(t).add(s)}catch(p){return alert(p),null}})()}onLogin(t,s){var l=this;return(0,u.Z)(function*(){try{return yield l.afAuth.signInWithEmailAndPassword(t,s)}catch(p){return console.log("Error on login",p),p}})()}onLoginWinthGoogle(){var t=this;return(0,u.Z)(function*(){try{return yield t.afAuth.signInWithPopup(new I.Z.auth.GoogleAuthProvider)}catch(s){return console.log("Error on login",s),s}})()}onRegister(t,s){var l=this;return(0,u.Z)(function*(){try{return yield l.afAuth.createUserWithEmailAndPassword(t,s)}catch(p){return console.log("Error on register",p),p}})()}traerTodo(t){var s=this;return(0,u.Z)(function*(){try{return yield s.firestore.collection(t).snapshotChanges()}catch(l){return alert(l),null}})()}}return i.\u0275fac=function(t){return new(t||i)(z.LFG(sb),z.LFG(d_))},i.\u0275prov=z.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},649:(Nt,He,G)=>{G.d(He,{k:()=>I});var u=G(5e3);let I=(()=>{class z{constructor(){this.toasts=[]}show(ye,Ae={}){this.toasts.push(Object.assign({textOrTpl:ye},Ae))}remove(ye){this.toasts=this.toasts.filter(Ae=>Ae!==ye)}}return z.\u0275fac=function(ye){return new(ye||z)},z.\u0275prov=u.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},4696:(Nt,He,G)=>{G.d(He,{S:()=>xe});var u=G(5e3),I=G(4948),z=G(9808),Ce=G(9100);const ye=function(Ie){return{"background-color":Ie}};function Ae(Ie,Pe){if(1&Ie&&(u.TgZ(0,"li",6),u._uU(1),u.qZA()),2&Ie){const ce=Pe.$implicit;u.s9C("routerLink",ce.ruta),u.Q6J("ngStyle",u.VKq(3,ye,ce.color)),u.xp6(1),u.hij("",ce.texto," ")}}let xe=(()=>{class Ie{constructor(){this.botones=[]}ngOnInit(){}}return Ie.\u0275fac=function(ce){return new(ce||Ie)},Ie.\u0275cmp=u.Xpm({type:Ie,selectors:[["app-navbar"]],inputs:{icono:"icono",titulo:"titulo",botones:"botones"},decls:7,vars:3,consts:[[1,"navbar","navbar-expand-lg","contenedorNavbar","m-3"],["alt","icono",1,"imgIconHeader",3,"src"],[1,"navbar-brand",2,"color","white","font-family","monospace"],[1,"navbar-collapse","d-flex","justify-content-end"],[1,"navbar-nav","ml-auto","m-2"],["class","nav-item m-1 nav-link btn text-white","type","button",3,"ngStyle","routerLink",4,"ngFor","ngForOf"],["type","button",1,"nav-item","m-1","nav-link","btn","text-white",3,"ngStyle","routerLink"]],template:function(ce,he){1&ce&&(u.TgZ(0,"nav",0),u._UZ(1,"img",1),u.TgZ(2,"a",2),u._uU(3),u.qZA(),u.TgZ(4,"div",3)(5,"ul",4),u.YNc(6,Ae,2,5,"li",5),u.qZA()()()),2&ce&&(u.xp6(1),u.Q6J("src",he.icono,u.LSH),u.xp6(2),u.Oqu(he.titulo),u.xp6(3),u.Q6J("ngForOf",he.botones))},directives:[I.M2,z.sg,z.PC,Ce.rH],styles:[".imgIconHeader[_ngcontent-%COMP%]{width:3%;height:3%}.contenedorNavbar[_ngcontent-%COMP%]{border-radius:20px;background-color:#e02f188a}"]}),Ie})()},1779:(Nt,He,G)=>{var u=G(9808),I=G(5e3);class z extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends z{static makeCurrent(){(0,u.HT)(new Ce)}onAndCancel(le,X,fe){return le.addEventListener(X,fe,!1),()=>{le.removeEventListener(X,fe,!1)}}dispatchEvent(le,X){le.dispatchEvent(X)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,X){return(X=X||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,X){return"window"===X?window:"document"===X?le:"body"===X?le.body:null}getBaseHref(le){const X=function Ae(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==X?null:function Ie(de){xe=xe||document.createElement("a"),xe.setAttribute("href",de);const le=xe.pathname;return"/"===le.charAt(0)?le:`/${le}`}(X)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,u.Mx)(document.cookie,le)}}let xe,ye=null;const Pe=new I.OlP("TRANSITION_ID"),he=[{provide:I.ip1,useFactory:function ce(de,le,X){return()=>{X.get(I.CZH).donePromise.then(()=>{const fe=(0,u.q)(),Xe=le.querySelectorAll(`style[ng-transition="${de}"]`);for(let It=0;It<Xe.length;It++)fe.remove(Xe[It])})}},deps:[Pe,u.K0,I.zs3],multi:!0}];class De{static init(){(0,I.VLi)(new De)}addToWindow(le){I.dqk.getAngularTestability=(fe,Xe=!0)=>{const It=le.findTestabilityInTree(fe,Xe);if(null==It)throw new Error("Could not find testability for element.");return It},I.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push(fe=>{const Xe=I.dqk.getAllAngularTestabilities();let It=Xe.length,sn=!1;const Bn=function(Gr){sn=sn||Gr,It--,0==It&&fe(sn)};Xe.forEach(function(Gr){Gr.whenStable(Bn)})})}findTestabilityInTree(le,X,fe){if(null==X)return null;const Xe=le.getTestability(X);return null!=Xe?Xe:fe?(0,u.q)().isShadowRoot(X)?this.findTestabilityInTree(le,X.host,!0):this.findTestabilityInTree(le,X.parentElement,!0):null}}let Ue=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})();const Ze=new I.OlP("EventManagerPlugins");let ot=(()=>{class de{constructor(X,fe){this._zone=fe,this._eventNameToPlugin=new Map,X.forEach(Xe=>Xe.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,fe,Xe){return this._findPluginFor(fe).addEventListener(X,fe,Xe)}addGlobalEventListener(X,fe,Xe){return this._findPluginFor(fe).addGlobalEventListener(X,fe,Xe)}getZone(){return this._zone}_findPluginFor(X){const fe=this._eventNameToPlugin.get(X);if(fe)return fe;const Xe=this._plugins;for(let It=0;It<Xe.length;It++){const sn=Xe[It];if(sn.supports(X))return this._eventNameToPlugin.set(X,sn),sn}throw new Error(`No event manager plugin found for event ${X}`)}}return de.\u0275fac=function(X){return new(X||de)(I.LFG(Ze),I.LFG(I.R0b))},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})();class ft{constructor(le){this._doc=le}addGlobalEventListener(le,X,fe){const Xe=(0,u.q)().getGlobalEventTarget(this._doc,le);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${X}`);return this.addEventListener(Xe,X,fe)}}let je=(()=>{class de{constructor(){this._stylesSet=new Set}addStyles(X){const fe=new Set;X.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),fe.add(Xe))}),this.onStylesAdded(fe)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})(),et=(()=>{class de extends je{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,fe,Xe){X.forEach(It=>{const sn=this._doc.createElement("style");sn.textContent=It,Xe.push(fe.appendChild(sn))})}addHost(X){const fe=[];this._addStylesToHost(this._stylesSet,X,fe),this._hostNodes.set(X,fe)}removeHost(X){const fe=this._hostNodes.get(X);fe&&fe.forEach(Tt),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((fe,Xe)=>{this._addStylesToHost(X,Xe,fe)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(Tt))}}return de.\u0275fac=function(X){return new(X||de)(I.LFG(u.K0))},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})();function Tt(de){(0,u.q)().remove(de)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g;function ue(de,le,X){for(let fe=0;fe<le.length;fe++){let Xe=le[fe];Array.isArray(Xe)?ue(de,Xe,X):(Xe=Xe.replace(Ke,de),X.push(Xe))}return X}function ve(de){return le=>{if("__ngUnwrap__"===le)return de;!1===de(le)&&(le.preventDefault(),le.returnValue=!1)}}let it=(()=>{class de{constructor(X,fe,Xe){this.eventManager=X,this.sharedStylesHost=fe,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Ge(X)}createRenderer(X,fe){if(!X||!fe)return this.defaultRenderer;switch(fe.encapsulation){case I.ifc.Emulated:{let Xe=this.rendererByCompId.get(fe.id);return Xe||(Xe=new Jn(this.eventManager,this.sharedStylesHost,fe,this.appId),this.rendererByCompId.set(fe.id,Xe)),Xe.applyToHost(X),Xe}case 1:case I.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,X,fe);default:if(!this.rendererByCompId.has(fe.id)){const Xe=ue(fe.id,fe.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(fe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return de.\u0275fac=function(X){return new(X||de)(I.LFG(ot),I.LFG(et),I.LFG(I.AFp))},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})();class Ge{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,X){return X?document.createElementNS(bt[X]||X,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,X){le.appendChild(X)}insertBefore(le,X,fe){le&&le.insertBefore(X,fe)}removeChild(le,X){le&&le.removeChild(X)}selectRootElement(le,X){let fe="string"==typeof le?document.querySelector(le):le;if(!fe)throw new Error(`The selector "${le}" did not match any elements`);return X||(fe.textContent=""),fe}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,X,fe,Xe){if(Xe){X=Xe+":"+X;const It=bt[Xe];It?le.setAttributeNS(It,X,fe):le.setAttribute(X,fe)}else le.setAttribute(X,fe)}removeAttribute(le,X,fe){if(fe){const Xe=bt[fe];Xe?le.removeAttributeNS(Xe,X):le.removeAttribute(`${fe}:${X}`)}else le.removeAttribute(X)}addClass(le,X){le.classList.add(X)}removeClass(le,X){le.classList.remove(X)}setStyle(le,X,fe,Xe){Xe&(I.JOm.DashCase|I.JOm.Important)?le.style.setProperty(X,fe,Xe&I.JOm.Important?"important":""):le.style[X]=fe}removeStyle(le,X,fe){fe&I.JOm.DashCase?le.style.removeProperty(X):le.style[X]=""}setProperty(le,X,fe){le[X]=fe}setValue(le,X){le.nodeValue=X}listen(le,X,fe){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,X,ve(fe)):this.eventManager.addEventListener(le,X,ve(fe))}}class Jn extends Ge{constructor(le,X,fe,Xe){super(le),this.component=fe;const It=ue(Xe+"-"+fe.id,fe.styles,[]);X.addStyles(It),this.contentAttr=function be(de){return"_ngcontent-%COMP%".replace(Ke,de)}(Xe+"-"+fe.id),this.hostAttr=function ie(de){return"_nghost-%COMP%".replace(Ke,de)}(Xe+"-"+fe.id)}applyToHost(le){super.setAttribute(le,this.hostAttr,"")}createElement(le,X){const fe=super.createElement(le,X);return super.setAttribute(fe,this.contentAttr,""),fe}}class Mt extends Ge{constructor(le,X,fe,Xe){super(le),this.sharedStylesHost=X,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const It=ue(Xe.id,Xe.styles,[]);for(let sn=0;sn<It.length;sn++){const Bn=document.createElement("style");Bn.textContent=It[sn],this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(le,X){return super.appendChild(this.nodeOrShadowRoot(le),X)}insertBefore(le,X,fe){return super.insertBefore(this.nodeOrShadowRoot(le),X,fe)}removeChild(le,X){return super.removeChild(this.nodeOrShadowRoot(le),X)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}}let en=(()=>{class de extends ft{constructor(X){super(X)}supports(X){return!0}addEventListener(X,fe,Xe){return X.addEventListener(fe,Xe,!1),()=>this.removeEventListener(X,fe,Xe)}removeEventListener(X,fe,Xe){return X.removeEventListener(fe,Xe)}}return de.\u0275fac=function(X){return new(X||de)(I.LFG(u.K0))},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})();const qt=["alt","control","meta","shift"],Ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cr={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let Pn=(()=>{class de extends ft{constructor(X){super(X)}supports(X){return null!=de.parseEventName(X)}addEventListener(X,fe,Xe){const It=de.parseEventName(fe),sn=de.eventCallback(It.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(X,It.domEventName,sn))}static parseEventName(X){const fe=X.toLowerCase().split("."),Xe=fe.shift();if(0===fe.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const It=de._normalizeKey(fe.pop());let sn="";if(qt.forEach(Gr=>{const Gi=fe.indexOf(Gr);Gi>-1&&(fe.splice(Gi,1),sn+=Gr+".")}),sn+=It,0!=fe.length||0===It.length)return null;const Bn={};return Bn.domEventName=Xe,Bn.fullKey=sn,Bn}static getEventFullKey(X){let fe="",Xe=function un(de){let le=de.key;if(null==le){if(le=de.keyIdentifier,null==le)return"Unidentified";le.startsWith("U+")&&(le=String.fromCharCode(parseInt(le.substring(2),16)),3===de.location&&pn.hasOwnProperty(le)&&(le=pn[le]))}return Ln[le]||le}(X);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),qt.forEach(It=>{It!=Xe&&cr[It](X)&&(fe+=It+".")}),fe+=Xe,fe}static eventCallback(X,fe,Xe){return It=>{de.getEventFullKey(It)===X&&Xe.runGuarded(()=>fe(It))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return de.\u0275fac=function(X){return new(X||de)(I.LFG(u.K0))},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac}),de})();const li=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:u.bD},{provide:I.g9A,useValue:function Ur(){Ce.makeCurrent(),De.init()},multi:!0},{provide:u.K0,useFactory:function ji(){return(0,I.RDi)(document),document},deps:[]}]),Nr=[{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function ai(){return new I.qLn},deps:[]},{provide:Ze,useClass:en,multi:!0,deps:[u.K0,I.R0b,I.Lbi]},{provide:Ze,useClass:Pn,multi:!0,deps:[u.K0]},{provide:it,useClass:it,deps:[ot,et,I.AFp]},{provide:I.FYo,useExisting:it},{provide:je,useExisting:et},{provide:et,useClass:et,deps:[u.K0]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b]},{provide:ot,useClass:ot,deps:[Ze,I.R0b]},{provide:u.JF,useClass:Ue,deps:[]}];let qn=(()=>{class de{constructor(X){if(X)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(X){return{ngModule:de,providers:[{provide:I.AFp,useValue:X.appId},{provide:Pe,useExisting:I.AFp},he]}}}return de.\u0275fac=function(X){return new(X||de)(I.LFG(de,12))},de.\u0275mod=I.oAB({type:de}),de.\u0275inj=I.cJS({providers:Nr,imports:[u.ez,I.hGG]}),de})();"undefined"!=typeof window&&window;var zt=G(649),hn=G(4948);function lr(de,le){}function gn(de,le){if(1&de&&I.YNc(0,lr,0,0,"ng-template",4),2&de){const X=I.oxw().$implicit;I.Q6J("ngTemplateOutlet",X.textOrTpl)}}function Vn(de,le){if(1&de&&I._uU(0),2&de){const X=I.oxw().$implicit;I.Oqu(X.textOrTpl)}}function ln(de,le){if(1&de){const X=I.EpF();I.TgZ(0,"ngb-toast",1),I.NdJ("hidden",function(){const It=I.CHM(X).$implicit;return I.oxw().toastService.remove(It)}),I.YNc(1,gn,1,1,"ng-template",2),I.YNc(2,Vn,1,1,"ng-template",null,3,I.W1O),I.qZA()}if(2&de){const X=le.$implicit,fe=I.MAs(3),Xe=I.oxw();I.Tol(X.classname),I.Q6J("autohide",!0)("delay",X.delay||3e3),I.xp6(1),I.Q6J("ngIf",Xe.isTemplate(X))("ngIfElse",fe)}}let On=(()=>{class de{constructor(X){this.toastService=X}ngOnInit(){}isTemplate(X){return X.textOrTpl instanceof I.Rgc}}return de.\u0275fac=function(X){return new(X||de)(I.Y36(zt.k))},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-toast"]],decls:1,vars:1,consts:[["style","position: absolute;\n      left:auto; right: auto; margin-left: auto; margin-right: auto;\n      top: 15px; z-index: 999; text-align: center;",3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[2,"position","absolute","left","auto","right","auto","margin-left","auto","margin-right","auto","top","15px","z-index","999","text-align","center",3,"autohide","delay","hidden"],[3,"ngIf","ngIfElse"],["text",""],[3,"ngTemplateOutlet"]],template:function(X,fe){1&X&&I.YNc(0,ln,4,6,"ngb-toast",0),2&X&&I.Q6J("ngForOf",fe.toastService.toasts)},directives:[u.sg,hn.Iv,u.O5,u.tP],styles:[""]}),de})();var Zn=G(9100);let xi=(()=>{class de{constructor(){this.title="tp-sala-de-juegos-lcardozo"}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-root"]],decls:2,vars:0,consts:[["aria-live","polite","aria-atomic","true",1,"d-flex","justify-content-center","align-items-center"]],template:function(X,fe){1&X&&I._UZ(0,"app-toast",0)(1,"router-outlet")},directives:[On,Zn.lC],styles:[""]}),de})();var jr=G(5861);class ds{constructor(){this.email="",this.password=""}}var ur=G(5161);let Qn=(()=>{class de{constructor(){this.title=""}ngOnInit(){}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-title-decoration"]],inputs:{title:"title"},decls:10,vars:1,consts:[["viewBox","0 0 960 300"],["id","s-text"],["text-anchor","middle","x","50%","y","80%"],[1,"g-ants"],[0,"xlink","href","#s-text",1,"text-copy"]],template:function(X,fe){1&X&&(I.O4$(),I.TgZ(0,"svg",0)(1,"symbol",1)(2,"text",2),I._uU(3),I.qZA()(),I.TgZ(4,"g",3),I._UZ(5,"use",4)(6,"use",4)(7,"use",4)(8,"use",4)(9,"use",4),I.qZA()()),2&X&&(I.xp6(3),I.Oqu(fe.title))},styles:['@import"https://fonts.googleapis.com/css?family=Montserrat";svg[_ngcontent-%COMP%]{display:block;font:7rem Montserrat;width:860px;height:200px;max-width:100%;margin:0 auto}.text-copy[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-dasharray:6% 29%;stroke-width:5px;stroke-dashoffset:0%;animation:stroke-offset 3s infinite linear}.text-copy[_ngcontent-%COMP%]:nth-child(1){stroke:#4d163d;animation-delay:-.1s}.text-copy[_ngcontent-%COMP%]:nth-child(2){stroke:#840037;animation-delay:-.6s}.text-copy[_ngcontent-%COMP%]:nth-child(3){stroke:#bd0034;animation-delay:-1.2s}.text-copy[_ngcontent-%COMP%]:nth-child(4){stroke:#bd0034;animation-delay:-2.4s}.text-copy[_ngcontent-%COMP%]:nth-child(5){stroke:#fdb731;animation-delay:-4.8s}@keyframes stroke-offset{to{stroke-dashoffset:-35%}}']}),de})();var Zr=G(2382);const Kr=function(){return["/register"]};let at=(()=>{class de{constructor(X,fe,Xe){this.database=X,this.router=fe,this.toastService=Xe,this.user=new ds,this.listaDeCorreos=[],this.usuario={email:"",password:""}}ngOnInit(){var X=this;return(0,jr.Z)(function*(){const fe=yield X.database.traerTodo("users");null==fe||fe.subscribe(Xe=>{X.listaDeCorreos=Xe.map(It=>It.payload.doc.data())})})()}loginWithValidation(){if(this.listaDeCorreos.find(fe=>fe.email==this.user.email&&fe.password==this.user.password))try{this.database.onLogin(this.user.email,this.user.password).then(()=>{this.database.emailUsuarioLogeado=this.user.email,setTimeout(()=>{this.router.navigate(["/home"])},200),this.toastService.show("Successfully user",{classname:"bg-success",delay:"2000"})})}catch(fe){this.toastService.show("Error login",{classname:"bg-warning",delay:"2000"})}else""==this.user.email||""==this.user.password?this.toastService.show("Por favor complete todos los campos",{classname:"bg-warning",delay:"2000"}):this.toastService.show("El usuario no existe",{classname:"bg-danger",delay:"2000"})}userAutocomplete(X,fe){this.user.email=X,this.user.password=fe}}return de.\u0275fac=function(X){return new(X||de)(I.Y36(ur.T),I.Y36(Zn.F0),I.Y36(zt.k))},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-login"]],decls:21,vars:5,consts:[[1,"contenedor"],[3,"title"],[1,"card","mt-5","flexCenterCenter"],[1,"card-body","flexCenterCenter"],["type","email","placeholder","Email",1,"form-control","mt-2",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control","mt-2",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-between"],[1,"mt-3",3,"click"],["src","https://img.freepik.com/vector-gratis/cute-cat-gaming-auriculares-consola-cartoon-icon-illustration-concepto-icono-juego-animal-aislado-estilo-dibujos-animados-plana_138676-1739.jpg?w=740","alt","",1,"imgAutoCompletar"],["src","https://img.freepik.com/vector-gratis/cute-cat-gaming-icon-ilustracion-concepto-icono-juego-animal-aislado-estilo-plano-dibujos-animados_138676-1271.jpg?w=740","alt","",1,"imgAutoCompletar"],[1,"d-flex","justify-content-center","mt-3"],[1,"btn","btn-warning","btnActive",3,"click"],[1,"btn","btn-outline-danger",3,"routerLink"]],template:function(X,fe){1&X&&(I.TgZ(0,"div",0)(1,"div"),I._UZ(2,"app-title-decoration",1),I.TgZ(3,"div",2)(4,"div",3)(5,"div")(6,"input",4),I.NdJ("ngModelChange",function(It){return fe.user.email=It}),I.qZA(),I.TgZ(7,"input",5),I.NdJ("ngModelChange",function(It){return fe.user.password=It}),I.qZA(),I.TgZ(8,"div",6)(9,"a",7),I.NdJ("click",function(){return fe.userAutocomplete("thiago@gmail.com","000000")}),I._UZ(10,"img",8),I._uU(11,"Thiago"),I.qZA(),I.TgZ(12,"a",7),I.NdJ("click",function(){return fe.userAutocomplete("lucia@gmail.com","123456")}),I._UZ(13,"img",9),I._uU(14,"Luc\xeda"),I.qZA()(),I.TgZ(15,"div",10)(16,"button",11),I.NdJ("click",function(){return fe.loginWithValidation()}),I._uU(17,"Login"),I.qZA()()()(),I.TgZ(18,"div",10)(19,"button",12),I._uU(20,"Register\u2192"),I.qZA()()()()()),2&X&&(I.xp6(2),I.Q6J("title","Sala de Juegos"),I.xp6(4),I.Q6J("ngModel",fe.user.email),I.xp6(1),I.Q6J("ngModel",fe.user.password),I.xp6(12),I.Q6J("routerLink",I.DdM(4,Kr)))},directives:[Qn,Zr.Fj,Zr.JJ,Zr.On,Zn.rH],styles:["input[_ngcontent-%COMP%]::placeholder, p[_ngcontent-%COMP%], input[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#000;text-decoration:none;text-align:center;background-color:transparent}input[_ngcontent-%COMP%]{border-style:outset;border-color:#ff0}.contenedor[_ngcontent-%COMP%]{flex-wrap:wrap}.imgAutoCompletar[_ngcontent-%COMP%]{border-radius:50px;border-style:groove;border-color:#ff0;width:90px;height:90px}.imgAutoCompletar[_ngcontent-%COMP%]:active{transform:scale(.95)}a[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]{background-color:transparent;border:none}.card-body[_ngcontent-%COMP%]{width:50%;border-radius:10px;border-style:dashed;border-color:red}"]}),de})();var jt=G(4696);function Cn(de,le){if(1&de){const X=I.EpF();I.TgZ(0,"div",6),I.NdJ("click",function(){const It=I.CHM(X).$implicit;return I.oxw().juegoSeleccionado(It)}),I.TgZ(1,"div")(2,"h3"),I._uU(3),I.qZA(),I._UZ(4,"img",7)(5,"br"),I.TgZ(6,"label"),I._uU(7,"juego.descripcion"),I.qZA(),I._UZ(8,"br"),I.qZA()()}if(2&de){const X=le.$implicit;I.xp6(3),I.Oqu(X.nombre),I.xp6(1),I.Q6J("src",X.img,I.LSH)}}let yr=(()=>{class de{constructor(X,fe){this.database=X,this.router=fe,this.buttons=[{ruta:"/quienSoy",texto:"Who I'm?",color:""},{ruta:"/login",texto:"Log Out",color:"red"}],this.juegos=[{nombre:"Ahorcado",route:"/juegos/ahorcado",descripcion:"",img:"../../../assets/ahorcado.png"},{nombre:"Mayor o Menor",route:"/juegos/mayorOMenor",descripcion:"",img:"../../../assets/MayorOMenor.webp"}],this.title=""}ngOnInit(){this.email=this.database.emailUsuarioLogeado,this.title="Welcome "+this.email.split("@")[0].charAt(0).toUpperCase()+this.email.split("@")[0].substr(1).toLowerCase()}juegoSeleccionado(X){this.router.navigate([X.route])}}return de.\u0275fac=function(X){return new(X||de)(I.Y36(ur.T),I.Y36(Zn.F0))},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-home"]],decls:6,vars:5,consts:[[1,"col-12","text-center"],[3,"icono","titulo","botones"],[3,"title"],[1,"divContainerPokemon","flexCenterCenter"],[1,"divPokemon"],["class","pokemonCard flexCenterCenter",3,"click",4,"ngFor","ngForOf"],[1,"pokemonCard","flexCenterCenter",3,"click"],["width","200px","alt","img-juego",3,"src"]],template:function(X,fe){1&X&&(I.TgZ(0,"div",0),I._UZ(1,"app-navbar",1)(2,"app-title-decoration",2),I.TgZ(3,"div",3)(4,"div",4),I.YNc(5,Cn,9,2,"div",5),I.qZA()()()),2&X&&(I.xp6(1),I.Q6J("icono","http://simpleicon.com/wp-content/uploads/rocket.svg")("titulo","Home")("botones",fe.buttons),I.xp6(1),I.Q6J("title",fe.title),I.xp6(3),I.Q6J("ngForOf",fe.juegos))},directives:[jt.S,Qn,u.sg],styles:[".divPokemon[_ngcontent-%COMP%]{width:80%;box-shadow:0 0 25px red;border-radius:10px;display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(15rem,1fr));grid-auto-rows:23rem;margin:1rem;max-height:55vh;overflow:scroll}.divPokemon[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pokemonCard[_ngcontent-%COMP%]{border-radius:10%;background-color:#dc3545;width:90%;margin:1rem;max-width:100%;text-align:center;color:#fff}"]}),de})();const Ri=function(){return["/login"]};let vr=(()=>{class de{constructor(){}ngOnInit(){}}return de.\u0275fac=function(X){return new(X||de)},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-error"]],decls:6,vars:2,consts:[[1,"container"],["src","../../../assets/404 Error with a cute animal-bro.svg","alt","","width","500px","height","500px"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","btn-outline-primary","m-3",3,"routerLink"]],template:function(X,fe){1&X&&(I.TgZ(0,"div",0)(1,"div"),I._UZ(2,"img",1),I.TgZ(3,"div",2)(4,"button",3),I._uU(5,"\u2190 Login"),I.qZA()()()()),2&X&&(I.xp6(4),I.Q6J("routerLink",I.DdM(1,Ri)))},directives:[Zn.rH],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}"]}),de})();const xn=function(){return["/login"]},wr=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:at},{path:"quienSoy",component:(()=>{class de{constructor(X,fe){this.router=X,this.database=fe,this.buttons=[{ruta:"/home",texto:"Home",color:""}],this.email="name"}ngOnInit(){this.email=this.database.emailUsuarioLogeado,this.name=this.email.split("@")[0].charAt(0).toUpperCase()+this.email.split("@")[0].substr(1).toLowerCase()}onLogout(){this.router.navigateByUrl("/login")}}return de.\u0275fac=function(X){return new(X||de)(I.Y36(Zn.F0),I.Y36(ur.T))},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-quien-soy"]],decls:11,vars:4,consts:[[3,"icono","titulo","botones"],[1,"asd","card","col-md-6","mx-auto"],[1,"text-center","mt-5"],["src","https://avatars.githubusercontent.com/u/47437137?v=4","alt","foto de perfil",1,"mx-auto","d-block","w-25","h-25","rounded-circle"],[1,"card-body"],[1,"text-center"],[1,"text-center","mt-3"],["href","https://github.com/LuciaCardozo"]],template:function(X,fe){1&X&&(I._UZ(0,"app-navbar",0),I.TgZ(1,"div",1)(2,"h1",2),I._uU(3,"Who I'm?"),I.qZA(),I._UZ(4,"img",3),I.TgZ(5,"form",4)(6,"h6",5),I._uU(7),I.qZA(),I.TgZ(8,"h6",6)(9,"a",7),I._uU(10,"GitHub Profile"),I.qZA()()()()),2&X&&(I.Q6J("icono","http://simpleicon.com/wp-content/uploads/rocket.svg")("titulo","Who I am")("botones",fe.buttons),I.xp6(7),I.hij("Hi! My name is ",fe.name," I'm 25 years old and I'm a student at the regional faculty of Avellaneda. This page is being designed little by little to demonstrate my knowledge. "))},directives:[jt.S,Zr._Y,Zr.JL,Zr.F],styles:[".asd[_ngcontent-%COMP%]{margin:100px;background-color:#f175008a;border-radius:30px}"]}),de})()},{path:"register",component:(()=>{class de{constructor(X,fe,Xe){this.database=X,this.router=fe,this.toastService=Xe,this.botones=[{ruta:"/login",texto:"Login",color:"#20afb4"}],this.listaDeCorreos=[],this.usuario={email:"",password:""}}ngOnInit(){var X=this;return(0,jr.Z)(function*(){const fe=yield X.database.traerTodo("users");null==fe||fe.subscribe(Xe=>{X.listaDeCorreos=Xe.map(It=>It.payload.doc.data())})})()}darDeAlta(){let X=this.usuario;this.listaDeCorreos.find(Xe=>Xe.email==X.email)||""==X.email||""==X.password?""==X.email||""==X.password?this.toastService.show("Por favor complete los datos pedidos",{classname:"bg-warning",delay:"2000"}):this.toastService.show("Ya existe usuario",{classname:"bg-danger",delay:"2000"}):this.database.onRegister(this.usuario.email,this.usuario.password).then(()=>{this.database.alta("users",this.usuario),this.database.emailUsuarioLogeado=this.usuario.email,setTimeout(()=>{this.router.navigateByUrl("/home")},200),this.toastService.show("Alta exitosa",{classname:"bg-success",delay:"2000"})})}test(){let X;this.database.traerTodo("users").then(fe=>{null==fe||fe.subscribe(Xe=>{Xe.forEach(It=>{X=It.payload.doc.data().email,console.log(X)})})})}}return de.\u0275fac=function(X){return new(X||de)(I.Y36(ur.T),I.Y36(Zn.F0),I.Y36(zt.k))},de.\u0275cmp=I.Xpm({type:de,selectors:[["app-register"]],decls:14,vars:5,consts:[[1,"contenedor"],[3,"title"],[1,"card","mt-5","flexCenterCenter"],[1,"card-body","flexCenterCenter"],["type","email","placeholder","Email",1,"form-control","mt-3",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control","mt-3",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary","btn-lg","mt-5",3,"click"],[1,"d-flex","justify-content-center","mt-3"],[1,"btn","btn-outline-danger",3,"routerLink"]],template:function(X,fe){1&X&&(I.TgZ(0,"div",0)(1,"div"),I._UZ(2,"app-title-decoration",1),I.TgZ(3,"div",2)(4,"div",3)(5,"div")(6,"input",4),I.NdJ("ngModelChange",function(It){return fe.usuario.email=It}),I.qZA(),I.TgZ(7,"input",5),I.NdJ("ngModelChange",function(It){return fe.usuario.password=It}),I.qZA(),I.TgZ(8,"div",6)(9,"button",7),I.NdJ("click",function(){return fe.darDeAlta()}),I._uU(10,"Register"),I.qZA()()()(),I.TgZ(11,"div",8)(12,"button",9),I._uU(13,"Login"),I.qZA()()()()()),2&X&&(I.xp6(2),I.Q6J("title","Sala de Juegos"),I.xp6(4),I.Q6J("ngModel",fe.usuario.email),I.xp6(1),I.Q6J("ngModel",fe.usuario.password),I.xp6(5),I.Q6J("routerLink",I.DdM(4,xn)))},directives:[Qn,Zr.Fj,Zr.JJ,Zr.On,Zn.rH],styles:["input[_ngcontent-%COMP%]::placeholder, p[_ngcontent-%COMP%], input[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#000;text-decoration:none;text-align:center;background-color:transparent}input[_ngcontent-%COMP%]{border-style:outset;border-color:#ff0}.contenedor[_ngcontent-%COMP%]{flex-wrap:wrap}a[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]{background-color:transparent;border:none}.card-body[_ngcontent-%COMP%]{width:50%;border-radius:10px;border-style:dashed;border-color:red}"]}),de})()},{path:"home",component:yr},{path:"juegos",loadChildren:()=>G.e(391).then(G.bind(G,6391)).then(de=>de.JuegosModule)},{path:"**",component:vr}];let rn=(()=>{class de{}return de.\u0275fac=function(X){return new(X||de)},de.\u0275mod=I.oAB({type:de}),de.\u0275inj=I.cJS({imports:[[Zn.Bz.forRoot(wr)],Zn.Bz]}),de})();var pi=G(2011),Ti=G(8754);const hs={apiKey:"AIzaSyDFS-2rJTcwby8d9K0PY6cw82haLpsfKOQ",authDomain:"scenic-setup-298622.firebaseapp.com",projectId:"scenic-setup-298622",storageBucket:"scenic-setup-298622.appspot.com",messagingSenderId:"645397347517",appId:"1:645397347517:web:7e5290e77b6530c9484bd4"};let di=(()=>{class de{}return de.\u0275fac=function(X){return new(X||de)},de.\u0275mod=I.oAB({type:de,bootstrap:[xi]}),de.\u0275inj=I.cJS({providers:[],imports:[[u.ez,qn,rn,hn.IJ,Zr.u5,pi.hO.initializeApp(hs),Ti.x]]}),de})();(0,I.G48)(),li().bootstrapModule(di).catch(de=>console.error(de))},5867:(Nt,He,G)=>{G.d(He,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=G(9681);(0,u.registerVersion)("firebase","9.6.10","app")},127:(Nt,He,G)=>{G.d(He,{Z:()=>u.Z});var u=G(3942);u.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(Nt,He,G)=>{G.r(He);var u=G(5861),I=G(3942),z=G(2090),Ce=G(9681),ye=G(655),Ae=G(1877),xe=G(4859);const ot=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ft=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},je=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new Ae.Yd("@firebase/auth");function bt(b,...f){Tt.logLevel<=Ae.in.ERROR&&Tt.error(`Auth (${Ce.SDK_VERSION}): ${b}`,...f)}function Ke(b,...f){throw vt(b,...f)}function Ye(b,...f){return vt(b,...f)}function Je(b,f,m){const E=Object.assign(Object.assign({},ft()),{[f]:m});return new z.LL("auth","Firebase",E).create(f,{appName:b.name})}function Qe(b,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ke(b,"argument-error"),Je(b,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(b,...f){if("string"!=typeof b){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(m,...E)}return je.create(b,...f)}function be(b,f,...m){if(!b)throw vt(f,...m)}function ie(b){const f="INTERNAL ASSERTION FAILED: "+b;throw bt(f),new Error(f)}function ue(b,f){b||ie(f)}const ve=new Map;function Oe(b){ue(b instanceof Function,"Expected a class definition");let f=ve.get(b);return f?(ue(f instanceof b,"Instance stored in cache mismatched with class"),f):(f=new b,ve.set(b,f),f)}function Gt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function _n(){return"http:"===Jn()||"https:"===Jn()}function Jn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class qt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ue(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Mt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wt(b,f){ue(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Ln{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cr=new qt(3e4,6e4);function Pn(b,f){return b.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:b.tenantId}):f}function un(b,f,m,E){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(b,f,m,E,H={}){return ai(b,H,(0,u.Z)(function*(){let ee={},Te={};E&&("GET"===f?Te=E:ee={body:JSON.stringify(E)});const tt=(0,z.xO)(Object.assign({key:b.config.apiKey},Te)).slice(1),St=yield b._getAdditionalHeaders();return St["Content-Type"]="application/json",b.languageCode&&(St["X-Firebase-Locale"]=b.languageCode),Ln.fetch()(Nr(b,b.config.apiHost,m,tt),Object.assign({method:f,headers:St,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function ai(b,f,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(b,f,m){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},pn),f);try{const H=new qn(b),ee=yield Promise.race([m(),H.promise]);H.clearNetworkTimeout();const Te=yield ee.json();if("needConfirmation"in Te)throw Mi(b,"account-exists-with-different-credential",Te);if(ee.ok&&!("errorMessage"in Te))return Te;{const tt=ee.ok?Te.errorMessage:Te.error.message,[St,Pt]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===St)throw Mi(b,"credential-already-in-use",Te);if("EMAIL_EXISTS"===St)throw Mi(b,"email-already-in-use",Te);const mn=E[St]||St.toLowerCase().replace(/[_\s]+/g,"-");if(Pt)throw Je(b,mn,Pt);Ke(b,mn)}}catch(H){if(H instanceof z.ZR)throw H;Ke(b,"network-request-failed")}})).apply(this,arguments)}function dr(b,f,m,E){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(b,f,m,E,H={}){const ee=yield un(b,f,m,E,H);return"mfaPendingCredential"in ee&&Ke(b,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function Nr(b,f,m,E){const H=`${f}${m}?${E}`;return b.config.emulator?Wt(b.config,H):`${b.config.apiScheme}://${H}`}class qn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Ye(this.auth,"network-request-failed")),cr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mi(b,f,m){const E={appName:b.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const H=Ye(b,f,E);return H.customData._tokenResponse=m,H}function ri(){return(ri=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function tr(b,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _r(b,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function nr(b){if(b)try{const f=new Date(Number(b));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function hr(){return(hr=(0,u.Z)(function*(b,f=!1){const m=(0,z.m9)(b),E=yield m.getIdToken(f),H=Ot(E);be(H&&H.exp&&H.auth_time&&H.iat,m.auth,"internal-error");const ee="object"==typeof H.firebase?H.firebase:void 0,Te=null==ee?void 0:ee.sign_in_provider;return{claims:H,token:E,authTime:nr(tn(H.auth_time)),issuedAtTime:nr(tn(H.iat)),expirationTime:nr(tn(H.exp)),signInProvider:Te||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function tn(b){return 1e3*Number(b)}function Ot(b){const[f,m,E]=b.split(".");if(void 0===f||void 0===m||void 0===E)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,z.tV)(m);return H?JSON.parse(H):(bt("Failed to decode base64 JWT payload"),null)}catch(H){return bt("Caught error parsing JWT payload as JSON",H),null}}function ar(b,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(b,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof z.ZR&&Sn(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Sn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class rr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const H=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class Gn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=nr(this.lastLoginAt),this.creationTime=nr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(b){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(b){var f;const m=b.auth,E=yield b.getIdToken(),H=yield ar(b,_r(m,{idToken:E}));be(null==H?void 0:H.users.length,m,"internal-error");const ee=H.users[0];b._notifyReloadListener(ee);const Te=(null===(f=ee.providerUserInfo)||void 0===f?void 0:f.length)?dt(ee.providerUserInfo):[],tt=Rt(b.providerData,Te),mn=!!b.isAnonymous&&!(b.email&&ee.passwordHash||(null==tt?void 0:tt.length)),on={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:tt,metadata:new Gn(ee.createdAt,ee.lastLoginAt),isAnonymous:mn};Object.assign(b,on)})).apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(b){const f=(0,z.m9)(b);yield ii(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Rt(b,f){return[...b.filter(E=>!f.some(H=>H.providerId===E.providerId)),...f]}function dt(b){return b.map(f=>{var{providerId:m}=f,E=(0,ye._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Zt(){return(Zt=(0,u.Z)(function*(b,f){const m=yield ai(b,{},(0,u.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:H,apiKey:ee}=b.config,Te=Nr(b,H,"/v1/token",`key=${ee}`),tt=yield b._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(Te,{method:"POST",headers:tt,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){be(f.idToken,"internal-error"),be(void 0!==f.idToken,"internal-error"),be(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Ht(b){const f=Ot(b);return be(f,"internal-error"),be(void 0!==f.exp,"internal-error"),be(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,u.Z)(function*(){return be(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,u.Z)(function*(){const{accessToken:H,refreshToken:ee,expiresIn:Te}=yield function Lt(b,f){return Zt.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(H,ee,Number(Te))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:H,expirationTime:ee}=m,Te=new Kt;return E&&(be("string"==typeof E,"internal-error",{appName:f}),Te.refreshToken=E),H&&(be("string"==typeof H,"internal-error",{appName:f}),Te.accessToken=H),ee&&(be("number"==typeof ee,"internal-error",{appName:f}),Te.expirationTime=ee),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return ie("not implemented")}}function an(b,f){be("string"==typeof b||void 0===b,"internal-error",{appName:f})}class pe{constructor(f){var{uid:m,auth:E,stsTokenManager:H}=f,ee=(0,ye._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new Gn(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,u.Z)(function*(){const E=yield ar(m,m.stsTokenManager.getToken(m.auth,f));return be(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function Mr(b){return hr.apply(this,arguments)}(this,f)}reload(){return function ui(b){return En.apply(this,arguments)}(this)}_assign(f){this!==f&&(be(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new pe(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,u.Z)(function*(){let H=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),H=!0),m&&(yield ii(E)),yield E.auth._persistUserIfCurrent(E),H&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,u.Z)(function*(){const m=yield f.getIdToken();return yield ar(f,function xt(b,f){return ri.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,H,ee,Te,tt,St,Pt,mn;const on=null!==(E=m.displayName)&&void 0!==E?E:void 0,wi=null!==(H=m.email)&&void 0!==H?H:void 0,Io=null!==(ee=m.phoneNumber)&&void 0!==ee?ee:void 0,Bu=null!==(Te=m.photoURL)&&void 0!==Te?Te:void 0,id=null!==(tt=m.tenantId)&&void 0!==tt?tt:void 0,pc=null!==(St=m._redirectEventId)&&void 0!==St?St:void 0,zd=null!==(Pt=m.createdAt)&&void 0!==Pt?Pt:void 0,Gf=null!==(mn=m.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:Gl,emailVerified:sd,isAnonymous:gc,providerData:qd,stsTokenManager:od}=m;be(Gl&&od,f,"internal-error");const Zd=Kt.fromJSON(this.name,od);be("string"==typeof Gl,f,"internal-error"),an(on,f.name),an(wi,f.name),be("boolean"==typeof sd,f,"internal-error"),be("boolean"==typeof gc,f,"internal-error"),an(Io,f.name),an(Bu,f.name),an(id,f.name),an(pc,f.name),an(zd,f.name),an(Gf,f.name);const Kd=new pe({uid:Gl,auth:f,email:wi,emailVerified:sd,displayName:on,isAnonymous:gc,photoURL:Bu,phoneNumber:Io,tenantId:id,stsTokenManager:Zd,createdAt:zd,lastLoginAt:Gf});return qd&&Array.isArray(qd)&&(Kd.providerData=qd.map(Hf=>Object.assign({},Hf))),pc&&(Kd._redirectEventId=pc),Kd}static _fromIdTokenResponse(f,m,E=!1){return(0,u.Z)(function*(){const H=new Kt;H.updateFromServerResponse(m);const ee=new pe({uid:m.localId,auth:f,stsTokenManager:H,isAnonymous:E});return yield ii(ee),ee})()}}const Ee=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,E){var H=this;return(0,u.Z)(function*(){H.storage[m]=E})()}_get(m){var E=this;return(0,u.Z)(function*(){const H=E.storage[m];return void 0===H?null:H})()}_remove(m){var E=this;return(0,u.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return b.type="NONE",b})();function $e(b,f,m){return`firebase:${b}:${f}:${m}`}class Re{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:H,name:ee}=this.auth;this.fullUserKey=$e(this.userKey,H.apiKey,ee),this.fullPersistenceKey=$e("persistence",H.apiKey,ee),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?pe._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,u.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Re(Oe(Ee),f,E);const H=(yield Promise.all(m.map(function(){var Pt=(0,u.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let ee=H[0]||Oe(Ee);const Te=$e(E,f.config.apiKey,f.name);let tt=null;for(const Pt of m)try{const mn=yield Pt._get(Te);if(mn){const on=pe._fromJSON(f,mn);Pt!==ee&&(tt=on),ee=Pt;break}}catch(mn){}const St=H.filter(Pt=>Pt._shouldAllowMigration);return ee._shouldAllowMigration&&St.length?(ee=St[0],tt&&(yield ee._set(Te,tt.toJSON())),yield Promise.all(m.map(function(){var Pt=(0,u.Z)(function*(mn){if(mn!==ee)try{yield mn._remove(Te)}catch(on){}});return function(mn){return Pt.apply(this,arguments)}}())),new Re(ee,f,E)):new Re(ee,f,E)})()}}function _t(b){const f=b.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(gn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(zt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ln(f))return"Blackberry";if(On(f))return"Webos";if(hn(f))return"Safari";if((f.includes("chrome/")||lr(f))&&!f.includes("edge/"))return"Chrome";if(Vn(f))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function zt(b=(0,z.z$)()){return/firefox\//i.test(b)}function hn(b=(0,z.z$)()){const f=b.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function lr(b=(0,z.z$)()){return/crios\//i.test(b)}function gn(b=(0,z.z$)()){return/iemobile/i.test(b)}function Vn(b=(0,z.z$)()){return/android/i.test(b)}function ln(b=(0,z.z$)()){return/blackberry/i.test(b)}function On(b=(0,z.z$)()){return/webos/i.test(b)}function Zn(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)}function ur(b=(0,z.z$)()){return Zn(b)||Vn(b)||On(b)||ln(b)||/windows phone/i.test(b)||gn(b)}function Zr(b,f=[]){let m;switch(b){case"Browser":m=_t((0,z.z$)());break;case"Worker":m=`${_t((0,z.z$)())}-${b}`;break;default:m=b}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${Ce.SDK_VERSION}/${E}`}class Kr{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jt(this),this.idTokenSubscription=new jt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=Oe(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var H,ee;if(!E._deleted&&(E.persistenceManager=yield Re.create(E,f),!E._deleted)){if(null===(H=E._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(Te){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(ee=E.currentUser)||void 0===ee?void 0:ee.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,u.Z)(function*(){var E;let H=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ee=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Te=null==H?void 0:H._redirectEventId,tt=yield m.tryRedirectSignIn(f);(!ee||ee===Te)&&(null==tt?void 0:tt.user)&&(H=tt.user)}return H?H._redirectEventId?(be(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===H._redirectEventId?m.directlySetCurrentUser(H):m.reloadAndSetCurrentUserOrClear(H)):m.reloadAndSetCurrentUserOrClear(H):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,u.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(H){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,u.Z)(function*(){try{yield ii(f)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function en(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,u.Z)(function*(){const E=f?(0,z.m9)(f):null;return E&&be(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,u.Z)(function*(){if(!m._deleted)return f&&be(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,u.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(Oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new z.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,u.Z)(function*(){const H=yield E.getOrInitRedirectPersistenceManager(m);return null===f?H.removeCurrentUser():H.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&Oe(f)||m._popupRedirectResolver;be(E,m,"argument-error"),m.redirectPersistenceManager=yield Re.create(m,[Oe(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,u.Z)(function*(){var E,H;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(H=m.redirectUser)||void 0===H?void 0:H._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,u.Z)(function*(){if(f===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,H){if(this._deleted)return()=>{};const ee="function"==typeof m?m:m.next.bind(m),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return be(Te,this,"internal-error"),Te.then(()=>ee(this.currentUser)),"function"==typeof m?f.addObserver(m,E,H):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const H=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return H&&(E["X-Firebase-Client"]=H),E})()}}function at(b){return(0,z.m9)(b)}class jt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,z.ne)(m=>this.observer=m)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(b){const f=b.indexOf(":");return f<0?"":b.substr(0,f+1)}function vr(b){if(!b)return null;const f=Number(b);return isNaN(f)?null:f}class xn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ie("not implemented")}_getIdTokenResponse(f){return ie("not implemented")}_linkToIdToken(f,m){return ie("not implemented")}_getReauthenticationResolver(f){return ie("not implemented")}}function fr(b,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:resetPassword",Pn(b,f))})).apply(this,arguments)}function rn(b,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ti(b,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:update",Pn(b,f))})).apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithPassword",Pn(b,f))})).apply(this,arguments)}function de(b,f){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:sendOobCode",Pn(b,f))})).apply(this,arguments)}function X(b,f){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.Z)(function*(b,f){return de(b,f)})).apply(this,arguments)}function Xe(b,f){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(b,f){return de(b,f)})).apply(this,arguments)}function sn(b,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(b,f){return de(b,f)})).apply(this,arguments)}function Gr(b,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(b,f){return de(b,f)})).apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithEmailLink",Pn(b,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithEmailLink",Pn(b,f))})).apply(this,arguments)}class Hi extends xn{constructor(f,m,E,H=null){super("password",E),this._email=f,this._password=m,this._tenantId=H}static _fromEmailAndPassword(f,m){return new Hi(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new Hi(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function di(b,f){return Er.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Xo(b,f){return hi.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ke(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return rn(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function mo(b,f){return Ms.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Ke(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Or(b,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithIdp",Pn(b,f))})).apply(this,arguments)}class Ii extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ii(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:H}=m,ee=(0,ye._T)(m,["providerId","signInMethod"]);if(!E||!H)return null;const Te=new Ii(E,H);return Te.idToken=ee.idToken||void 0,Te.accessToken=ee.accessToken||void 0,Te.secret=ee.secret,Te.nonce=ee.nonce,Te.pendingToken=ee.pendingToken||null,Te}_getIdTokenResponse(f){return Or(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Or(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Or(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,z.xO)(m)}return f}}function ma(b,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:sendVerificationCode",Pn(b,f))})).apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithPhoneNumber",Pn(b,f))})).apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(b,f){const m=yield dr(b,"POST","/v1/accounts:signInWithPhoneNumber",Pn(b,f));if(m.temporaryProof)throw Mi(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const na={USER_NOT_FOUND:"user-not-found"};function Xs(){return(Xs=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithPhoneNumber",Pn(b,Object.assign(Object.assign({},f),{operation:"REAUTH"})),na)})).apply(this,arguments)}class Ji extends xn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ji({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ji({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function ea(b,f){return Pi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Qs(b,f){return ta.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Oo(b,f){return Xs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:H}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:H}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:H,temporaryProof:ee}=f;return E||m||H||ee?new Ji({verificationId:m,verificationCode:E,phoneNumber:H,temporaryProof:ee}):null}}class Qi{constructor(f){var m,E,H,ee,Te,tt;const St=(0,z.zd)((0,z.pd)(f)),Pt=null!==(m=St.apiKey)&&void 0!==m?m:null,mn=null!==(E=St.oobCode)&&void 0!==E?E:null,on=function xa(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=St.mode)&&void 0!==H?H:null);be(Pt&&mn&&on,"argument-error"),this.apiKey=Pt,this.operation=on,this.code=mn,this.continueUrl=null!==(ee=St.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Te=St.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(tt=St.tenantId)&&void 0!==tt?tt:null}static parseLink(f){const m=function vs(b){const f=(0,z.zd)((0,z.pd)(b)).link,m=f?(0,z.zd)((0,z.pd)(f)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||m||f||b}(f);try{return new Qi(m)}catch(E){return null}}}let mi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,E){return Hi._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const H=Qi.parseLink(E);return be(H,"argument-error"),Hi._fromEmailAndCode(m,H.code,H.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class bs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Fr extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ds extends Fr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return be("providerId"in m&&"signInMethod"in m,"argument-error"),Ii._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return be(f.idToken||f.accessToken,"argument-error"),Ii._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ds.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ds.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:H,pendingToken:ee,nonce:Te,providerId:tt}=f;if(!E&&!H&&!m&&!ee||!tt)return null;try{return new Ds(tt)._credential({idToken:m,accessToken:E,nonce:Te,pendingToken:ee})}catch(St){return null}}}let Xi=(()=>{class b extends Fr{constructor(){super("facebook.com")}static credential(m){return Ii._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(E){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),xs=(()=>{class b extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ii._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:H}=m;if(!E&&!H)return null;try{return b.credential(E,H)}catch(ee){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ra=(()=>{class b extends Fr{constructor(){super("github.com")}static credential(m){return Ii._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(E){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class es extends xn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Or(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Or(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Or(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:H,pendingToken:ee}=m;return E&&H&&ee&&E===H?new es(E,ee):null}static _create(f,m){return new es(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hr extends bs{constructor(f){be(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Hr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Hr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=es.fromJSON(f);return be(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return es._create(E,m)}catch(H){return null}}}let Bs=(()=>{class b extends Fr{constructor(){super("twitter.com")}static credential(m,E){return Ii._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:H}=m;if(!E||!H)return null;try{return b.credential(E,H)}catch(ee){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Rs(b,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signUp",Pn(b,f))})).apply(this,arguments)}class Lr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,H=!1){return(0,u.Z)(function*(){const ee=yield pe._fromIdTokenResponse(f,E,H),Te=_o(E);return new Lr({user:ee,providerId:Te,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const H=_o(E);return new Lr({user:f,providerId:H,_tokenResponse:E,operationType:m})})()}}function _o(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Us(){return(Us=(0,u.Z)(function*(b){var f;const m=at(b);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Lr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Rs(m,{returnSecureToken:!0}),H=yield Lr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}class $r extends z.ZR{constructor(f,m,E,H){var ee;super(m.code,m.message),this.operationType=E,this.user=H,Object.setPrototypeOf(this,$r.prototype),this.customData={appName:f.name,tenantId:null!==(ee=f.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,H){return new $r(f,m,E,H)}}function js(b,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?$r._fromErrorAndOperation(b,ee,f,E):ee})}function Cr(b){return new Set(b.map(({providerId:f})=>f).filter(f=>!!f))}function Gs(){return(Gs=(0,u.Z)(function*(b,f){const m=(0,z.m9)(b);yield Y(!0,m,f);const{providerUserInfo:E}=yield tr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),H=Cr(E||[]);return m.providerData=m.providerData.filter(ee=>H.has(ee.providerId)),H.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Hn(b,f){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(b,f,m=!1){const E=yield ar(b,f._linkToIdToken(b.auth,yield b.getIdToken()),m);return Lr._forOperation(b,"link",E)})).apply(this,arguments)}function Y(b,f,m){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(b,f,m){yield ii(f);const H=!1===b?"provider-already-linked":"no-such-provider";be(Cr(f.providerData).has(m)===b,f.auth,H)})).apply(this,arguments)}function Q(b,f){return me.apply(this,arguments)}function me(){return(me=(0,u.Z)(function*(b,f,m=!1){const{auth:E}=b,H="reauthenticate";try{const ee=yield ar(b,js(E,H,f,b),m);be(ee.idToken,E,"internal-error");const Te=Ot(ee.idToken);be(Te,E,"internal-error");const{sub:tt}=Te;return be(b.uid===tt,E,"user-mismatch"),Lr._forOperation(b,H,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&Ke(E,"user-mismatch"),ee}})).apply(this,arguments)}function Be(b,f){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(b,f,m=!1){const E="signIn",H=yield js(b,E,f),ee=yield Lr._fromIdTokenResponse(b,E,H);return m||(yield b._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function Dt(b,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(b,f){return Be(at(b),f)})).apply(this,arguments)}function Tn(b,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(b,f){const m=(0,z.m9)(b);return yield Y(!1,m,f.providerId),Hn(m,f)})).apply(this,arguments)}function An(b,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(b,f){return Q((0,z.m9)(b),f)})).apply(this,arguments)}function Tr(b,f){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(b,f){return dr(b,"POST","/v1/accounts:signInWithCustomToken",Pn(b,f))})).apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(b,f){const m=at(b),E=yield Tr(m,{token:f,returnSecureToken:!0}),H=yield Lr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}class Yt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Si._fromServerResponse(f,m):Ke(f,"internal-error")}}class Si extends Yt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Si(m)}}function Ro(b,f,m){var E;be((null===(E=m.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),be(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(be(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(be(m.android.packageName.length>0,b,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Ps(){return(Ps=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b),H={requestType:"PASSWORD_RESET",email:f};m&&Ro(E,H,m),yield Xe(E,H)})).apply(this,arguments)}function R(){return(R=(0,u.Z)(function*(b,f,m){yield fr((0,z.m9)(b),{oobCode:f,newPassword:m})})).apply(this,arguments)}function $(){return($=(0,u.Z)(function*(b,f){yield Ti((0,z.m9)(b),{oobCode:f})})).apply(this,arguments)}function Le(b,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(b,f){const m=(0,z.m9)(b),E=yield fr(m,{oobCode:f}),H=E.requestType;switch(be(H,m,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(E.mfaInfo,m,"internal-error");default:be(E.email,m,"internal-error")}let ee=null;return E.mfaInfo&&(ee=Yt._fromServerResponse(at(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ee},operation:H}})).apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(b,f){const{data:m}=yield Le((0,z.m9)(b),f);return m.email})).apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(b,f,m){const E=at(b),H=yield Rs(E,{returnSecureToken:!0,email:f,password:m}),ee=yield Lr._fromIdTokenResponse(E,"signIn",H);return yield E._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b),H={requestType:"EMAIL_SIGNIN",email:f};be(m.handleCodeInApp,E,"argument-error"),m&&Ro(E,H,m),yield sn(E,H)})).apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b),H=mi.credentialWithLink(f,m||Gt());return be(H._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Dt(E,H)})).apply(this,arguments)}function Ai(b,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:createAuthUri",Pn(b,f))})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(b,f){const E={identifier:f,continueUri:_n()?Gt():"http://localhost"},{signinMethods:H}=yield Ai((0,z.m9)(b),E);return H||[]})).apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(b,f){const m=(0,z.m9)(b),H={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};f&&Ro(m.auth,H,f);const{email:ee}=yield X(m.auth,H);ee!==b.email&&(yield b.reload())})).apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:f};m&&Ro(E.auth,ee,m);const{email:Te}=yield Gr(E.auth,ee);Te!==b.email&&(yield b.reload())})).apply(this,arguments)}function ka(b,f){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(b,f){return un(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(b,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,z.m9)(b),ee={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Te=yield ar(E,ka(E.auth,ee));E.displayName=Te.displayName||null,E.photoURL=Te.photoUrl||null;const tt=E.providerData.find(({providerId:St})=>"password"===St);tt&&(tt.displayName=E.displayName,tt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Te)})).apply(this,arguments)}function ko(b,f,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(b,f,m){const{auth:E}=b,ee={idToken:yield b.getIdToken(),returnSecureToken:!0};f&&(ee.email=f),m&&(ee.password=m);const Te=yield ar(b,rn(E,ee));yield b._updateTokensIfNecessary(Te,!0)})).apply(this,arguments)}class Lo{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class $s extends Lo{constructor(f,m,E,H){super(f,m,E),this.username=H}}class Qa extends Lo{constructor(f,m){super(f,"facebook.com",m)}}class Vo extends $s{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Xa extends Lo{constructor(f,m){super(f,"google.com",m)}}class sa extends $s{constructor(f,m,E){super(f,"twitter.com",m,E)}}function zi(b){const{user:f,_tokenResponse:m}=b;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ia(b){var f,m;if(!b)return null;const{providerId:E}=b,H=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ee=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&(null==b?void 0:b.idToken)){const Te=null===(m=null===(f=Ot(b.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Te)return new Lo(ee,"anonymous"!==Te&&"custom"!==Te?Te:null)}if(!E)return null;switch(E){case"facebook.com":return new Qa(ee,H);case"github.com":return new Vo(ee,H);case"google.com":return new Xa(ee,H);case"twitter.com":return new sa(ee,H,b.screenName||null);case"custom":case"anonymous":return new Lo(ee,null);default:return new Lo(ee,E,H)}}(m)}class Ts{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ts("enroll",f)}static _fromMfaPendingCredential(f){return new Ts("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ts._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Ts._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Uo{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=at(f),H=m.customData._serverResponse,ee=(H.mfaInfo||[]).map(tt=>Yt._fromServerResponse(E,tt));be(H.mfaPendingCredential,E,"internal-error");const Te=Ts._fromMfaPendingCredential(H.mfaPendingCredential);return new Uo(Te,ee,function(){var tt=(0,u.Z)(function*(St){const Pt=yield St._process(E,Te);delete H.mfaInfo,delete H.mfaPendingCredential;const mn=Object.assign(Object.assign({},H),{idToken:Pt.idToken,refreshToken:Pt.refreshToken});switch(m.operationType){case"signIn":const on=yield Lr._fromIdTokenResponse(E,m.operationType,mn);return yield E._updateCurrentUser(on.user),on;case"reauthenticate":return be(m.user,E,"internal-error"),Lr._forOperation(m.user,m.operationType,mn);default:Ke(E,"internal-error")}});return function(St){return tt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,u.Z)(function*(){return m.signInResolver(f)})()}}function yi(b,f){return un(b,"POST","/v2/accounts/mfaEnrollment:start",Pn(b,f))}class zs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Yt._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new zs(f)}getSession(){var f=this;return(0,u.Z)(function*(){return Ts._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,u.Z)(function*(){const H=f,ee=yield E.getSession(),Te=yield ar(E.user,H._process(E.user.auth,ee,m));return yield E.user._updateTokensIfNecessary(Te),E.user.reload()})()}unenroll(f){var m=this;return(0,u.Z)(function*(){const E="string"==typeof f?f:f.uid,H=yield m.user.getIdToken(),ee=yield ar(m.user,function Va(b,f){return un(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Pn(b,f))}(m.user.auth,{idToken:H,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Te})=>Te!==E),yield m.user._updateTokensIfNecessary(ee);try{yield m.user.reload()}catch(Te){if("auth/user-token-expired"!==Te.code)throw Te}})()}}const jo=new WeakMap,aa="__sak";class Go{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(aa,"1"),this.storage.removeItem(aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const qi=(()=>{class b extends Go{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wo(){const b=(0,z.z$)();return hn(b)||Zn(b)}()&&function Qn(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ur(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const H=this.storage.getItem(E),ee=this.localCache[E];H!==ee&&m(E,ee,H)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((tt,St,Pt)=>{this.notifyListeners(tt,Pt)});const H=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(H);if(m.newValue!==tt)null!==m.newValue?this.storage.setItem(H,m.newValue):this.storage.removeItem(H);else if(this.localCache[H]===m.newValue&&!E)return}const ee=()=>{const tt=this.storage.getItem(H);!E&&this.localCache[H]===tt||this.notifyListeners(H,tt)},Te=this.storage.getItem(H);!function ds(){return(0,z.w1)()&&10===document.documentMode}()||Te===m.newValue||m.newValue===m.oldValue?ee():setTimeout(ee,10)}notifyListeners(m,E){this.localCache[m]=E;const H=this.listeners[m];if(H)for(const ee of Array.from(H))ee(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var H=()=>super._set,ee=this;return(0,u.Z)(function*(){yield H().call(ee,m,E),ee.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,H=this;return(0,u.Z)(function*(){const ee=yield E().call(H,m);return H.localCache[m]=JSON.stringify(ee),ee})()}_remove(m){var E=()=>super._remove,H=this;return(0,u.Z)(function*(){yield E().call(H,m),delete H.localCache[m]})()}}return b.type="LOCAL",b})(),Is=(()=>{class b extends Go{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return b.type="SESSION",b})();let ba=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(ee=>ee.isListeningto(m));if(E)return E;const H=new b(m);return this.receivers.push(H),H}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,u.Z)(function*(){const H=m,{eventId:ee,eventType:Te,data:tt}=H.data,St=E.handlersMap[Te];if(!(null==St?void 0:St.size))return;H.ports[0].postMessage({status:"ack",eventId:ee,eventType:Te});const Pt=Array.from(St).map(function(){var on=(0,u.Z)(function*(wi){return wi(H.origin,tt)});return function(wi){return on.apply(this,arguments)}}()),mn=yield function tu(b){return Promise.all(b.map(function(){var f=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Pt);H.ports[0].postMessage({status:"done",eventId:ee,eventType:Te,response:mn})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ho(b="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return b+m}class Ou{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var H=this;return(0,u.Z)(function*(){const ee="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Te,tt;return new Promise((St,Pt)=>{const mn=Ho("",20);ee.port1.start();const on=setTimeout(()=>{Pt(new Error("unsupported_event"))},E);tt={messageChannel:ee,onMessage(wi){const Io=wi;if(Io.data.eventId===mn)switch(Io.data.status){case"ack":clearTimeout(on),Te=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),St(Io.data.response);break;default:clearTimeout(on),clearTimeout(Te),Pt(new Error("invalid_response"))}}},H.handlers.add(tt),ee.port1.addEventListener("message",tt.onMessage),H.target.postMessage({eventType:f,eventId:mn,data:m},[ee.port2])}).finally(()=>{tt&&H.removeMessageHandler(tt)})})()}}function pr(){return window}function no(){return void 0!==pr().WorkerGlobalScope&&"function"==typeof pr().importScripts}function Vi(){return(Vi=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const N="firebaseLocalStorageDb",w="firebaseLocalStorage",k="fbase_key";class P{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Z(b,f){return b.transaction([w],f?"readwrite":"readonly").objectStore(w)}function ge(){const b=indexedDB.open(N,1);return new Promise((f,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(w,{keyPath:k})}catch(H){m(H)}}),b.addEventListener("success",(0,u.Z)(function*(){const E=b.result;E.objectStoreNames.contains(w)?f(E):(E.close(),yield function se(){const b=indexedDB.deleteDatabase(N);return new P(b).toPromise()}(),f(yield ge()))}))})}function Me(b,f,m){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(b,f,m){const E=Z(b,!0).put({[k]:f,value:m});return new P(E).toPromise()})).apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(b,f){const m=Z(b,!1).get(f),E=yield new P(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ke(b,f){const m=Z(b,!0).delete(f);return new P(m).toPromise()}const Ss=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield ge()),m.db})()}_withRetries(m){var E=this;return(0,u.Z)(function*(){let H=0;for(;;)try{const ee=yield E._openDb();return yield m(ee)}catch(ee){if(H++>3)throw ee;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return no()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=ba._getInstance(function Qr(){return no()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(H,ee){return{keyProcessed:(yield m._poll()).includes(ee.key)}});return function(H,ee){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(H,ee){return["keyChanged"]});return function(H,ee){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var E,H;if(m.activeServiceWorker=yield function $o(){return Vi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ou(m.activeServiceWorker);const ee=yield m.sender._send("ping",{},800);!ee||(null===(E=ee[0])||void 0===E?void 0:E.fulfilled)&&(null===(H=ee[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Sl(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ge();return yield Me(m,aa,"1"),yield ke(m,aa),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var H=this;return(0,u.Z)(function*(){return H._withPendingWrite((0,u.Z)(function*(){return yield H._withRetries(ee=>Me(ee,m,E)),H.localCache[m]=E,H.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,u.Z)(function*(){const H=yield E._withRetries(ee=>function Rn(b,f){return nt.apply(this,arguments)}(ee,m));return E.localCache[m]=H,H})()}_remove(m){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(H=>ke(H,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const E=yield m._withRetries(Te=>{const tt=Z(Te,!1).getAll();return new P(tt).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const H=[],ee=new Set;for(const{fbase_key:Te,value:tt}of E)ee.add(Te),JSON.stringify(m.localCache[Te])!==JSON.stringify(tt)&&(m.notifyListeners(Te,tt),H.push(Te));for(const Te of Object.keys(m.localCache))m.localCache[Te]&&!ee.has(Te)&&(m.notifyListeners(Te,null),H.push(Te));return H})()}notifyListeners(m,E){this.localCache[m]=E;const H=this.listeners[m];if(H)for(const ee of Array.from(H))ee(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Da(b,f){return un(b,"POST","/v2/accounts/mfaSignIn:start",Pn(b,f))}function io(){return(io=(0,u.Z)(function*(b){return(yield un(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ba(b){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=f,E.onerror=H=>{const ee=Ye("internal-error");ee.customData=H,m(ee)},E.type="text/javascript",E.charset="UTF-8",function ru(){var b,f;return null!==(f=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==f?f:document}().appendChild(E)})}function Al(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Zs=1e12;class $n{constructor(f){this.auth=f,this.counter=Zs,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new la(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||Zs;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Zs))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,u.Z)(function*(){var E;return null===(E=m._widgets.get(f||Zs))||void 0===E||E.execute(),""})()}}class la{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof f?document.getElementById(f):f;be(H,"argument-error",{appName:m}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nl(b){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fi=Al("rcb"),bn=new qt(3e4,6e4);class wa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pr().grecaptcha}load(f,m=""){return be(function Md(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(pr().grecaptcha):new Promise((E,H)=>{const ee=pr().setTimeout(()=>{H(Ye(f,"network-request-failed"))},bn.get());pr()[fi]=()=>{pr().clearTimeout(ee),delete pr()[fi];const tt=pr().grecaptcha;if(!tt)return void H(Ye(f,"internal-error"));const St=tt.render;tt.render=(Pt,mn)=>{const on=St(Pt,mn);return this.counter++,on},this.hostLanguage=m,E(tt)},Ba(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:fi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ee),H(Ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!pr().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class iu{load(f){return(0,u.Z)(function*(){return new $n(f)})()}clearedOneInstance(){}}const Kn="recaptcha",Od={theme:"light",type:"image"};class fs{constructor(f,m=Object.assign({},Od),E){this.parameters=m,this.type=Kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(E),this.isInvisible="invisible"===this.parameters.size,be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof f?document.getElementById(f):f;be(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iu:new wa,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(ee=>{const Te=tt=>{!tt||(f.tokenChangeListeners.delete(Te),ee(tt))};f.tokenChangeListeners.add(Te),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=pr()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){be(_n()&&!no(),f.auth,"internal-error"),yield function rl(){let b=null;return new Promise(f=>{"complete"!==document.readyState?(b=()=>f(),window.addEventListener("load",b)):f()}).catch(f=>{throw b&&window.removeEventListener("load",b),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function nu(b){return io.apply(this,arguments)}(f.auth);be(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ks{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ji._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Xr(){return(Xr=(0,u.Z)(function*(b,f,m){const E=at(b),H=yield ps(E,f,(0,z.m9)(m));return new ks(H,ee=>Dt(E,ee))})).apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b);yield Y(!1,E,"phone");const H=yield ps(E.auth,f,(0,z.m9)(m));return new ks(H,ee=>Tn(E,ee))})).apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b),H=yield ps(E.auth,f,(0,z.m9)(m));return new ks(H,ee=>An(E,ee))})).apply(this,arguments)}function ps(b,f,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(b,f,m){var E;const H=yield m.verify();try{let ee;if(be("string"==typeof H,b,"argument-error"),be(m.type===Kn,b,"argument-error"),ee="string"==typeof f?{phoneNumber:f}:f,"session"in ee){const Te=ee.session;if("phoneNumber"in ee)return be("enroll"===Te.type,b,"internal-error"),(yield yi(b,{idToken:Te.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{be("signin"===Te.type,b,"internal-error");const tt=(null===(E=ee.multiFactorHint)||void 0===E?void 0:E.uid)||ee.multiFactorUid;return be(tt,b,"missing-multi-factor-info"),(yield Da(b,{mfaPendingCredential:Te.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Te}=yield ma(b,{phoneNumber:ee.phoneNumber,recaptchaToken:H});return Te}}finally{m._reset()}})).apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(b,f){yield Hn((0,z.m9)(b),f)})).apply(this,arguments)}let gs=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=at(m)}verifyPhoneNumber(m,E){return ps(this.auth,m,(0,z.m9)(E))}static credential(m,E){return Ji._fromVerification(m,E)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:H}=m;return E&&H?Ji._fromTokenResponse(E,H):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function As(b,f){return f?Oe(f):(be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ml extends xn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Or(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Or(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Or(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ct(b){return Be(b.auth,new Ml(b),b.bypassAuthState)}function su(b){const{auth:f,user:m}=b;return be(m,f,"internal-error"),Q(m,new Ml(b),b.bypassAuthState)}function so(b){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(b){const{auth:f,user:m}=b;return be(m,f,"internal-error"),Hn(m,new Ml(b),b.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(f,m,E,H,ee=!1){this.auth=f,this.resolver=E,this.user=H,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,u.Z)(function*(E,H){f.pendingPromise={resolve:E,reject:H};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ee){f.reject(ee)}});return function(E,H){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:H,postBody:ee,tenantId:Te,error:tt,type:St}=f;if(tt)return void m.reject(tt);const Pt={auth:m.auth,requestUri:E,sessionId:H,tenantId:Te||void 0,postBody:ee||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(St)(Pt))}catch(mn){m.reject(mn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ct;case"linkViaPopup":case"linkViaRedirect":return so;case"reauthViaPopup":case"reauthViaRedirect":return su;default:Ke(this.auth,"internal-error")}}resolve(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sl=new qt(2e3,1e4);function ec(){return(ec=(0,u.Z)(function*(b,f,m){const E=at(b);Qe(b,f,bs);const H=As(E,m);return new ao(E,"signInViaPopup",f,H).executeNotNull()})).apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b);Qe(E.auth,f,bs);const H=As(E.auth,m);return new ao(E.auth,"reauthViaPopup",f,H,E).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b);Qe(E.auth,f,bs);const H=As(E.auth,m);return new ao(E.auth,"linkViaPopup",f,H,E).executeNotNull()})).apply(this,arguments)}let ao=(()=>{class b extends Ni{constructor(m,E,H,ee,Te){super(m,E,ee,Te),this.provider=H,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const E=yield m.execute();return be(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,u.Z)(function*(){ue(1===m.filter.length,"Popup operations only handle one event");const E=Ho();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(H=>{m.reject(H)}),m.resolver._isIframeWebStorageSupported(m.auth,H=>{H||m.reject(Ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,H;this.pollId=(null===(H=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,sl.get())};m()}}return b.currentPopupAction=null,b})();const lo=new Map;class Rl extends Ni{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,u.Z)(function*(){let E=lo.get(m.auth._key());if(!E){try{const ee=(yield function ol(b,f){return xu.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(ee)}catch(H){E=()=>Promise.reject(H)}lo.set(m.auth._key(),E)}return m.bypassAuthState||lo.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const H=yield E.auth._redirectUserForId(f.eventId);if(H)return E.user=H,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function xu(){return(xu=(0,u.Z)(function*(b,f){const m=V(f),E=O(b);if(!(yield E._isAvailable()))return!1;const H="true"===(yield E._get(m));return yield E._remove(m),H})).apply(this,arguments)}function ja(b,f){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(b,f){return O(b)._set(V(f),"true")})).apply(this,arguments)}function O(b){return Oe(b._redirectPersistence)}function V(b){return $e("pendingRedirect",b.config.apiKey,b.name)}function Fe(){return(Fe=(0,u.Z)(function*(b,f,m){const E=at(b);Qe(b,f,bs);const H=As(E,m);return yield ja(H,E),H._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b);Qe(E.auth,f,bs);const H=As(E.auth,m);yield ja(H,E.auth);const ee=yield Ga(E);return H._openRedirect(E.auth,f,"reauthViaRedirect",ee)})).apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(b,f,m){const E=(0,z.m9)(b);Qe(E.auth,f,bs);const H=As(E.auth,m);yield Y(!1,E,f.providerId),yield ja(H,E.auth);const ee=yield Ga(E);return H._openRedirect(E.auth,f,"linkViaRedirect",ee)})).apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(b,f){return yield at(b)._initializationPromise,ei(b,f,!1)})).apply(this,arguments)}function ei(b,f){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(b,f,m=!1){const E=at(b),H=As(E,f),Te=yield new Rl(E,H,m).execute();return Te&&!m&&(delete Te.user._redirectEventId,yield E._persistUserIfCurrent(Te.user),yield E._setRedirectUser(null,f)),Te})).apply(this,arguments)}function Ga(b){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(b){const f=Ho(`${b.uid}:::`);return b._redirectEventId=f,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),f})).apply(this,arguments)}class ti{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Rd(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xd(b);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!xd(f)){const H=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Ye(this.auth,H))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ha(f))}saveEventToCache(f){this.cachedEventUids.add(Ha(f)),this.lastProcessedEventTime=Date.now()}}function Ha(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(f=>f).join("-")}function xd({type:b,error:f}){return"unknown"===b&&"auth/no-auth-event"===(null==f?void 0:f.code)}function au(b){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(b,f={}){return un(b,"GET","/v1/projects",f)})).apply(this,arguments)}const Pd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ah=/^https?/;function Ys(){return(Ys=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:f}=yield au(b);for(const m of f)try{if(Ca(m))return}catch(E){}Ke(b,"unauthorized-domain")})).apply(this,arguments)}function Ca(b){const f=Gt(),{protocol:m,hostname:E}=new URL(f);if(b.startsWith("chrome-extension://")){const Te=new URL(b);return""===Te.hostname&&""===E?"chrome-extension:"===m&&b.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Te.hostname===E}if(!Ah.test(m))return!1;if(Pd.test(b))return E===b;const H=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(E)}const Mh=new qt(3e4,6e4);function kd(){const b=pr().___jsl;if(null==b?void 0:b.H)for(const f of Object.keys(b.H))if(b.H[f].r=b.H[f].r||[],b.H[f].L=b.H[f].L||[],b.H[f].r=[...b.H[f].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let zo=null;function Oh(b){return zo=zo||function jc(b){return new Promise((f,m)=>{var E,H,ee;function Te(){kd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{kd(),m(Ye(b,"network-request-failed"))},timeout:Mh.get()})}if(null===(H=null===(E=pr().gapi)||void 0===E?void 0:E.iframes)||void 0===H?void 0:H.Iframe)f(gapi.iframes.getContext());else{if(!(null===(ee=pr().gapi)||void 0===ee?void 0:ee.load)){const tt=Al("iframefcb");return pr()[tt]=()=>{gapi.load?Te():m(Ye(b,"network-request-failed"))},Ba(`https://apis.google.com/js/api.js?onload=${tt}`).catch(St=>m(St))}Te()}}).catch(f=>{throw zo=null,f})}(b),zo}const lu=new qt(5e3,15e3),Ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function al(b){const f=b.config;be(f.authDomain,b,"auth-domain-config-required");const m=f.emulator?Wt(f,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:b.name,v:Ce.SDK_VERSION},H=uu.get(b.config.apiHost);H&&(E.eid=H);const ee=b._getFrameworks();return ee.length&&(E.fw=ee.join(",")),`${m}?${(0,z.xO)(E).slice(1)}`}function Co(){return Co=(0,u.Z)(function*(b){const f=yield Oh(b),m=pr().gapi;return be(m,b,"internal-error"),f.open({where:document.body,url:al(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ll,dontclear:!0},E=>new Promise(function(){var H=(0,u.Z)(function*(ee,Te){yield E.restyle({setHideOnLeave:!1});const tt=Ye(b,"network-request-failed"),St=pr().setTimeout(()=>{Te(tt)},lu.get());function Pt(){pr().clearTimeout(St),ee(E)}E.ping(Pt).then(Pt,()=>{Te(tt)})});return function(ee,Te){return H.apply(this,arguments)}}()))}),Co.apply(this,arguments)}const Ff={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function zc(b,f,m,E,H,ee){be(b.config.authDomain,b,"auth-domain-config-required"),be(b.config.apiKey,b,"invalid-api-key");const Te={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:E,v:Ce.SDK_VERSION,eventId:H};if(f instanceof bs){f.setDefaultLanguage(b.languageCode),Te.providerId=f.providerId||"",(0,z.xb)(f.getCustomParameters())||(Te.customParameters=JSON.stringify(f.getCustomParameters()));for(const[St,Pt]of Object.entries(ee||{}))Te[St]=Pt}if(f instanceof Fr){const St=f.getScopes().filter(Pt=>""!==Pt);St.length>0&&(Te.scopes=St.join(","))}b.tenantId&&(Te.tid=b.tenantId);const tt=Te;for(const St of Object.keys(tt))void 0===tt[St]&&delete tt[St];return`${function qc({config:b}){return b.emulator?Wt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,z.xO)(tt).slice(1)}`}const $a="webStorageSupport";class ul extends class ic{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ul(f)}_finalizeEnroll(f,m,E){return function Cl(b,f){return un(b,"POST","/v2/accounts/mfaEnrollment:finalize",Pn(b,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Wo(b,f){return un(b,"POST","/v2/accounts/mfaSignIn:finalize",Pn(b,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vf=(()=>{class b{constructor(){}static assertion(m){return ul._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var cu="@firebase/auth",Ph="0.19.11";class du{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var H;f((null===(H=E)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hu(){return window}function ua(){return(ua=(0,u.Z)(function*(b,f,m){var E;const{BuildInfo:H}=hu();ue(f.sessionId,"AuthEvent did not contain a session ID");const ee=yield cl(f.sessionId),Te={};return Zn()?Te.ibi=H.packageName:Vn()?Te.apn=H.packageName:Ke(b,"operation-not-supported-in-this-environment"),H.displayName&&(Te.appDisplayName=H.displayName),Te.sessionId=ee,zc(b,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,Te)})).apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(b){const{BuildInfo:f}=hu(),m={};Zn()?m.iosBundleId=f.packageName:Vn()?m.androidPackageName=f.packageName:Ke(b,"operation-not-supported-in-this-environment"),yield au(b,m)})).apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(b,f,m){const{cordova:E}=hu();let H=()=>{};try{yield new Promise((ee,Te)=>{let tt=null;function St(){var on;ee();const wi=null===(on=E.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof wi&&wi(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Pt(){tt||(tt=window.setTimeout(()=>{Te(Ye(b,"redirect-cancelled-by-user"))},2e3))}function mn(){"visible"===(null==document?void 0:document.visibilityState)&&Pt()}f.addPassiveListener(St),document.addEventListener("resume",Pt,!1),Vn()&&document.addEventListener("visibilitychange",mn,!1),H=()=>{f.removePassiveListener(St),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",mn,!1),tt&&window.clearTimeout(tt)}})}finally{H()}})).apply(this,arguments)}function cl(b){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(b){const f=Ud(b),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ud(b){if(ue(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const f=new ArrayBuffer(b.length),m=new Uint8Array(f);for(let E=0;E<b.length;E++)m[E]=b.charCodeAt(E);return m}!function Fh(b){(0,Ce._registerComponent)(new xe.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),H=f.getProvider("heartbeat"),{apiKey:ee,authDomain:Te}=E.options;return((tt,St)=>{be(ee&&!ee.includes(":"),"invalid-api-key",{appName:tt.name}),be(!(null==Te?void 0:Te.includes(":")),"argument-error",{appName:tt.name});const Pt={apiKey:ee,authDomain:Te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zr(b)},mn=new Kr(tt,St,Pt);return function Ge(b,f){const m=(null==f?void 0:f.persistence)||[],E=(Array.isArray(m)?m:[m]).map(Oe);(null==f?void 0:f.errorMap)&&b._updateErrorMap(f.errorMap),b._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(mn,m),mn})(E,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new xe.wA("auth-internal",f=>{const m=at(f.getProvider("auth").getImmediate());return new du(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(cu,Ph,function kh(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Ce.registerVersion)(cu,Ph,"esm2017")}("Browser");class oc extends ti{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function pu(b){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(b){const f=yield Fu()._get(To(b));return f&&(yield Fu()._remove(To(b))),f})).apply(this,arguments)}function ku(){const b=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);b.push(f.charAt(E))}return b.join("")}function Fu(){return Oe(qi)}function To(b){return $e("authEvent",b.config.apiKey,b.name)}function ss(b){if(!(null==b?void 0:b.includes("?")))return{};const[f,...m]=b.split("?");return(0,z.zd)(m.join("?"))}function Vh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ye("no-auth-event")}}function Kc(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function Pr(b=(0,z.z$)()){return!("file:"!==Kc()&&"ionic:"!==Kc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function os(){try{const b=self.localStorage,f=Ho();if(b)return b.setItem(f,"1"),b.removeItem(f),!function Ia(b=(0,z.z$)()){return function Hd(){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Yc(b=(0,z.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,z.hl)()}catch(b){return hl()&&(0,z.hl)()}return!1}function hl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gu(){return(function Bf(){return"http:"===Kc()||"https:"===Kc()}()||(0,z.ru)()||Pr())&&!function Uf(){return(0,z.b$)()||(0,z.UG)()}()&&os()&&!hl()}function Lu(){return Pr()&&"undefined"!=typeof document}function fl(){return(fl=(0,u.Z)(function*(){return!!Lu()&&new Promise(b=>{const f=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),b(!0)})})})).apply(this,arguments)}const qo={LOCAL:"local",NONE:"none",SESSION:"session"},mu=be,Wa="persistence";function Vu(b){return uc.apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(b){yield b._initializationPromise;const f=pl(),m=$e(Wa,b.config.apiKey,b.name);f&&f.setItem(m,b._getPersistence())})).apply(this,arguments)}function pl(){var b;try{return(null===(b=function jl(){return"undefined"!=typeof window?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch(f){return null}}const $d=be;class ho{constructor(){this.browserResolver=Oe(class rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=ei}_openPopup(f,m,E,H){var ee=this;return(0,u.Z)(function*(){var Te;ue(null===(Te=ee.eventManagers[f._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const tt=zc(f,m,E,Gt(),H);return function Fd(b,f,m,E=500,H=600){const ee=Math.max((window.screen.availHeight-H)/2,0).toString(),Te=Math.max((window.screen.availWidth-E)/2,0).toString();let tt="";const St=Object.assign(Object.assign({},Ff),{width:E.toString(),height:H.toString(),top:ee,left:Te}),Pt=(0,z.z$)().toLowerCase();m&&(tt=lr(Pt)?"_blank":m),zt(Pt)&&(f=f||"http://localhost",St.scrollbars="yes");const mn=Object.entries(St).reduce((wi,[Io,Bu])=>`${wi}${Io}=${Bu},`,"");if(function jr(b=(0,z.z$)()){var f;return Zn(b)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Pt)&&"_self"!==tt)return function Lf(b,f){const m=document.createElement("a");m.href=b,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",tt),new Wc(null);const on=window.open(f||"",tt,mn);be(on,b,"popup-blocked");try{on.focus()}catch(wi){}return new Wc(on)}(f,tt,Ho())})()}_openRedirect(f,m,E,H){var ee=this;return(0,u.Z)(function*(){return yield ee._originValidation(f),function Il(b){pr().location.href=b}(zc(f,m,E,Gt(),H)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:H,promise:ee}=this.eventManagers[m];return H?Promise.resolve(H):(ue(ee,"If manager is not set, promise should be"),ee)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,u.Z)(function*(){const E=yield function Ru(b){return Co.apply(this,arguments)}(f),H=new ti(f);return E.register("authEvent",ee=>(be(null==ee?void 0:ee.authEvent,f,"invalid-auth-event"),{status:H.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:H},m.iframes[f._key()]=E,H})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send($a,{type:$a},H=>{var ee;const Te=null===(ee=null==H?void 0:H[0])||void 0===ee?void 0:ee[$a];void 0!==Te&&m(!!Te),Ke(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Nh(b){return Ys.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ur()||hn()||Zn()}}),this.cordovaResolver=Oe(class Lh{constructor(){this._redirectPersistence=Is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ei}_initialize(f){var m=this;return(0,u.Z)(function*(){const E=f._key();let H=m.eventManagers.get(E);return H||(H=new oc(f),m.eventManagers.set(E,H),m.attachCallbackListeners(f,H)),H})()}_openPopup(f){Ke(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,H){var ee=this;return(0,u.Z)(function*(){!function Bd(b){var f,m,E,H,ee,Te,tt,St,Pt,mn;const on=hu();be("function"==typeof(null===(f=null==on?void 0:on.universalLinks)||void 0===f?void 0:f.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(void 0!==(null===(m=null==on?void 0:on.BuildInfo)||void 0===m?void 0:m.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be("function"==typeof(null===(ee=null===(H=null===(E=null==on?void 0:on.cordova)||void 0===E?void 0:E.plugins)||void 0===H?void 0:H.browsertab)||void 0===ee?void 0:ee.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(St=null===(tt=null===(Te=null==on?void 0:on.cordova)||void 0===Te?void 0:Te.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===St?void 0:St.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(mn=null===(Pt=null==on?void 0:on.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===mn?void 0:mn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Te=yield ee._initialize(f);yield Te.initialized(),Te.resetRedirect(),function Zi(){lo.clear()}(),yield ee._originValidation(f);const tt=function Ul(b,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:ku(),postBody:null,tenantId:b.tenantId,error:Ye(b,"no-auth-event")}}(f,E,H);yield function jd(b,f){return Fu()._set(To(b),f)}(f,tt);const St=yield function Nn(b,f,m){return ua.apply(this,arguments)}(f,tt,m),Pt=yield function Vl(b){const{cordova:f}=hu();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let H=null;E?f.plugins.browsertab.openUrl(b):H=f.InAppBrowser.open(b,function xi(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),m(H)})})}(St);return function Vd(b,f,m){return Bl.apply(this,arguments)}(f,Te,Pt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fu(b){return co.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:H,BuildInfo:ee}=hu(),Te=setTimeout((0,u.Z)(function*(){yield pu(f),m.onEvent(Vh())}),500),tt=function(){var mn=(0,u.Z)(function*(on){clearTimeout(Te);const wi=yield pu(f);let Io=null;wi&&(null==on?void 0:on.url)&&(Io=function Yn(b,f){var m,E;const H=function dl(b){const f=ss(b),m=f.link?decodeURIComponent(f.link):void 0,E=ss(m).link,H=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ss(H).link||H||E||m||b}(f);if(H.includes("/__/auth/callback")){const ee=ss(H),Te=ee.firebaseError?function zr(b){try{return JSON.parse(b)}catch(f){return null}}(decodeURIComponent(ee.firebaseError)):null,tt=null===(E=null===(m=null==Te?void 0:Te.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],St=tt?Ye(tt):null;return St?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:H,postBody:null}}return null}(wi,on.url)),m.onEvent(Io||Vh())});return function(wi){return mn.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,tt);const St=H,Pt=`${ee.packageName.toLowerCase()}://`;hu().handleOpenURL=function(){var mn=(0,u.Z)(function*(on){if(on.toLowerCase().startsWith(Pt)&&tt({url:on}),"function"==typeof St)try{St(on)}catch(wi){console.error(wi)}});return function(on){return mn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Is,this._completeRedirectFn=ei}_initialize(f){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,H){var ee=this;return(0,u.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(f,m,E,H)})()}_openRedirect(f,m,E,H){var ee=this;return(0,u.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(f,m,E,H)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Lu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $d(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const m=yield function as(){return fl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function ha(b){return b.unwrap()}function cc(b){return Qc(b)}function Qc(b){const{_tokenResponse:f}=b instanceof z.ZR?b.customData:b;if(!f)return null;if(!(b instanceof z.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return gs.credentialFromResult(b);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=xs;break;case"facebook.com":E=Xi;break;case"github.com":E=ra;break;case"twitter.com":E=Bs;break;default:const{oauthIdToken:H,oauthAccessToken:ee,oauthTokenSecret:Te,pendingToken:tt,nonce:St}=f;return ee||Te||H||tt?tt?m.startsWith("saml.")?es._create(m,tt):Ii._fromParams({providerId:m,signInMethod:m,pendingToken:tt,idToken:H,accessToken:ee}):new Ds(m).credential({idToken:H,accessToken:ee,rawNonce:St}):null}return b instanceof z.ZR?E.credentialFromError(b):E.credentialFromResult(b)}function us(b,f){return f.catch(m=>{throw m instanceof z.ZR&&function _u(b,f){var m;const E=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Xc(b,function Ws(b,f){var m;const E=(0,z.m9)(b),H=f;return be(f.customData.operationType,E,"argument-error"),be(null===(m=H.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Uo._fromError(E,H)}(b,f));else if(E){const H=Qc(f),ee=f;H&&(ee.credential=H,ee.tenantId=E.tenantId||void 0,ee.email=E.email||void 0,ee.phoneNumber=E.phoneNumber||void 0)}}(b,m),m}).then(m=>{const H=m.user;return{operationType:m.operationType,credential:cc(m),additionalUserInfo:zi(m),user:Js.getOrCreate(H)}})}function dc(b,f){return hc.apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(b,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>us(b,m.confirm(E))}})).apply(this,arguments)}class Xc{constructor(f,m){this.resolver=m,this.auth=function Jc(b){return b.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return us(ha(this.auth),this.resolver.resolveSignIn(f))}}class Js{constructor(f){this._delegate=f,this.multiFactor=function Do(b){const f=(0,z.m9)(b);return jo.has(f)||jo.set(f,zs._fromUser(f)),jo.get(f)}(f)}static getOrCreate(f){return Js.USER_MAP.has(f)||Js.USER_MAP.set(f,new Js(f)),Js.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,u.Z)(function*(){return us(m.auth,Tn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,u.Z)(function*(){return dc(E.auth,function Ks(b,f,m){return Vr.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,u.Z)(function*(){return us(m.auth,function xl(b,f,m){return ou.apply(this,arguments)}(m._delegate,f,ho))})()}linkWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield Vu(at(m.auth)),function Xt(b,f,m){return function cn(b,f,m){return ir.apply(this,arguments)}(b,f,m)}(m._delegate,f,ho)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,u.Z)(function*(){return us(m.auth,An(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return dc(this.auth,function il(b,f,m){return Nl.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return us(this.auth,function Eo(b,f,m){return Ol.apply(this,arguments)}(this._delegate,f,ho))}reauthenticateWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield Vu(at(m.auth)),function ze(b,f,m){return function yt(b,f,m){return $t.apply(this,arguments)}(b,f,m)}(m._delegate,f,ho)})()}sendEmailVerification(f){return function Wi(b,f){return ya.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,u.Z)(function*(){return yield function Es(b,f){return Gs.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function El(b,f){return ko((0,z.m9)(b),f,null)}(this._delegate,f)}updatePassword(f){return function Ja(b,f){return ko((0,z.m9)(b),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Xu(b,f){return bi.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Fa(b,f){return Ya.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Pa(b,f,m){return Wr.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Js.USER_MAP=new WeakMap;const gl=be;let ed=(()=>{class b{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=m.options;gl(H,"invalid-api-key",{appName:m.name}),gl(H,"invalid-api-key",{appName:m.name});const ee="undefined"!=typeof window?ho:void 0;this._delegate=E.initialize({options:{persistence:fc(H,m.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(ot),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Js.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function Cn(b,f,m){const E=at(b);be(E._canInitEmulator,E,"emulator-config-failed"),be(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const H=!!(null==m?void 0:m.disableWarnings),ee=yr(f),{host:Te,port:tt}=function Ri(b){const f=yr(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(E);if(H){const ee=H[1];return{host:ee,port:vr(E.substr(ee.length+1))}}{const[ee,Te]=E.split(":");return{host:ee,port:vr(Te)}}}(f);E.config.emulator={url:`${ee}//${Te}${null===tt?"":`:${tt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Te,port:tt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function ci(){function b(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,m,E)}applyActionCode(m){return function x(b,f){return $.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Le(this._delegate,m)}confirmPasswordReset(m,E){return function U(b,f,m){return R.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var H=this;return(0,u.Z)(function*(){return us(H._delegate,function $i(b,f,m){return _i.apply(this,arguments)}(H._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function _a(b,f){return bo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function eu(b,f){const m=Qi.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){gl(gu(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function In(b,f){return Wn.apply(this,arguments)}(m._delegate,ho);return E?us(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function da(b,f){at(b)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,H){const{next:ee,error:Te,complete:tt}=td(m,E,H);return this._delegate.onAuthStateChanged(ee,Te,tt)}onIdTokenChanged(m,E,H){const{next:ee,error:Te,complete:tt}=td(m,E,H);return this._delegate.onIdTokenChanged(ee,Te,tt)}sendSignInLinkToEmail(m,E){return function vo(b,f,m){return Ka.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Po(b,f,m){return Ps.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,u.Z)(function*(){let H;switch(function lc(b,f){mu(Object.values(qo).includes(f),b,"invalid-persistence-type"),(0,z.b$)()?mu(f!==qo.SESSION,b,"unsupported-persistence-type"):(0,z.UG)()?mu(f===qo.NONE,b,"unsupported-persistence-type"):hl()?mu(f===qo.NONE||f===qo.LOCAL&&(0,z.hl)(),b,"unsupported-persistence-type"):mu(f===qo.NONE||os(),b,"unsupported-persistence-type")}(E._delegate,m),m){case qo.SESSION:H=Is;break;case qo.LOCAL:H=(yield Oe(Ss)._isAvailable())?Ss:qi;break;case qo.NONE:H=Ee;break;default:return Ke("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return us(this._delegate,function xo(b){return Us.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return us(this._delegate,Dt(this._delegate,m))}signInWithCustomToken(m){return us(this._delegate,function Cs(b,f){return Li.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return us(this._delegate,function yo(b,f,m){return Dt((0,z.m9)(b),mi.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return us(this._delegate,function Ra(b,f,m){return Hs.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return dc(this._delegate,function Bi(b,f,m){return Xr.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,u.Z)(function*(){return gl(gu(),E._delegate,"operation-not-supported-in-this-environment"),us(E._delegate,function oo(b,f,m){return ec.apply(this,arguments)}(E._delegate,m,ho))})()}signInWithRedirect(m){var E=this;return(0,u.Z)(function*(){return gl(gu(),E._delegate,"operation-not-supported-in-this-environment"),yield Vu(E._delegate),function J(b,f,m){return function ae(b,f,m){return Fe.apply(this,arguments)}(b,f,m)}(E._delegate,m,ho)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function vn(b,f){return ki.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=qo,b})();function td(b,f,m){let E=b;"function"!=typeof b&&({next:E,error:f,complete:m}=b);const H=E;return{next:Te=>H(Te&&Js.getOrCreate(Te)),error:f,complete:m}}function fc(b,f){const m=function ls(b,f){const m=pl();if(!m)return[];const E=$e(Wa,b,f);switch(m.getItem(E)){case qo.NONE:return[Ee];case qo.LOCAL:return[Ss,Is];case qo.SESSION:return[Is];default:return[]}}(b,f);if("undefined"!=typeof self&&!m.includes(Ss)&&m.push(Ss),"undefined"!=typeof window)for(const E of[qi,Is])m.includes(E)||m.push(E);return m.includes(Ee)||m.push(Ee),m}class nd{constructor(){this.providerId="phone",this._delegate=new gs(ha(I.Z.auth()))}static credential(f,m){return gs.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}nd.PHONE_SIGN_IN_METHOD=gs.PHONE_SIGN_IN_METHOD,nd.PROVIDER_ID=gs.PROVIDER_ID;const jf=be;class rd{constructor(f,m,E=I.Z.app()){var H;jf(null===(H=E.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new fs(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wd(b){b.INTERNAL.registerComponent(new xe.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new ed(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:mi,FacebookAuthProvider:Xi,GithubAuthProvider:ra,GoogleAuthProvider:xs,OAuthProvider:Ds,SAMLAuthProvider:Hr,PhoneAuthProvider:nd,PhoneMultiFactorGenerator:Vf,RecaptchaVerifier:rd,TwitterAuthProvider:Bs,Auth:ed,AuthCredential:xn,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.11")}(I.Z)},1135:(Nt,He,G)=>{G.d(He,{X:()=>I});var u=G(7579);class I extends u.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ye=super._subscribe(Ce);return!ye.closed&&Ce.next(this._value),ye}getValue(){const{hasError:Ce,thrownError:ye,_value:Ae}=this;if(Ce)throw ye;return this._throwIfClosed(),Ae}next(Ce){super.next(this._value=Ce)}}},8306:(Nt,He,G)=>{G.d(He,{y:()=>ce});var u=G(930),I=G(727),z=G(8822),Ce=G(4671);var xe=G(2416),Ie=G(576),Pe=G(2806);let ce=(()=>{class Ze{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const je=new Ze;return je.source=this,je.operator=ft,je}subscribe(ft,je,et){const Tt=function Ue(Ze){return Ze&&Ze instanceof u.Lv||function De(Ze){return Ze&&(0,Ie.m)(Ze.next)&&(0,Ie.m)(Ze.error)&&(0,Ie.m)(Ze.complete)}(Ze)&&(0,I.Nn)(Ze)}(ft)?ft:new u.Hp(ft,je,et);return(0,Pe.x)(()=>{const{operator:bt,source:Ke}=this;Tt.add(bt?bt.call(Tt,Ke):Ke?this._subscribe(Tt):this._trySubscribe(Tt))}),Tt}_trySubscribe(ft){try{return this._subscribe(ft)}catch(je){ft.error(je)}}forEach(ft,je){return new(je=he(je))((et,Tt)=>{const bt=new u.Hp({next:Ke=>{try{ft(Ke)}catch(Ye){Tt(Ye),bt.unsubscribe()}},error:Tt,complete:et});this.subscribe(bt)})}_subscribe(ft){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(ft)}[z.L](){return this}pipe(...ft){return function Ae(Ze){return 0===Ze.length?Ce.y:1===Ze.length?Ze[0]:function(ft){return Ze.reduce((je,et)=>et(je),ft)}}(ft)(this)}toPromise(ft){return new(ft=he(ft))((je,et)=>{let Tt;this.subscribe(bt=>Tt=bt,bt=>et(bt),()=>je(Tt))})}}return Ze.create=ot=>new Ze(ot),Ze})();function he(Ze){var ot;return null!==(ot=null!=Ze?Ze:xe.v.Promise)&&void 0!==ot?ot:Promise}},7579:(Nt,He,G)=>{G.d(He,{x:()=>xe});var u=G(8306),I=G(727);const Ce=(0,G(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=G(8737),Ae=G(2806);let xe=(()=>{class Pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const De=new Ie(this,this);return De.operator=he,De}_throwIfClosed(){if(this.closed)throw new Ce}next(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(he)}})}error(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:De}=this;for(;De.length;)De.shift().error(he)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:De,isStopped:Ue,observers:Ze}=this;return De||Ue?I.Lc:(this.currentObservers=null,Ze.push(he),new I.w0(()=>{this.currentObservers=null,(0,ye.P)(Ze,he)}))}_checkFinalizedStatuses(he){const{hasError:De,thrownError:Ue,isStopped:Ze}=this;De?he.error(Ue):Ze&&he.complete()}asObservable(){const he=new u.y;return he.source=this,he}}return Pe.create=(ce,he)=>new Ie(ce,he),Pe})();class Ie extends xe{constructor(ce,he){super(),this.destination=ce,this.source=he}next(ce){var he,De;null===(De=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===De||De.call(he,ce)}error(ce){var he,De;null===(De=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===De||De.call(he,ce)}complete(){var ce,he;null===(he=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===he||he.call(ce)}_subscribe(ce){var he,De;return null!==(De=null===(he=this.source)||void 0===he?void 0:he.subscribe(ce))&&void 0!==De?De:I.Lc}}},930:(Nt,He,G)=>{G.d(He,{Hp:()=>ft,Lv:()=>De});var u=G(576),I=G(727),z=G(2416),Ce=G(7849),ye=G(5032);const Ae=Pe("C",void 0,void 0);function Pe(Ke,Ye,Je){return{kind:Ke,value:Ye,error:Je}}var ce=G(3410),he=G(2806);class De extends I.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,I.Nn)(Ye)&&Ye.add(this)):this.destination=bt}static create(Ye,Je,Qe){return new ft(Ye,Je,Qe)}next(Ye){this.isStopped?Tt(function Ie(Ke){return Pe("N",Ke,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?Tt(function xe(Ke){return Pe("E",void 0,Ke)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?Tt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ze(Ke,Ye){return Ue.call(Ke,Ye)}class ot{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Ye)}catch(Qe){je(Qe)}}error(Ye){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Ye)}catch(Qe){je(Qe)}else je(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Je){je(Je)}}}class ft extends De{constructor(Ye,Je,Qe){let vt;if(super(),(0,u.m)(Ye)||!Ye)vt={next:null!=Ye?Ye:void 0,error:null!=Je?Je:void 0,complete:null!=Qe?Qe:void 0};else{let be;this&&z.v.useDeprecatedNextContext?(be=Object.create(Ye),be.unsubscribe=()=>this.unsubscribe(),vt={next:Ye.next&&Ze(Ye.next,be),error:Ye.error&&Ze(Ye.error,be),complete:Ye.complete&&Ze(Ye.complete,be)}):vt=Ye}this.destination=new ot(vt)}}function je(Ke){z.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Ke):(0,Ce.h)(Ke)}function Tt(Ke,Ye){const{onStoppedNotification:Je}=z.v;Je&&ce.z.setTimeout(()=>Je(Ke,Ye))}const bt={closed:!0,next:ye.Z,error:function et(Ke){throw Ke},complete:ye.Z}},727:(Nt,He,G)=>{G.d(He,{Lc:()=>Ae,w0:()=>ye,Nn:()=>xe});var u=G(576);const z=(0,G(3888).d)(Pe=>function(he){Pe(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((De,Ue)=>`${Ue+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ce=G(8737);class ye{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const Ze of he)Ze.remove(this);else he.remove(this);const{initialTeardown:De}=this;if((0,u.m)(De))try{De()}catch(Ze){ce=Ze instanceof z?Ze.errors:[Ze]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ze of Ue)try{Ie(Ze)}catch(ot){ce=null!=ce?ce:[],ot instanceof z?ce=[...ce,...ot.errors]:ce.push(ot)}}if(ce)throw new z(ce)}}add(ce){var he;if(ce&&ce!==this)if(this.closed)Ie(ce);else{if(ce instanceof ye){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ce)}}_hasParent(ce){const{_parentage:he}=this;return he===ce||Array.isArray(he)&&he.includes(ce)}_addParent(ce){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ce),he):he?[he,ce]:ce}_removeParent(ce){const{_parentage:he}=this;he===ce?this._parentage=null:Array.isArray(he)&&(0,Ce.P)(he,ce)}remove(ce){const{_finalizers:he}=this;he&&(0,Ce.P)(he,ce),ce instanceof ye&&ce._removeParent(this)}}ye.EMPTY=(()=>{const Pe=new ye;return Pe.closed=!0,Pe})();const Ae=ye.EMPTY;function xe(Pe){return Pe instanceof ye||Pe&&"closed"in Pe&&(0,u.m)(Pe.remove)&&(0,u.m)(Pe.add)&&(0,u.m)(Pe.unsubscribe)}function Ie(Pe){(0,u.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(Nt,He,G)=>{G.d(He,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Nt,He,G)=>{G.d(He,{a:()=>ce});var u=G(8306),I=G(4742),z=G(8996),Ce=G(4671),ye=G(3268),Ae=G(3269),xe=G(1810),Ie=G(5403),Pe=G(9672);function ce(...Ue){const Ze=(0,Ae.yG)(Ue),ot=(0,Ae.jO)(Ue),{args:ft,keys:je}=(0,I.D)(Ue);if(0===ft.length)return(0,z.D)([],Ze);const et=new u.y(function he(Ue,Ze,ot=Ce.y){return ft=>{De(Ze,()=>{const{length:je}=Ue,et=new Array(je);let Tt=je,bt=je;for(let Ke=0;Ke<je;Ke++)De(Ze,()=>{const Ye=(0,z.D)(Ue[Ke],Ze);let Je=!1;Ye.subscribe((0,Ie.x)(ft,Qe=>{et[Ke]=Qe,Je||(Je=!0,bt--),bt||ft.next(ot(et.slice()))},()=>{--Tt||ft.complete()}))},ft)},ft)}}(ft,Ze,je?Tt=>(0,xe.n)(je,Tt):Ce.y));return ot?et.pipe((0,ye.Z)(ot)):et}function De(Ue,Ze,ot){Ue?(0,Pe.f)(ot,Ue,Ze):Ze()}},7272:(Nt,He,G)=>{G.d(He,{z:()=>ye});var u=G(8189),z=G(3269),Ce=G(8996);function ye(...Ae){return function I(){return(0,u.J)(1)}()((0,Ce.D)(Ae,(0,z.yG)(Ae)))}},515:(Nt,He,G)=>{G.d(He,{E:()=>I});const I=new(G(8306).y)(ye=>ye.complete())},8996:(Nt,He,G)=>{G.d(He,{D:()=>Ye});var u=G(8421),I=G(5363),z=G(9468),Ae=G(8306),Ie=G(2202),Pe=G(576),ce=G(9672);function De(Je,Qe){if(!Je)throw new Error("Iterable cannot be null");return new Ae.y(vt=>{(0,ce.f)(vt,Qe,()=>{const be=Je[Symbol.asyncIterator]();(0,ce.f)(vt,Qe,()=>{be.next().then(ie=>{ie.done?vt.complete():vt.next(ie.value)})},0,!0)})})}var Ue=G(3670),Ze=G(8239),ot=G(1144),ft=G(6495),je=G(2206),et=G(4532),Tt=G(3260);function Ye(Je,Qe){return Qe?function Ke(Je,Qe){if(null!=Je){if((0,Ue.c)(Je))return function Ce(Je,Qe){return(0,u.Xf)(Je).pipe((0,z.R)(Qe),(0,I.Q)(Qe))}(Je,Qe);if((0,ot.z)(Je))return function xe(Je,Qe){return new Ae.y(vt=>{let be=0;return Qe.schedule(function(){be===Je.length?vt.complete():(vt.next(Je[be++]),vt.closed||this.schedule())})})}(Je,Qe);if((0,Ze.t)(Je))return function ye(Je,Qe){return(0,u.Xf)(Je).pipe((0,z.R)(Qe),(0,I.Q)(Qe))}(Je,Qe);if((0,je.D)(Je))return De(Je,Qe);if((0,ft.T)(Je))return function he(Je,Qe){return new Ae.y(vt=>{let be;return(0,ce.f)(vt,Qe,()=>{be=Je[Ie.h](),(0,ce.f)(vt,Qe,()=>{let ie,ue;try{({value:ie,done:ue}=be.next())}catch(ve){return void vt.error(ve)}ue?vt.complete():vt.next(ie)},0,!0)}),()=>(0,Pe.m)(null==be?void 0:be.return)&&be.return()})}(Je,Qe);if((0,Tt.L)(Je))return function bt(Je,Qe){return De((0,Tt.Q)(Je),Qe)}(Je,Qe)}throw(0,et.z)(Je)}(Je,Qe):(0,u.Xf)(Je)}},8421:(Nt,He,G)=>{G.d(He,{Xf:()=>Ue});var u=G(655),I=G(1144),z=G(8239),Ce=G(8306),ye=G(3670),Ae=G(2206),xe=G(4532),Ie=G(6495),Pe=G(3260),ce=G(576),he=G(7849),De=G(8822);function Ue(Ke){if(Ke instanceof Ce.y)return Ke;if(null!=Ke){if((0,ye.c)(Ke))return function Ze(Ke){return new Ce.y(Ye=>{const Je=Ke[De.L]();if((0,ce.m)(Je.subscribe))return Je.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,I.z)(Ke))return function ot(Ke){return new Ce.y(Ye=>{for(let Je=0;Je<Ke.length&&!Ye.closed;Je++)Ye.next(Ke[Je]);Ye.complete()})}(Ke);if((0,z.t)(Ke))return function ft(Ke){return new Ce.y(Ye=>{Ke.then(Je=>{Ye.closed||(Ye.next(Je),Ye.complete())},Je=>Ye.error(Je)).then(null,he.h)})}(Ke);if((0,Ae.D)(Ke))return et(Ke);if((0,Ie.T)(Ke))return function je(Ke){return new Ce.y(Ye=>{for(const Je of Ke)if(Ye.next(Je),Ye.closed)return;Ye.complete()})}(Ke);if((0,Pe.L)(Ke))return function Tt(Ke){return et((0,Pe.Q)(Ke))}(Ke)}throw(0,xe.z)(Ke)}function et(Ke){return new Ce.y(Ye=>{(function bt(Ke,Ye){var Je,Qe,vt,be;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Je=(0,u.KL)(Ke);!(Qe=yield Je.next()).done;)if(Ye.next(Qe.value),Ye.closed)return}catch(ie){vt={error:ie}}finally{try{Qe&&!Qe.done&&(be=Je.return)&&(yield be.call(Je))}finally{if(vt)throw vt.error}}Ye.complete()})})(Ke,Ye).catch(Je=>Ye.error(Je))})}},6451:(Nt,He,G)=>{G.d(He,{T:()=>Ae});var u=G(8189),I=G(8421),z=G(515),Ce=G(3269),ye=G(8996);function Ae(...xe){const Ie=(0,Ce.yG)(xe),Pe=(0,Ce._6)(xe,1/0),ce=xe;return ce.length?1===ce.length?(0,I.Xf)(ce[0]):(0,u.J)(Pe)((0,ye.D)(ce,Ie)):z.E}},9646:(Nt,He,G)=>{G.d(He,{of:()=>z});var u=G(3269),I=G(8996);function z(...Ce){const ye=(0,u.yG)(Ce);return(0,I.D)(Ce,ye)}},5403:(Nt,He,G)=>{G.d(He,{x:()=>I});var u=G(930);function I(Ce,ye,Ae,xe,Ie){return new z(Ce,ye,Ae,xe,Ie)}class z extends u.Lv{constructor(ye,Ae,xe,Ie,Pe,ce){super(ye),this.onFinalize=Pe,this.shouldUnsubscribe=ce,this._next=Ae?function(he){try{Ae(he)}catch(De){ye.error(De)}}:super._next,this._error=Ie?function(he){try{Ie(he)}catch(De){ye.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(he){ye.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},6590:(Nt,He,G)=>{G.d(He,{d:()=>z});var u=G(4482),I=G(5403);function z(Ce){return(0,u.e)((ye,Ae)=>{let xe=!1;ye.subscribe((0,I.x)(Ae,Ie=>{xe=!0,Ae.next(Ie)},()=>{xe||Ae.next(Ce),Ae.complete()}))})}},1884:(Nt,He,G)=>{G.d(He,{x:()=>Ce});var u=G(4671),I=G(4482),z=G(5403);function Ce(Ae,xe=u.y){return Ae=null!=Ae?Ae:ye,(0,I.e)((Ie,Pe)=>{let ce,he=!0;Ie.subscribe((0,z.x)(Pe,De=>{const Ue=xe(De);(he||!Ae(ce,Ue))&&(he=!1,ce=Ue,Pe.next(De))}))})}function ye(Ae,xe){return Ae===xe}},9300:(Nt,He,G)=>{G.d(He,{h:()=>z});var u=G(4482),I=G(5403);function z(Ce,ye){return(0,u.e)((Ae,xe)=>{let Ie=0;Ae.subscribe((0,I.x)(xe,Pe=>Ce.call(ye,Pe,Ie++)&&xe.next(Pe)))})}},590:(Nt,He,G)=>{G.d(He,{P:()=>xe});var u=G(6805),I=G(9300),z=G(5698),Ce=G(6590),ye=G(8068),Ae=G(4671);function xe(Ie,Pe){const ce=arguments.length>=2;return he=>he.pipe(Ie?(0,I.h)((De,Ue)=>Ie(De,Ue,he)):Ae.y,(0,z.q)(1),ce?(0,Ce.d)(Pe):(0,ye.T)(()=>new u.K))}},4004:(Nt,He,G)=>{G.d(He,{U:()=>z});var u=G(4482),I=G(5403);function z(Ce,ye){return(0,u.e)((Ae,xe)=>{let Ie=0;Ae.subscribe((0,I.x)(xe,Pe=>{xe.next(Ce.call(ye,Pe,Ie++))}))})}},8189:(Nt,He,G)=>{G.d(He,{J:()=>z});var u=G(5577),I=G(4671);function z(Ce=1/0){return(0,u.z)(I.y,Ce)}},5577:(Nt,He,G)=>{G.d(He,{z:()=>Ie});var u=G(4004),I=G(8421),z=G(4482),Ce=G(9672),ye=G(5403),xe=G(576);function Ie(Pe,ce,he=1/0){return(0,xe.m)(ce)?Ie((De,Ue)=>(0,u.U)((Ze,ot)=>ce(De,Ze,Ue,ot))((0,I.Xf)(Pe(De,Ue))),he):("number"==typeof ce&&(he=ce),(0,z.e)((De,Ue)=>function Ae(Pe,ce,he,De,Ue,Ze,ot,ft){const je=[];let et=0,Tt=0,bt=!1;const Ke=()=>{bt&&!je.length&&!et&&ce.complete()},Ye=Qe=>et<De?Je(Qe):je.push(Qe),Je=Qe=>{Ze&&ce.next(Qe),et++;let vt=!1;(0,I.Xf)(he(Qe,Tt++)).subscribe((0,ye.x)(ce,be=>{null==Ue||Ue(be),Ze?Ye(be):ce.next(be)},()=>{vt=!0},void 0,()=>{if(vt)try{for(et--;je.length&&et<De;){const be=je.shift();ot?(0,Ce.f)(ce,ot,()=>Je(be)):Je(be)}Ke()}catch(be){ce.error(be)}}))};return Pe.subscribe((0,ye.x)(ce,Ye,()=>{bt=!0,Ke()})),()=>{null==ft||ft()}}(De,Ue,Pe,he)))}},5363:(Nt,He,G)=>{G.d(He,{Q:()=>Ce});var u=G(9672),I=G(4482),z=G(5403);function Ce(ye,Ae=0){return(0,I.e)((xe,Ie)=>{xe.subscribe((0,z.x)(Ie,Pe=>(0,u.f)(Ie,ye,()=>Ie.next(Pe),Ae),()=>(0,u.f)(Ie,ye,()=>Ie.complete(),Ae),Pe=>(0,u.f)(Ie,ye,()=>Ie.error(Pe),Ae)))})}},5026:(Nt,He,G)=>{G.d(He,{R:()=>Ce});var u=G(4482),I=G(5403);function z(ye,Ae,xe,Ie,Pe){return(ce,he)=>{let De=xe,Ue=Ae,Ze=0;ce.subscribe((0,I.x)(he,ot=>{const ft=Ze++;Ue=De?ye(Ue,ot,ft):(De=!0,ot),Ie&&he.next(Ue)},Pe&&(()=>{De&&he.next(Ue),he.complete()})))}}function Ce(ye,Ae){return(0,u.e)(z(ye,Ae,arguments.length>=2,!0))}},3099:(Nt,He,G)=>{G.d(He,{B:()=>Ae});var u=G(8996),I=G(5698),z=G(7579),Ce=G(930),ye=G(4482);function Ae(Ie={}){const{connector:Pe=(()=>new z.x),resetOnError:ce=!0,resetOnComplete:he=!0,resetOnRefCountZero:De=!0}=Ie;return Ue=>{let Ze=null,ot=null,ft=null,je=0,et=!1,Tt=!1;const bt=()=>{null==ot||ot.unsubscribe(),ot=null},Ke=()=>{bt(),Ze=ft=null,et=Tt=!1},Ye=()=>{const Je=Ze;Ke(),null==Je||Je.unsubscribe()};return(0,ye.e)((Je,Qe)=>{je++,!Tt&&!et&&bt();const vt=ft=null!=ft?ft:Pe();Qe.add(()=>{je--,0===je&&!Tt&&!et&&(ot=xe(Ye,De))}),vt.subscribe(Qe),Ze||(Ze=new Ce.Hp({next:be=>vt.next(be),error:be=>{Tt=!0,bt(),ot=xe(Ke,ce,be),vt.error(be)},complete:()=>{et=!0,bt(),ot=xe(Ke,he),vt.complete()}}),(0,u.D)(Je).subscribe(Ze))})(Ue)}}function xe(Ie,Pe,...ce){return!0===Pe?(Ie(),null):!1===Pe?null:Pe(...ce).pipe((0,I.q)(1)).subscribe(()=>Ie())}},8675:(Nt,He,G)=>{G.d(He,{O:()=>Ce});var u=G(7272),I=G(3269),z=G(4482);function Ce(...ye){const Ae=(0,I.yG)(ye);return(0,z.e)((xe,Ie)=>{(Ae?(0,u.z)(ye,xe,Ae):(0,u.z)(ye,xe)).subscribe(Ie)})}},9468:(Nt,He,G)=>{G.d(He,{R:()=>I});var u=G(4482);function I(z,Ce=0){return(0,u.e)((ye,Ae)=>{Ae.add(z.schedule(()=>ye.subscribe(Ae),Ce))})}},3900:(Nt,He,G)=>{G.d(He,{w:()=>Ce});var u=G(8421),I=G(4482),z=G(5403);function Ce(ye,Ae){return(0,I.e)((xe,Ie)=>{let Pe=null,ce=0,he=!1;const De=()=>he&&!Pe&&Ie.complete();xe.subscribe((0,z.x)(Ie,Ue=>{null==Pe||Pe.unsubscribe();let Ze=0;const ot=ce++;(0,u.Xf)(ye(Ue,ot)).subscribe(Pe=(0,z.x)(Ie,ft=>Ie.next(Ae?Ae(Ue,ft,ot,Ze++):ft),()=>{Pe=null,De()}))},()=>{he=!0,De()}))})}},5698:(Nt,He,G)=>{G.d(He,{q:()=>Ce});var u=G(515),I=G(4482),z=G(5403);function Ce(ye){return ye<=0?()=>u.E:(0,I.e)((Ae,xe)=>{let Ie=0;Ae.subscribe((0,z.x)(xe,Pe=>{++Ie<=ye&&(xe.next(Pe),ye<=Ie&&xe.complete())}))})}},8505:(Nt,He,G)=>{G.d(He,{b:()=>ye});var u=G(576),I=G(4482),z=G(5403),Ce=G(4671);function ye(Ae,xe,Ie){const Pe=(0,u.m)(Ae)||xe||Ie?{next:Ae,error:xe,complete:Ie}:Ae;return Pe?(0,I.e)((ce,he)=>{var De;null===(De=Pe.subscribe)||void 0===De||De.call(Pe);let Ue=!0;ce.subscribe((0,z.x)(he,Ze=>{var ot;null===(ot=Pe.next)||void 0===ot||ot.call(Pe,Ze),he.next(Ze)},()=>{var Ze;Ue=!1,null===(Ze=Pe.complete)||void 0===Ze||Ze.call(Pe),he.complete()},Ze=>{var ot;Ue=!1,null===(ot=Pe.error)||void 0===ot||ot.call(Pe,Ze),he.error(Ze)},()=>{var Ze,ot;Ue&&(null===(Ze=Pe.unsubscribe)||void 0===Ze||Ze.call(Pe)),null===(ot=Pe.finalize)||void 0===ot||ot.call(Pe)}))}):Ce.y}},8068:(Nt,He,G)=>{G.d(He,{T:()=>Ce});var u=G(6805),I=G(4482),z=G(5403);function Ce(Ae=ye){return(0,I.e)((xe,Ie)=>{let Pe=!1;xe.subscribe((0,z.x)(Ie,ce=>{Pe=!0,Ie.next(ce)},()=>Pe?Ie.complete():Ie.error(Ae())))})}function ye(){return new u.K}},4408:(Nt,He,G)=>{G.d(He,{o:()=>ye});var u=G(727);class I extends u.w0{constructor(xe,Ie){super()}schedule(xe,Ie=0){return this}}const z={setInterval(Ae,xe,...Ie){const{delegate:Pe}=z;return(null==Pe?void 0:Pe.setInterval)?Pe.setInterval(Ae,xe,...Ie):setInterval(Ae,xe,...Ie)},clearInterval(Ae){const{delegate:xe}=z;return((null==xe?void 0:xe.clearInterval)||clearInterval)(Ae)},delegate:void 0};var Ce=G(8737);class ye extends I{constructor(xe,Ie){super(xe,Ie),this.scheduler=xe,this.work=Ie,this.pending=!1}schedule(xe,Ie=0){if(this.closed)return this;this.state=xe;const Pe=this.id,ce=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(ce,Pe,Ie)),this.pending=!0,this.delay=Ie,this.id=this.id||this.requestAsyncId(ce,this.id,Ie),this}requestAsyncId(xe,Ie,Pe=0){return z.setInterval(xe.flush.bind(xe,this),Pe)}recycleAsyncId(xe,Ie,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return Ie;z.clearInterval(Ie)}execute(xe,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(xe,Ie);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,Ie){let ce,Pe=!1;try{this.work(xe)}catch(he){Pe=!0,ce=he||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:xe,scheduler:Ie}=this,{actions:Pe}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Pe,this),null!=xe&&(this.id=this.recycleAsyncId(Ie,xe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Nt,He,G)=>{G.d(He,{v:()=>z});var u=G(6063);class I{constructor(ye,Ae=I.now){this.schedulerActionCtor=ye,this.now=Ae}schedule(ye,Ae=0,xe){return new this.schedulerActionCtor(this,ye).schedule(xe,Ae)}}I.now=u.l.now;class z extends I{constructor(ye,Ae=I.now){super(ye,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ye){const{actions:Ae}=this;if(this._active)return void Ae.push(ye);let xe;this._active=!0;do{if(xe=ye.execute(ye.state,ye.delay))break}while(ye=Ae.shift());if(this._active=!1,xe){for(;ye=Ae.shift();)ye.unsubscribe();throw xe}}}},4986:(Nt,He,G)=>{G.d(He,{P:()=>Ce,z:()=>z});var u=G(4408);const z=new(G(7565).v)(u.o),Ce=z},6063:(Nt,He,G)=>{G.d(He,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Nt,He,G)=>{G.d(He,{z:()=>u});const u={setTimeout(I,z,...Ce){const{delegate:ye}=u;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(I,z,...Ce):setTimeout(I,z,...Ce)},clearTimeout(I){const{delegate:z}=u;return((null==z?void 0:z.clearTimeout)||clearTimeout)(I)},delegate:void 0}},2202:(Nt,He,G)=>{G.d(He,{h:()=>I});const I=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Nt,He,G)=>{G.d(He,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Nt,He,G)=>{G.d(He,{K:()=>I});const I=(0,G(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Nt,He,G)=>{G.d(He,{_6:()=>Ae,jO:()=>Ce,yG:()=>ye});var u=G(576),I=G(3532);function z(xe){return xe[xe.length-1]}function Ce(xe){return(0,u.m)(z(xe))?xe.pop():void 0}function ye(xe){return(0,I.K)(z(xe))?xe.pop():void 0}function Ae(xe,Ie){return"number"==typeof z(xe)?xe.pop():Ie}},4742:(Nt,He,G)=>{G.d(He,{D:()=>ye});const{isArray:u}=Array,{getPrototypeOf:I,prototype:z,keys:Ce}=Object;function ye(xe){if(1===xe.length){const Ie=xe[0];if(u(Ie))return{args:Ie,keys:null};if(function Ae(xe){return xe&&"object"==typeof xe&&I(xe)===z}(Ie)){const Pe=Ce(Ie);return{args:Pe.map(ce=>Ie[ce]),keys:Pe}}}return{args:xe,keys:null}}},8737:(Nt,He,G)=>{function u(I,z){if(I){const Ce=I.indexOf(z);0<=Ce&&I.splice(Ce,1)}}G.d(He,{P:()=>u})},3888:(Nt,He,G)=>{function u(I){const Ce=I(ye=>{Error.call(ye),ye.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}G.d(He,{d:()=>u})},1810:(Nt,He,G)=>{function u(I,z){return I.reduce((Ce,ye,Ae)=>(Ce[ye]=z[Ae],Ce),{})}G.d(He,{n:()=>u})},2806:(Nt,He,G)=>{G.d(He,{O:()=>Ce,x:()=>z});var u=G(2416);let I=null;function z(ye){if(u.v.useDeprecatedSynchronousErrorHandling){const Ae=!I;if(Ae&&(I={errorThrown:!1,error:null}),ye(),Ae){const{errorThrown:xe,error:Ie}=I;if(I=null,xe)throw Ie}}else ye()}function Ce(ye){u.v.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=ye)}},9672:(Nt,He,G)=>{function u(I,z,Ce,ye=0,Ae=!1){const xe=z.schedule(function(){Ce(),Ae?I.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(I.add(xe),!Ae)return xe}G.d(He,{f:()=>u})},4671:(Nt,He,G)=>{function u(I){return I}G.d(He,{y:()=>u})},1144:(Nt,He,G)=>{G.d(He,{z:()=>u});const u=I=>I&&"number"==typeof I.length&&"function"!=typeof I},2206:(Nt,He,G)=>{G.d(He,{D:()=>I});var u=G(576);function I(z){return Symbol.asyncIterator&&(0,u.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(Nt,He,G)=>{function u(I){return"function"==typeof I}G.d(He,{m:()=>u})},3670:(Nt,He,G)=>{G.d(He,{c:()=>z});var u=G(8822),I=G(576);function z(Ce){return(0,I.m)(Ce[u.L])}},6495:(Nt,He,G)=>{G.d(He,{T:()=>z});var u=G(2202),I=G(576);function z(Ce){return(0,I.m)(null==Ce?void 0:Ce[u.h])}},8239:(Nt,He,G)=>{G.d(He,{t:()=>I});var u=G(576);function I(z){return(0,u.m)(null==z?void 0:z.then)}},3260:(Nt,He,G)=>{G.d(He,{L:()=>Ce,Q:()=>z});var u=G(655),I=G(576);function z(ye){return(0,u.FC)(this,arguments,function*(){const xe=ye.getReader();try{for(;;){const{value:Ie,done:Pe}=yield(0,u.qq)(xe.read());if(Pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ie)}}finally{xe.releaseLock()}})}function Ce(ye){return(0,I.m)(null==ye?void 0:ye.getReader)}},3532:(Nt,He,G)=>{G.d(He,{K:()=>I});var u=G(576);function I(z){return z&&(0,u.m)(z.schedule)}},4482:(Nt,He,G)=>{G.d(He,{A:()=>I,e:()=>z});var u=G(576);function I(Ce){return(0,u.m)(null==Ce?void 0:Ce.lift)}function z(Ce){return ye=>{if(I(ye))return ye.lift(function(Ae){try{return Ce(Ae,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Nt,He,G)=>{G.d(He,{Z:()=>Ce});var u=G(4004);const{isArray:I}=Array;function Ce(ye){return(0,u.U)(Ae=>function z(ye,Ae){return I(Ae)?ye(...Ae):ye(Ae)}(ye,Ae))}},5032:(Nt,He,G)=>{function u(){}G.d(He,{Z:()=>u})},7849:(Nt,He,G)=>{G.d(He,{h:()=>z});var u=G(2416),I=G(3410);function z(Ce){I.z.setTimeout(()=>{const{onUnhandledError:ye}=u.v;if(!ye)throw Ce;ye(Ce)})}},4532:(Nt,He,G)=>{function u(I){return new TypeError(`You provided ${null!==I&&"object"==typeof I?"an invalid object":`'${I}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(He,{z:()=>u})},655:(Nt,He,G)=>{function Ce(ie,ue){var ve={};for(var Oe in ie)Object.prototype.hasOwnProperty.call(ie,Oe)&&ue.indexOf(Oe)<0&&(ve[Oe]=ie[Oe]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Oe=Object.getOwnPropertySymbols(ie);it<Oe.length;it++)ue.indexOf(Oe[it])<0&&Object.prototype.propertyIsEnumerable.call(ie,Oe[it])&&(ve[Oe[it]]=ie[Oe[it]])}return ve}function Ie(ie,ue,ve,Oe){return new(ve||(ve=Promise))(function(Ge,Gt){function _n(en){try{Mt(Oe.next(en))}catch(qt){Gt(qt)}}function Jn(en){try{Mt(Oe.throw(en))}catch(qt){Gt(qt)}}function Mt(en){en.done?Ge(en.value):function it(Ge){return Ge instanceof ve?Ge:new ve(function(Gt){Gt(Ge)})}(en.value).then(_n,Jn)}Mt((Oe=Oe.apply(ie,ue||[])).next())})}function je(ie){return this instanceof je?(this.v=ie,this):new je(ie)}function et(ie,ue,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Oe=ve.apply(ie,ue||[]),Ge=[];return it={},Gt("next"),Gt("throw"),Gt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Gt(Wt){Oe[Wt]&&(it[Wt]=function(Ln){return new Promise(function(pn,cr){Ge.push([Wt,Ln,pn,cr])>1||_n(Wt,Ln)})})}function _n(Wt,Ln){try{!function Jn(Wt){Wt.value instanceof je?Promise.resolve(Wt.value.v).then(Mt,en):qt(Ge[0][2],Wt)}(Oe[Wt](Ln))}catch(pn){qt(Ge[0][3],pn)}}function Mt(Wt){_n("next",Wt)}function en(Wt){_n("throw",Wt)}function qt(Wt,Ln){Wt(Ln),Ge.shift(),Ge.length&&_n(Ge[0][0],Ge[0][1])}}function bt(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ue=ie[Symbol.asyncIterator];return ue?ue.call(ie):(ie=function De(ie){var ue="function"==typeof Symbol&&Symbol.iterator,ve=ue&&ie[ue],Oe=0;if(ve)return ve.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Oe>=ie.length&&(ie=void 0),{value:ie&&ie[Oe++],done:!ie}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ve={},Oe("next"),Oe("throw"),Oe("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Oe(Ge){ve[Ge]=ie[Ge]&&function(Gt){return new Promise(function(_n,Jn){!function it(Ge,Gt,_n,Jn){Promise.resolve(Jn).then(function(Mt){Ge({value:Mt,done:_n})},Gt)}(_n,Jn,(Gt=ie[Ge](Gt)).done,Gt.value)})}}}G.d(He,{FC:()=>et,KL:()=>bt,_T:()=>Ce,mG:()=>Ie,qq:()=>je})},9808:(Nt,He,G)=>{G.d(He,{Do:()=>Ke,EM:()=>$r,HT:()=>ye,JF:()=>Hn,K0:()=>xe,Mx:()=>pi,NF:()=>Yr,O5:()=>X,PC:()=>mo,PM:()=>Lr,S$:()=>je,V_:()=>ce,Ye:()=>Ye,b0:()=>bt,bD:()=>ws,ez:()=>es,lw:()=>Ie,mk:()=>Ti,mr:()=>Tt,q:()=>z,sg:()=>Er,tP:()=>Ms,uU:()=>Oo,w_:()=>Ae});var u=G(5e3);let I=null;function z(){return I}function ye(F){I||(I=F)}class Ae{}const xe=new u.OlP("DocumentToken");let Ie=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=u.Yz7({token:F,factory:function(){return function Pe(){return(0,u.LFG)(he)}()},providedIn:"platform"}),F})();const ce=new u.OlP("Location Initialized");let he=(()=>{class F extends Ie{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(L){const Q=z().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",L,!1),()=>Q.removeEventListener("popstate",L)}onHashChange(L){const Q=z().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",L,!1),()=>Q.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,Q,me){De()?this._history.pushState(L,Q,me):this.location.hash=me}replaceState(L,Q,me){De()?this._history.replaceState(L,Q,me):this.location.hash=me}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return F.\u0275fac=function(L){return new(L||F)(u.LFG(xe))},F.\u0275prov=u.Yz7({token:F,factory:function(){return function Ue(){return new he((0,u.LFG)(xe))}()},providedIn:"platform"}),F})();function De(){return!!window.history.pushState}function Ze(F,Y){if(0==F.length)return Y;if(0==Y.length)return F;let L=0;return F.endsWith("/")&&L++,Y.startsWith("/")&&L++,2==L?F+Y.substring(1):1==L?F+Y:F+"/"+Y}function ot(F){const Y=F.match(/#|\?|$/),L=Y&&Y.index||F.length;return F.slice(0,L-("/"===F[L-1]?1:0))+F.slice(L)}function ft(F){return F&&"?"!==F[0]?"?"+F:F}let je=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=u.Yz7({token:F,factory:function(){return function et(F){const Y=(0,u.LFG)(xe).location;return new bt((0,u.LFG)(Ie),Y&&Y.origin||"")}()},providedIn:"root"}),F})();const Tt=new u.OlP("appBaseHref");let bt=(()=>{class F extends je{constructor(L,Q){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Ze(this._baseHref,L)}path(L=!1){const Q=this._platformLocation.pathname+ft(this._platformLocation.search),me=this._platformLocation.hash;return me&&L?`${Q}${me}`:Q}pushState(L,Q,me,Be){const lt=this.prepareExternalUrl(me+ft(Be));this._platformLocation.pushState(L,Q,lt)}replaceState(L,Q,me,Be){const lt=this.prepareExternalUrl(me+ft(Be));this._platformLocation.replaceState(L,Q,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var Q,me;null===(me=(Q=this._platformLocation).historyGo)||void 0===me||me.call(Q,L)}}return F.\u0275fac=function(L){return new(L||F)(u.LFG(Ie),u.LFG(Tt,8))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac}),F})(),Ke=(()=>{class F extends je{constructor(L,Q){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(L){const Q=Ze(this._baseHref,L);return Q.length>0?"#"+Q:Q}pushState(L,Q,me,Be){let lt=this.prepareExternalUrl(me+ft(Be));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(L,Q,lt)}replaceState(L,Q,me,Be){let lt=this.prepareExternalUrl(me+ft(Be));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(L,Q,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var Q,me;null===(me=(Q=this._platformLocation).historyGo)||void 0===me||me.call(Q,L)}}return F.\u0275fac=function(L){return new(L||F)(u.LFG(Ie),u.LFG(Tt,8))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac}),F})(),Ye=(()=>{class F{constructor(L,Q){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const me=this._platformStrategy.getBaseHref();this._platformLocation=Q,this._baseHref=ot(vt(me)),this._platformStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,Q=""){return this.path()==this.normalize(L+ft(Q))}normalize(L){return F.stripTrailingSlash(function Qe(F,Y){return F&&Y.startsWith(F)?Y.substring(F.length):Y}(this._baseHref,vt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,Q="",me=null){this._platformStrategy.pushState(me,"",L,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ft(Q)),me)}replaceState(L,Q="",me=null){this._platformStrategy.replaceState(me,"",L,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ft(Q)),me)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var Q,me;null===(me=(Q=this._platformStrategy).historyGo)||void 0===me||me.call(Q,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}))}_notifyUrlChangeListeners(L="",Q){this._urlChangeListeners.forEach(me=>me(L,Q))}subscribe(L,Q,me){return this._subject.subscribe({next:L,error:Q,complete:me})}}return F.normalizeQueryParams=ft,F.joinWithSlash=Ze,F.stripTrailingSlash=ot,F.\u0275fac=function(L){return new(L||F)(u.LFG(je),u.LFG(Ie))},F.\u0275prov=u.Yz7({token:F,factory:function(){return function Je(){return new Ye((0,u.LFG)(je),(0,u.LFG)(Ie))}()},providedIn:"root"}),F})();function vt(F){return F.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Format=0]="Format",ve[ve.Standalone=1]="Standalone",ve))(),Oe=(()=>((Oe=Oe||{})[Oe.Narrow=0]="Narrow",Oe[Oe.Abbreviated=1]="Abbreviated",Oe[Oe.Wide=2]="Wide",Oe[Oe.Short=3]="Short",Oe))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),Ge=(()=>((Ge=Ge||{})[Ge.Decimal=0]="Decimal",Ge[Ge.Group=1]="Group",Ge[Ge.List=2]="List",Ge[Ge.PercentSign=3]="PercentSign",Ge[Ge.PlusSign=4]="PlusSign",Ge[Ge.MinusSign=5]="MinusSign",Ge[Ge.Exponential=6]="Exponential",Ge[Ge.SuperscriptingExponent=7]="SuperscriptingExponent",Ge[Ge.PerMille=8]="PerMille",Ge[Ge.Infinity=9]="Infinity",Ge[Ge.NaN=10]="NaN",Ge[Ge.TimeSeparator=11]="TimeSeparator",Ge[Ge.CurrencyDecimal=12]="CurrencyDecimal",Ge[Ge.CurrencyGroup=13]="CurrencyGroup",Ge))();function pn(F,Y){return tr((0,u.cg1)(F)[u.wAp.DateFormat],Y)}function cr(F,Y){return tr((0,u.cg1)(F)[u.wAp.TimeFormat],Y)}function Pn(F,Y){return tr((0,u.cg1)(F)[u.wAp.DateTimeFormat],Y)}function un(F,Y){const L=(0,u.cg1)(F),Q=L[u.wAp.NumberSymbols][Y];if(void 0===Q){if(Y===Ge.CurrencyDecimal)return L[u.wAp.NumberSymbols][Ge.Decimal];if(Y===Ge.CurrencyGroup)return L[u.wAp.NumberSymbols][Ge.Group]}return Q}function qn(F){if(!F[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tr(F,Y){for(let L=Y;L>-1;L--)if(void 0!==F[L])return F[L];throw new Error("Locale data API: locale data undefined")}function Et(F){const[Y,L]=F.split(":");return{hours:+Y,minutes:+L}}const Mn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mr={},hr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.ShortGMT=1]="ShortGMT",tn[tn.Long=2]="Long",tn[tn.Extended=3]="Extended",tn))(),Ot=(()=>((Ot=Ot||{})[Ot.FullYear=0]="FullYear",Ot[Ot.Month=1]="Month",Ot[Ot.Date=2]="Date",Ot[Ot.Hours=3]="Hours",Ot[Ot.Minutes=4]="Minutes",Ot[Ot.Seconds=5]="Seconds",Ot[Ot.FractionalSeconds=6]="FractionalSeconds",Ot[Ot.Day=7]="Day",Ot))(),Ht=(()=>((Ht=Ht||{})[Ht.DayPeriods=0]="DayPeriods",Ht[Ht.Days=1]="Days",Ht[Ht.Months=2]="Months",Ht[Ht.Eras=3]="Eras",Ht))();function ar(F,Y,L,Q){let me=function hn(F){if(gn(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[me,Be=1,lt=1]=F.split("-").map(Dt=>+Dt);return Ci(me,Be-1,lt)}const L=parseFloat(F);if(!isNaN(F-L))return new Date(L);let Q;if(Q=F.match(Mn))return function lr(F){const Y=new Date(0);let L=0,Q=0;const me=F[8]?Y.setUTCFullYear:Y.setFullYear,Be=F[8]?Y.setUTCHours:Y.setHours;F[9]&&(L=Number(F[9]+F[10]),Q=Number(F[9]+F[11])),me.call(Y,Number(F[1]),Number(F[2])-1,Number(F[3]));const lt=Number(F[4]||0)-L,Dt=Number(F[5]||0)-Q,kn=Number(F[6]||0),Tn=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return Be.call(Y,lt,Dt,kn,Tn),Y}(Q)}const Y=new Date(F);if(!gn(Y))throw new Error(`Unable to convert "${F}" into a date`);return Y}(F);Y=Sn(L,Y)||Y;let Dt,lt=[];for(;Y;){if(Dt=hr.exec(Y),!Dt){lt.push(Y);break}{lt=lt.concat(Dt.slice(1));const yn=lt.pop();if(!yn)break;Y=yn}}let kn=me.getTimezoneOffset();Q&&(kn=Re(Q,kn),me=function zt(F,Y,L){const Q=L?-1:1,me=F.getTimezoneOffset();return function _t(F,Y){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+Y),F}(F,Q*(Re(Y,me)-me))}(me,Q,!0));let Tn="";return lt.forEach(yn=>{const An=function $e(F){if(Ee[F])return Ee[F];let Y;switch(F){case"G":case"GG":case"GGG":Y=En(Ht.Eras,Oe.Abbreviated);break;case"GGGG":Y=En(Ht.Eras,Oe.Wide);break;case"GGGGG":Y=En(Ht.Eras,Oe.Narrow);break;case"y":Y=Qt(Ot.FullYear,1,0,!1,!0);break;case"yy":Y=Qt(Ot.FullYear,2,0,!0,!0);break;case"yyy":Y=Qt(Ot.FullYear,3,0,!1,!0);break;case"yyyy":Y=Qt(Ot.FullYear,4,0,!1,!0);break;case"Y":Y=te(1);break;case"YY":Y=te(2,!0);break;case"YYY":Y=te(3);break;case"YYYY":Y=te(4);break;case"M":case"L":Y=Qt(Ot.Month,1,1);break;case"MM":case"LL":Y=Qt(Ot.Month,2,1);break;case"MMM":Y=En(Ht.Months,Oe.Abbreviated);break;case"MMMM":Y=En(Ht.Months,Oe.Wide);break;case"MMMMM":Y=En(Ht.Months,Oe.Narrow);break;case"LLL":Y=En(Ht.Months,Oe.Abbreviated,ve.Standalone);break;case"LLLL":Y=En(Ht.Months,Oe.Wide,ve.Standalone);break;case"LLLLL":Y=En(Ht.Months,Oe.Narrow,ve.Standalone);break;case"w":Y=pe(1);break;case"ww":Y=pe(2);break;case"W":Y=pe(1,!0);break;case"d":Y=Qt(Ot.Date,1);break;case"dd":Y=Qt(Ot.Date,2);break;case"c":case"cc":Y=Qt(Ot.Day,1);break;case"ccc":Y=En(Ht.Days,Oe.Abbreviated,ve.Standalone);break;case"cccc":Y=En(Ht.Days,Oe.Wide,ve.Standalone);break;case"ccccc":Y=En(Ht.Days,Oe.Narrow,ve.Standalone);break;case"cccccc":Y=En(Ht.Days,Oe.Short,ve.Standalone);break;case"E":case"EE":case"EEE":Y=En(Ht.Days,Oe.Abbreviated);break;case"EEEE":Y=En(Ht.Days,Oe.Wide);break;case"EEEEE":Y=En(Ht.Days,Oe.Narrow);break;case"EEEEEE":Y=En(Ht.Days,Oe.Short);break;case"a":case"aa":case"aaa":Y=En(Ht.DayPeriods,Oe.Abbreviated);break;case"aaaa":Y=En(Ht.DayPeriods,Oe.Wide);break;case"aaaaa":Y=En(Ht.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":Y=En(Ht.DayPeriods,Oe.Abbreviated,ve.Standalone,!0);break;case"bbbb":Y=En(Ht.DayPeriods,Oe.Wide,ve.Standalone,!0);break;case"bbbbb":Y=En(Ht.DayPeriods,Oe.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":Y=En(Ht.DayPeriods,Oe.Abbreviated,ve.Format,!0);break;case"BBBB":Y=En(Ht.DayPeriods,Oe.Wide,ve.Format,!0);break;case"BBBBB":Y=En(Ht.DayPeriods,Oe.Narrow,ve.Format,!0);break;case"h":Y=Qt(Ot.Hours,1,-12);break;case"hh":Y=Qt(Ot.Hours,2,-12);break;case"H":Y=Qt(Ot.Hours,1);break;case"HH":Y=Qt(Ot.Hours,2);break;case"m":Y=Qt(Ot.Minutes,1);break;case"mm":Y=Qt(Ot.Minutes,2);break;case"s":Y=Qt(Ot.Seconds,1);break;case"ss":Y=Qt(Ot.Seconds,2);break;case"S":Y=Qt(Ot.FractionalSeconds,1);break;case"SS":Y=Qt(Ot.FractionalSeconds,2);break;case"SSS":Y=Qt(Ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=dt(tn.Short);break;case"ZZZZZ":Y=dt(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=dt(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=dt(tn.Long);break;default:return null}return Ee[F]=Y,Y}(yn);Tn+=An?An(me,L,kn):"''"===yn?"'":yn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Tn}function Ci(F,Y,L){const Q=new Date(0);return Q.setFullYear(F,Y,L),Q.setHours(0,0,0),Q}function Sn(F,Y){const L=function _n(F){return(0,u.cg1)(F)[u.wAp.LocaleId]}(F);if(Mr[L]=Mr[L]||{},Mr[L][Y])return Mr[L][Y];let Q="";switch(Y){case"shortDate":Q=pn(F,it.Short);break;case"mediumDate":Q=pn(F,it.Medium);break;case"longDate":Q=pn(F,it.Long);break;case"fullDate":Q=pn(F,it.Full);break;case"shortTime":Q=cr(F,it.Short);break;case"mediumTime":Q=cr(F,it.Medium);break;case"longTime":Q=cr(F,it.Long);break;case"fullTime":Q=cr(F,it.Full);break;case"short":const me=Sn(F,"shortTime"),Be=Sn(F,"shortDate");Q=rr(Pn(F,it.Short),[me,Be]);break;case"medium":const lt=Sn(F,"mediumTime"),Dt=Sn(F,"mediumDate");Q=rr(Pn(F,it.Medium),[lt,Dt]);break;case"long":const kn=Sn(F,"longTime"),Tn=Sn(F,"longDate");Q=rr(Pn(F,it.Long),[kn,Tn]);break;case"full":const yn=Sn(F,"fullTime"),An=Sn(F,"fullDate");Q=rr(Pn(F,it.Full),[yn,An])}return Q&&(Mr[L][Y]=Q),Q}function rr(F,Y){return Y&&(F=F.replace(/\{([^}]+)}/g,function(L,Q){return null!=Y&&Q in Y?Y[Q]:L})),F}function Gn(F,Y,L="-",Q,me){let Be="";(F<0||me&&F<=0)&&(me?F=1-F:(F=-F,Be=L));let lt=String(F);for(;lt.length<Y;)lt="0"+lt;return Q&&(lt=lt.substr(lt.length-Y)),Be+lt}function Qt(F,Y,L=0,Q=!1,me=!1){return function(Be,lt){let Dt=function ui(F,Y){switch(F){case Ot.FullYear:return Y.getFullYear();case Ot.Month:return Y.getMonth();case Ot.Date:return Y.getDate();case Ot.Hours:return Y.getHours();case Ot.Minutes:return Y.getMinutes();case Ot.Seconds:return Y.getSeconds();case Ot.FractionalSeconds:return Y.getMilliseconds();case Ot.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,Be);if((L>0||Dt>-L)&&(Dt+=L),F===Ot.Hours)0===Dt&&-12===L&&(Dt=12);else if(F===Ot.FractionalSeconds)return function ii(F,Y){return Gn(F,3).substr(0,Y)}(Dt,Y);const kn=un(lt,Ge.MinusSign);return Gn(Dt,Y,kn,Q,me)}}function En(F,Y,L=ve.Format,Q=!1){return function(me,Be){return function Rt(F,Y,L,Q,me,Be){switch(L){case Ht.Months:return function en(F,Y,L){const Q=(0,u.cg1)(F),Be=tr([Q[u.wAp.MonthsFormat],Q[u.wAp.MonthsStandalone]],Y);return tr(Be,L)}(Y,me,Q)[F.getMonth()];case Ht.Days:return function Mt(F,Y,L){const Q=(0,u.cg1)(F),Be=tr([Q[u.wAp.DaysFormat],Q[u.wAp.DaysStandalone]],Y);return tr(Be,L)}(Y,me,Q)[F.getDay()];case Ht.DayPeriods:const lt=F.getHours(),Dt=F.getMinutes();if(Be){const Tn=function Mi(F){const Y=(0,u.cg1)(F);return qn(Y),(Y[u.wAp.ExtraData][2]||[]).map(Q=>"string"==typeof Q?Et(Q):[Et(Q[0]),Et(Q[1])])}(Y),yn=function xt(F,Y,L){const Q=(0,u.cg1)(F);qn(Q);const Be=tr([Q[u.wAp.ExtraData][0],Q[u.wAp.ExtraData][1]],Y)||[];return tr(Be,L)||[]}(Y,me,Q),An=Tn.findIndex(xr=>{if(Array.isArray(xr)){const[Tr,br]=xr,Cs=lt>=Tr.hours&&Dt>=Tr.minutes,Li=lt<br.hours||lt===br.hours&&Dt<br.minutes;if(Tr.hours<br.hours){if(Cs&&Li)return!0}else if(Cs||Li)return!0}else if(xr.hours===lt&&xr.minutes===Dt)return!0;return!1});if(-1!==An)return yn[An]}return function Jn(F,Y,L){const Q=(0,u.cg1)(F),Be=tr([Q[u.wAp.DayPeriodsFormat],Q[u.wAp.DayPeriodsStandalone]],Y);return tr(Be,L)}(Y,me,Q)[lt<12?0:1];case Ht.Eras:return function qt(F,Y){return tr((0,u.cg1)(F)[u.wAp.Eras],Y)}(Y,Q)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${L}`)}}(me,Be,F,Y,L,Q)}}function dt(F){return function(Y,L,Q){const me=-1*Q,Be=un(L,Ge.MinusSign),lt=me>0?Math.floor(me/60):Math.ceil(me/60);switch(F){case tn.Short:return(me>=0?"+":"")+Gn(lt,2,Be)+Gn(Math.abs(me%60),2,Be);case tn.ShortGMT:return"GMT"+(me>=0?"+":"")+Gn(lt,1,Be);case tn.Long:return"GMT"+(me>=0?"+":"")+Gn(lt,2,Be)+":"+Gn(Math.abs(me%60),2,Be);case tn.Extended:return 0===Q?"Z":(me>=0?"+":"")+Gn(lt,2,Be)+":"+Gn(Math.abs(me%60),2,Be);default:throw new Error(`Unknown zone width "${F}"`)}}}function an(F){return Ci(F.getFullYear(),F.getMonth(),F.getDate()+(4-F.getDay()))}function pe(F,Y=!1){return function(L,Q){let me;if(Y){const Be=new Date(L.getFullYear(),L.getMonth(),1).getDay()-1,lt=L.getDate();me=1+Math.floor((lt+Be)/7)}else{const Be=an(L),lt=function Kt(F){const Y=Ci(F,0,1).getDay();return Ci(F,0,1+(Y<=4?4:11)-Y)}(Be.getFullYear()),Dt=Be.getTime()-lt.getTime();me=1+Math.round(Dt/6048e5)}return Gn(me,F,un(Q,Ge.MinusSign))}}function te(F,Y=!1){return function(L,Q){return Gn(an(L).getFullYear(),F,un(Q,Ge.MinusSign),Y)}}const Ee={};function Re(F,Y){F=F.replace(/:/g,"");const L=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(L)?Y:L}function gn(F){return F instanceof Date&&!isNaN(F.valueOf())}function pi(F,Y){Y=encodeURIComponent(Y);for(const L of F.split(";")){const Q=L.indexOf("="),[me,Be]=-1==Q?[L,""]:[L.slice(0,Q),L.slice(Q+1)];if(me.trim()===Y)return decodeURIComponent(Be)}return null}let Ti=(()=>{class F{constructor(L,Q,me,Be){this._iterableDiffers=L,this._keyValueDiffers=Q,this._ngEl=me,this._renderer=Be,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),L.forEachChangedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),L.forEachRemovedItem(Q=>{Q.previousValue&&this._toggleClass(Q.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(Q=>{if("string"!=typeof Q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(Q.item)}`);this._toggleClass(Q.item,!0)}),L.forEachRemovedItem(Q=>this._toggleClass(Q.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(Q=>this._toggleClass(Q,!0)):Object.keys(L).forEach(Q=>this._toggleClass(Q,!!L[Q])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(Q=>this._toggleClass(Q,!1)):Object.keys(L).forEach(Q=>this._toggleClass(Q,!1)))}_toggleClass(L,Q){(L=L.trim())&&L.split(/\s+/g).forEach(me=>{Q?this._renderer.addClass(this._ngEl.nativeElement,me):this._renderer.removeClass(this._ngEl.nativeElement,me)})}}return F.\u0275fac=function(L){return new(L||F)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),F})();class di{constructor(Y,L,Q,me){this.$implicit=Y,this.ngForOf=L,this.index=Q,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{class F{constructor(L,Q,me){this._viewContainer=L,this._template=Q,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const Q=this._viewContainer;L.forEachOperation((me,Be,lt)=>{if(null==me.previousIndex)Q.createEmbeddedView(this._template,new di(me.item,this._ngForOf,-1,-1),null===lt?void 0:lt);else if(null==lt)Q.remove(null===Be?void 0:Be);else if(null!==Be){const Dt=Q.get(Be);Q.move(Dt,lt),de(Dt,me)}});for(let me=0,Be=Q.length;me<Be;me++){const Dt=Q.get(me).context;Dt.index=me,Dt.count=Be,Dt.ngForOf=this._ngForOf}L.forEachIdentityChange(me=>{de(Q.get(me.currentIndex),me)})}static ngTemplateContextGuard(L,Q){return!0}}return F.\u0275fac=function(L){return new(L||F)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();function de(F,Y){F.context.$implicit=Y.item}let X=(()=>{class F{constructor(L,Q){this._viewContainer=L,this._context=new fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Xe("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Xe("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,Q){return!0}}return F.\u0275fac=function(L){return new(L||F)(u.Y36(u.s_b),u.Y36(u.Rgc))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class fe{constructor(){this.$implicit=null,this.ngIf=null}}function Xe(F,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,u.AaK)(Y)}'.`)}let mo=(()=>{class F{constructor(L,Q,me){this._ngEl=L,this._differs=Q,this._renderer=me,this._ngStyle=null,this._differ=null}set ngStyle(L){this._ngStyle=L,!this._differ&&L&&(this._differ=this._differs.find(L).create())}ngDoCheck(){if(this._differ){const L=this._differ.diff(this._ngStyle);L&&this._applyChanges(L)}}_setStyle(L,Q){const[me,Be]=L.split(".");null!=(Q=null!=Q&&Be?`${Q}${Be}`:Q)?this._renderer.setStyle(this._ngEl.nativeElement,me,Q):this._renderer.removeStyle(this._ngEl.nativeElement,me)}_applyChanges(L){L.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),L.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),L.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}}return F.\u0275fac=function(L){return new(L||F)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),F})(),Ms=(()=>{class F{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(L){if(L.ngTemplateOutlet){const Q=this._viewContainerRef;this._viewRef&&Q.remove(Q.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Q.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(L){return new(L||F)(u.Y36(u.s_b))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),F})();const na=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Oo=(()=>{class F{constructor(L,Q){this.locale=L,this.defaultTimezone=Q}transform(L,Q="mediumDate",me,Be){var lt;if(null==L||""===L||L!=L)return null;try{return ar(L,Q,Be||this.locale,null!==(lt=null!=me?me:this.defaultTimezone)&&void 0!==lt?lt:void 0)}catch(Dt){throw function Or(F,Y){return new u.vHH(2100,"")}()}}}return F.\u0275fac=function(L){return new(L||F)(u.Y36(u.soG,16),u.Y36(na,24))},F.\u0275pipe=u.Yjl({name:"date",type:F,pure:!0}),F})(),es=(()=>{class F{}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=u.oAB({type:F}),F.\u0275inj=u.cJS({}),F})();const ws="browser";function Yr(F){return F===ws}function Lr(F){return"server"===F}let $r=(()=>{class F{}return F.\u0275prov=(0,u.Yz7)({token:F,providedIn:"root",factory:()=>new js((0,u.LFG)(xe),window)}),F})();class js{constructor(Y,L){this.document=Y,this.window=L,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const L=function Es(F,Y){const L=F.getElementById(Y)||F.getElementsByName(Y)[0];if(L)return L;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const Q=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let me=Q.currentNode;for(;me;){const Be=me.shadowRoot;if(Be){const lt=Be.getElementById(Y)||Be.querySelector(`[name="${Y}"]`);if(lt)return lt}me=Q.nextNode()}}return null}(this.document,Y);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Y)}}scrollToElement(Y){const L=Y.getBoundingClientRect(),Q=L.left+this.window.pageXOffset,me=L.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(Q-Be[0],me-Be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=Cr(this.window.history)||Cr(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch(Y){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Y){return!1}}}function Cr(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Hn{}},5e3:(Nt,He,G)=>{G.d(He,{$8M:()=>Al,$Z:()=>Ns,AFp:()=>ND,ALo:()=>ig,AaK:()=>Ie,CHM:()=>Bt,CRH:()=>Nd,CZH:()=>db,CqO:()=>ql,DdM:()=>a_,EJc:()=>I1,EpF:()=>mm,F$t:()=>Mc,F4k:()=>e0,FYo:()=>e_,FiY:()=>is,G48:()=>q1,Gf:()=>Vs,GfV:()=>K0,Gpc:()=>he,Hsn:()=>ff,Ikx:()=>Ma,JOm:()=>tt,LFG:()=>Xt,LSH:()=>Gd,Lbi:()=>xD,MAs:()=>nf,MGl:()=>pf,NdJ:()=>Ku,O4$:()=>La,OlP:()=>vi,Oqu:()=>Tm,PXZ:()=>U1,Q6J:()=>Op,QGY:()=>zl,Qsj:()=>sv,QtT:()=>tg,R0b:()=>Yu,RDi:()=>Cr,Rgc:()=>Rf,SBq:()=>Sf,SDv:()=>Cf,Sil:()=>A1,Suo:()=>Yi,TTD:()=>Xi,TgZ:()=>cf,Tol:()=>Em,Udp:()=>Dm,VKq:()=>l_,VLi:()=>L1,W1O:()=>dD,WLB:()=>u_,X6Q:()=>z1,XFs:()=>xt,Xpm:()=>an,Y36:()=>Mp,YKP:()=>cv,YNc:()=>Sp,Yjl:()=>lr,Yz7:()=>pn,ZZ4:()=>Cb,_Bn:()=>tv,_UZ:()=>pm,_Vd:()=>Ch,_c5:()=>uw,_uU:()=>Dy,aQg:()=>Tb,c2e:()=>PD,cJS:()=>Pn,cg1:()=>Pm,dDg:()=>LD,deG:()=>wa,dqk:()=>Sn,eFA:()=>UD,ekj:()=>wm,g9A:()=>OD,h0i:()=>Ih,hGG:()=>cw,hij:()=>Gp,iGM:()=>Bc,ifc:()=>tn,ip1:()=>AD,kEZ:()=>c_,kL8:()=>Sd,lG2:()=>hn,n5z:()=>ru,oAB:()=>Re,oxw:()=>hf,pQV:()=>Tf,q4F:()=>Y0,qLn:()=>us,qOj:()=>Ep,qZA:()=>xp,s9C:()=>Td,sBO:()=>Z1,sIi:()=>bd,s_b:()=>l,soG:()=>fb,tBr:()=>uo,tb:()=>RD,tp0:()=>Ha,uIk:()=>ef,vHH:()=>ot,vpe:()=>Jl,wAp:()=>dn,xi3:()=>f_,xp6:()=>oi,z2F:()=>yb,zSh:()=>Xh,zs3:()=>yl});var u=G(7579),I=G(727),z=G(8306),Ce=G(6451),ye=G(3099);function Ae(n){for(let r in n)if(n[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function xe(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Pe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=Ae({__forward_ref__:Ae});function he(n){return n.__forward_ref__=he,n.toString=function(){return Ie(this())},n}function De(n){return Ue(n)?n():n}function Ue(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===he}class ot extends Error{constructor(r,o){super(function ft(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function je(n){return"string"==typeof n?n:null==n?"":String(n)}function et(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():je(n)}function Ye(n,r){const o=r?` in ${r}`:"";throw new ot(-201,`No provider for ${et(n)} found${o}`)}function en(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}function pn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pn(n){return{providers:n.providers||[],imports:n.imports||[]}}function un(n){return Ur(n,li)||Ur(n,qn)}function Ur(n,r){return n.hasOwnProperty(r)?n[r]:null}function dr(n){return n&&(n.hasOwnProperty(Nr)||n.hasOwnProperty(Mi))?n[Nr]:null}const li=Ae({\u0275prov:Ae}),Nr=Ae({\u0275inj:Ae}),qn=Ae({ngInjectableDef:Ae}),Mi=Ae({ngInjectorDef:Ae});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let ri;function Et(n){const r=ri;return ri=n,r}function _r(n,r,o){const a=un(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&xt.Optional?null:void 0!==r?r:void Ye(Ie(n),"Injector")}function nr(n){return{toString:n}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),tn=(()=>{return(n=tn||(tn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",tn;var n})();const Ot="undefined"!=typeof globalThis&&globalThis,Ht="undefined"!=typeof window&&window,ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sn=Ot||"undefined"!=typeof global&&global||Ht||ar,ii={},Qt=[],ui=Ae({\u0275cmp:Ae}),En=Ae({\u0275dir:Ae}),Rt=Ae({\u0275pipe:Ae}),dt=Ae({\u0275mod:Ae}),Lt=Ae({\u0275fac:Ae}),Zt=Ae({__NG_ELEMENT_ID__:Ae});let Kt=0;function an(n){return nr(()=>{const o={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||tn.Emulated,id:"c",styles:n.styles||Qt,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.directives,g=n.features,D=n.pipes;return a.id+=Kt++,a.inputs=zt(n.inputs,o),a.outputs=zt(n.outputs),g&&g.forEach(T=>T(a)),a.directiveDefs=d?()=>("function"==typeof d?d():d).map(te):null,a.pipeDefs=D?()=>("function"==typeof D?D():D).map(Ee):null,a})}function te(n){return gn(n)||function Vn(n){return n[En]||null}(n)}function Ee(n){return function ln(n){return n[Rt]||null}(n)}const $e={};function Re(n){return nr(()=>{const r={type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&($e[n.id]=n.type),r})}function zt(n,r){if(null==n)return ii;const o={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),o[d]=a,r&&(r[d]=g)}return o}const hn=an;function lr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function gn(n){return n[ui]||null}function On(n,r){const o=n[dt]||null;if(!o&&!0===r)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return o}const X=19;function sn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Bn(n){return Array.isArray(n)&&!0===n[1]}function Gr(n){return 0!=(8&n.flags)}function Gi(n){return 2==(2&n.flags)}function Xo(n){return 1==(1&n.flags)}function hi(n){return null!==n.template}function mo(n){return 0!=(512&n[2])}function Fr(n,r){return n.hasOwnProperty(Lt)?n[Lt]:null}class Ds{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Xi(){return xs}function xs(n){return n.type.prototype.ngOnChanges&&(n.setInput=to),ra}function ra(){const n=ws(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===ii)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function to(n,r,o,a){const d=ws(n)||function Hr(n,r){return n[es]=r}(n,{previous:ii,current:null}),g=d.current||(d.current={}),D=d.previous,T=this.declaredInputs[o],M=D[T];g[T]=new Ds(M&&M.currentValue,r,D===ii),n[a]=r}Xi.ngInherit=!0;const es="__ngSimpleChanges__";function ws(n){return n[es]||null}let js;function Cr(n){js=n}function Es(){return void 0!==js?js:"undefined"!=typeof document?document:void 0}function Hn(n){return!!n.listen}const F={createRenderer:(n,r)=>Es()};function L(n){for(;Array.isArray(n);)n=n[0];return n}function Be(n,r){return L(r[n])}function lt(n,r){return L(r[n.index])}function kn(n,r){return n.data[r]}function Tn(n,r){return n[r]}function yn(n,r){const o=r[n];return sn(o)?o:o[0]}function An(n){return 4==(4&n[2])}function xr(n){return 128==(128&n[2])}function br(n,r){return null==r?null:n[r]}function Cs(n){n[18]=0}function Li(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const Yt={lFrame:Lo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function U(){return Yt.bindingsEnabled}function $(){return Yt.lFrame.lView}function Le(){return Yt.lFrame.tView}function Bt(n){return Yt.lFrame.contextLView=n,n[8]}function vn(){let n=ki();for(;null!==n&&64===n.type;)n=n.parent;return n}function ki(){return Yt.lFrame.currentTNode}function $i(){const n=Yt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function _i(n,r){const o=Yt.lFrame;o.currentTNode=n,o.isParent=r}function yo(){return Yt.lFrame.isParent}function vo(){Yt.lFrame.isParent=!1}function Ra(){return Yt.isInCheckNoChangesMode}function Hs(n){Yt.isInCheckNoChangesMode=n}function Ai(){const n=Yt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function bo(){return Yt.lFrame.bindingIndex++}function Wi(n){const r=Yt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Pa(n){Yt.lFrame.inI18n=n}function Wr(n,r){const o=Yt.lFrame;o.bindingIndex=o.bindingRootIndex=n,va(r)}function va(n){Yt.lFrame.currentDirectiveIndex=n}function Ya(){return Yt.lFrame.currentQueryIndex}function El(n){Yt.lFrame.currentQueryIndex=n}function Ja(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ko(n,r,o){if(o&xt.SkipSelf){let d=r,g=n;for(;!(d=d.parent,null!==d||o&xt.Host||(d=Ja(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;r=d,n=g}const a=Yt.lFrame=ia();return a.currentTNode=r,a.lView=n,!0}function Fo(n){const r=ia(),o=n[1];Yt.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function ia(){const n=Yt.lFrame,r=null===n?null:n.child;return null===r?Lo(n):r}function Lo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function $s(){const n=Yt.lFrame;return Yt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qa=$s;function Vo(){const n=$s();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zi(){return Yt.lFrame.selectedIndex}function Bo(n){Yt.lFrame.selectedIndex=n}function Jr(){const n=Yt.lFrame;return kn(n.tView,n.selectedIndex)}function La(){Yt.lFrame.currentNamespace="svg"}function Ts(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const g=n.data[o].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:M,ngAfterViewChecked:W,ngOnDestroy:K}=g;D&&(n.contentHooks||(n.contentHooks=[])).push(-o,D),T&&((n.contentHooks||(n.contentHooks=[])).push(o,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,T)),M&&(n.viewHooks||(n.viewHooks=[])).push(-o,M),W&&((n.viewHooks||(n.viewHooks=[])).push(o,W),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,W)),null!=K&&(n.destroyHooks||(n.destroyHooks=[])).push(o,K)}}function Uo(n,r,o){Cl(n,r,3,o)}function Ws(n,r,o,a){(3&n[2])===o&&Cl(n,r,o,a)}function yi(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function Cl(n,r,o,a){const g=null!=a?a:-1,D=r.length-1;let T=0;for(let M=void 0!==a?65535&n[18]:0;M<D;M++)if("number"==typeof r[M+1]){if(T=r[M],null!=a&&T>=a)break}else r[M]<0&&(n[18]+=65536),(T<g||-1==g)&&(Va(n,o,r,M),n[18]=(4294901760&n[18])+M+2),M++}function Va(n,r,o,a){const d=o[a]<0,g=o[a+1],T=n[d?-o[a]:o[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class jo{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function tl(n,r,o){const a=Hn(n);let d=0;for(;d<o.length;){const g=o[d];if("number"==typeof g){if(0!==g)break;d++;const D=o[d++],T=o[d++],M=o[d++];a?n.setAttribute(r,T,M,D):r.setAttributeNS(D,T,M)}else{const D=g,T=o[++d];tu(D)?a&&n.setProperty(r,D,T):a?n.setAttribute(r,D,T):r.setAttribute(D,T),d++}}return d}function Is(n){return 3===n||4===n||6===n}function tu(n){return 64===n.charCodeAt(0)}function ba(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?o=d:0===o||Ho(n,o,d,null,-1===o||2===o?r[++a]:null)}}return n}function Ho(n,r,o,a,d){let g=0,D=n.length;if(-1===r)D=-1;else for(;g<n.length;){const T=n[g++];if("number"==typeof T){if(T===r){D=-1;break}if(T>r){D=g-1;break}}}for(;g<n.length;){const T=n[g];if("number"==typeof T)break;if(T===o){if(null===a)return void(null!==d&&(n[g+1]=d));if(a===n[g+1])return void(n[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==D&&(n.splice(D,0,r),g=D+1),n.splice(g++,0,o),null!==a&&n.splice(g++,0,a),null!==d&&n.splice(g++,0,d)}function Ou(n){return-1!==n}function pr(n){return 32767&n}function no(n,r){let o=function Il(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let $o=!0;function Vi(n){const r=$o;return $o=n,r}let C=0;function k(n,r){const o=Z(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,P(a.data,n),P(r,null),P(a.blueprint,null));const d=se(n,r),g=n.injectorIndex;if(Ou(d)){const D=pr(d),T=no(d,r),M=T[1].data;for(let W=0;W<8;W++)r[g+W]=T[D+W]|M[D+W]}return r[g+8]=d,g}function P(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Z(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function se(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,d=r;for(;null!==d;){const g=d[1],D=g.type;if(a=2===D?g.declTNode:1===D?d[6]:null,null===a)return-1;if(o++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function ge(n,r,o){!function w(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Zt)&&(a=o[Zt]),null==a&&(a=o[Zt]=C++);const d=255&a;r.data[n+(d>>5)]|=1<<d}(n,r,o)}function ut(n,r,o){if(o&xt.Optional)return n;Ye(r,"NodeInjector")}function Rn(n,r,o,a){if(o&xt.Optional&&void 0===a&&(a=null),0==(o&(xt.Self|xt.Host))){const d=n[9],g=Et(void 0);try{return d?d.get(r,a,o&xt.Optional):_r(r,a,o&xt.Optional)}finally{Et(g)}}return ut(a,r,o)}function nt(n,r,o,a=xt.Default,d){if(null!==n){const g=function Da(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Zt)?n[Zt]:void 0;return"number"==typeof r?r>=0?255&r:We:r}(o);if("function"==typeof g){if(!ko(r,n,a))return a&xt.Host?ut(d,o,a):Rn(r,o,a,d);try{const D=g(a);if(null!=D||a&xt.Optional)return D;Ye(o)}finally{Qa()}}else if("number"==typeof g){let D=null,T=Z(n,r),M=-1,W=a&xt.Host?r[16][6]:null;for((-1===T||a&xt.SkipSelf)&&(M=-1===T?se(n,r):r[T+8],-1!==M&&nu(a,!1)?(D=r[1],T=pr(M),r=no(M,r)):T=-1);-1!==T;){const K=r[1];if(Wo(g,T,K.data)){const ne=Rr(T,r,o,D,a,W);if(ne!==ke)return ne}M=r[T+8],-1!==M&&nu(a,r[1].data[T+8]===W)&&Wo(g,T,r)?(D=K,T=pr(M),r=no(M,r)):T=-1}}}return Rn(r,o,a,d)}const ke={};function We(){return new io(vn(),$())}function Rr(n,r,o,a,d,g){const D=r[1],T=D.data[n+8],K=ro(T,D,o,null==a?Gi(T)&&$o:a!=D&&0!=(3&T.type),d&xt.Host&&g===T);return null!==K?Ss(r,D,K,T):ke}function ro(n,r,o,a,d){const g=n.providerIndexes,D=r.data,T=1048575&g,M=n.directiveStart,K=g>>20,we=d?T+K:n.directiveEnd;for(let Ve=a?T:T+K;Ve<we;Ve++){const ct=D[Ve];if(Ve<M&&o===ct||Ve>=M&&ct.type===o)return Ve}if(d){const Ve=D[M];if(Ve&&hi(Ve)&&Ve.type===o)return M}return null}function Ss(n,r,o,a){let d=n[o];const g=r.data;if(function Do(n){return n instanceof jo}(d)){const D=d;D.resolving&&function Tt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ot(-200,`Circular dependency in DI detected for ${n}${o}`)}(et(g[o]));const T=Vi(D.canSeeViewProviders);D.resolving=!0;const M=D.injectImpl?Et(D.injectImpl):null;ko(n,a,xt.Default);try{d=n[o]=D.factory(void 0,g,n,a),r.firstCreatePass&&o>=a.directiveStart&&function oa(n,r,o){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(a){const D=xs(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,D),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,D)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,d),g&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,g))}(o,g[o],r)}finally{null!==M&&Et(M),Vi(T),D.resolving=!1,Qa()}}return d}function Wo(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function nu(n,r){return!(n&xt.Self||n&xt.Host&&r)}class io{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return nt(this._tNode,this._lView,r,a,o)}}function ru(n){return nr(()=>{const r=n.prototype.constructor,o=r[Lt]||Ba(r),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const g=d[Lt]||Ba(d);if(g&&g!==o)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ba(n){return Ue(n)?()=>{const r=Ba(De(n));return r&&r()}:Fr(n)}function Al(n){return function Me(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let d=0;for(;d<a;){const g=o[d];if(Is(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof o[d];)d++;else{if(g===r)return o[d+1];d+=2}}}return null}(vn(),n)}const Ua="__parameters__";function nl(n,r,o){return nr(()=>{const a=function la(n){return function(...o){if(n){const a=n(...o);for(const d in a)this[d]=a[d]}}}(r);function d(...g){if(this instanceof d)return a.apply(this,g),this;const D=new d(...g);return T.annotation=D,T;function T(M,W,K){const ne=M.hasOwnProperty(Ua)?M[Ua]:Object.defineProperty(M,Ua,{value:[]})[Ua];for(;ne.length<=K;)ne.push(null);return(ne[K]=ne[K]||[]).push(D),M}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class vi{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=pn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wa=new vi("AnalyzeForEntryComponents");function ps(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),ps(a,r)):r!==n&&r.push(a)}return r}function rs(n,r){n.forEach(o=>Array.isArray(o)?rs(o,r):r(o))}function Xu(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function bi(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function gs(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function Ni(n,r,o){let a=oo(n,r);return a>=0?n[1|a]=o:(a=~a,function Ct(n,r,o,a){let d=n.length;if(d==r)n.push(o,a);else if(1===d)n.push(a,n[0]),n[0]=o;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function sl(n,r){const o=oo(n,r);if(o>=0)return n[1|o]}function oo(n,r){return function Eo(n,r,o){let a=0,d=n.length>>o;for(;d!==a;){const g=a+(d-a>>1),D=n[g<<o];if(r===D)return g<<o;D>r?d=g:a=g+1}return~(d<<o)}(n,r,1)}const ja={},Pl="__NG_DI_FLAG__",Zi="ngTempTokenPath",V=/\n/gm,ae="__source",Fe=Ae({provide:String,useValue:Ae});let ze;function yt(n){const r=ze;return ze=n,r}function $t(n,r=xt.Default){if(void 0===ze)throw new ot(203,"");return null===ze?_r(n,void 0,r):ze.get(n,r&xt.Optional?null:void 0,r)}function Xt(n,r=xt.Default){return(function tr(){return ri}()||$t)(De(n),r)}const ir=Xt;function In(n){const r=[];for(let o=0;o<n.length;o++){const a=De(n[o]);if(Array.isArray(a)){if(0===a.length)throw new ot(900,"");let d,g=xt.Default;for(let D=0;D<a.length;D++){const T=a[D],M=ei(T);"number"==typeof M?-1===M?d=T.token:g|=M:d=T}r.push(Xt(d,g))}else r.push(Xt(a))}return r}function Wn(n,r){return n[Pl]=r,n.prototype[Pl]=r,n}function ei(n){return n[Pl]}const uo=Wn(nl("Inject",n=>({token:n})),-1),is=Wn(nl("Optional"),8),Ha=Wn(nl("SkipSelf"),4);let Ll;function al(n){var r;return(null===(r=function uu(){if(void 0===Ll&&(Ll=null,Sn.trustedTypes))try{Ll=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ll}())||void 0===r?void 0:r.createHTML(n))||n}class Fd{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $a(n){return n instanceof Fd?n.changingThisBreaksApplicationSecurity:n}class kh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(al(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Fh{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=al(r),o;const a=this.inertDocument.createElement("body");return a.innerHTML=al(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const o=r.attributes;for(let d=o.length-1;0<d;d--){const D=o.item(d).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&r.removeAttribute(D)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const hu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ua(n){return(n=String(n)).match(hu)||n.match(Nn)?n:"unsafe:"+n}function fu(n){return(n=String(n)).split(",").map(r=>ua(r.trim())).join(", ")}function co(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function Vl(...n){const r={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const Vd=co("area,br,col,hr,img,wbr"),Bl=co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bd=co("rp,rt"),sc=Vl(Vd,Vl(Bl,co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vl(Bd,co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vl(Bd,Bl)),oc=co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ul=co("srcset"),Br=Vl(oc,Ul,co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Di=(()=>((Di=Di||{})[Di.NONE=0]="NONE",Di[Di.HTML=1]="HTML",Di[Di.STYLE=2]="STYLE",Di[Di.SCRIPT=3]="SCRIPT",Di[Di.URL=4]="URL",Di[Di.RESOURCE_URL=5]="RESOURCE_URL",Di))();function Gd(n){const r=function Ia(){const n=$();return n&&n[12]}();return r?r.sanitize(Di.URL,n)||"":function rc(n,r){const o=function Ld(n){return n instanceof Fd&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?$a(n):ua(je(n))}const Lu="__ngContext__";function as(n,r){n[Lu]=r}function jl(n){const r=function fl(n){return n[Lu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function cc(n){return n.ngOriginalError}function Qc(n,...r){n.error(...r)}class us{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),a=function _u(n){return n&&n.ngErrorLogger||Qc}(r);a(this._console,"ERROR",r),o&&a(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&cc(r);for(;o&&cc(o);)o=cc(o);return o||null}}const Xc=/^>|^->|<!--|-->|--!>|<!-$/g,Js=/(<|>)/;const rd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Sn))();function m(n){return n instanceof Function?n():n}var tt=(()=>((tt=tt||{})[tt.Important=1]="Important",tt[tt.DashCase=2]="DashCase",tt))();let St;function Pt(n,r){return St(n,r)}function wi(n){const r=n[3];return Bn(r)?r[3]:r}function id(n){return zd(n[13])}function pc(n){return zd(n[4])}function zd(n){for(;null!==n&&!Bn(n);)n=n[4];return n}function Gl(n,r,o,a,d){if(null!=a){let g,D=!1;Bn(a)?g=a:sn(a)&&(D=!0,a=a[0]);const T=L(a);0===n&&null!==o?null==d?yu(r,o,T):Sa(r,o,T,d||null,!0):1===n&&null!==o?Sa(r,o,T,d||null,!0):2===n?eh(r,T,D):3===n&&r.destroyNode(T),null!=g&&function ug(n,r,o,a,d){const g=o[7];g!==L(o)&&Gl(r,n,a,g,d);for(let T=10;T<o.length;T++){const M=o[T];ml(M[1],M,n,r,a,g)}}(r,n,g,o,d)}}function sd(n,r){return Hn(n)?n.createText(r):n.createTextNode(r)}function gc(n,r,o){Hn(n)?n.setValue(r,o):r.textContent=o}function qd(n,r){return n.createComment(function ed(n){return n.replace(Xc,r=>r.replace(Js,"\u200b$1\u200b"))}(r))}function od(n,r,o){if(Hn(n))return n.createElement(r,o);{const a=null!==o?function $r(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Wf(n,r){const o=n[9],a=o.indexOf(r),d=r[3];1024&r[2]&&(r[2]&=-1025,Li(d,-1)),o.splice(a,1)}function zf(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const d=a[17];null!==d&&d!==n&&Wf(d,a),r>0&&(n[o-1][4]=a[4]);const g=bi(n,10+r);!function Zd(n,r){ml(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const D=g[X];null!==D&&D.detachView(g[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Uh(n,r){if(!(256&r[2])){const o=r[11];Hn(o)&&o.destroyNode&&ml(n,r,o,3,null,null),function $f(n){let r=n[13];if(!r)return jh(n[1],n);for(;r;){let o=null;if(sn(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)sn(r)&&jh(r[1],r),r=r[3];null===r&&(r=n),sn(r)&&jh(r[1],r),o=r&&r[4]}r=o}}(r)}}function jh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Yd(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const d=r[o[a]];if(!(d instanceof jo)){const g=o[a+1];if(Array.isArray(g))for(let D=0;D<g.length;D+=2){const T=d[g[D]],M=g[D+1];try{M.call(T)}finally{}}else try{g.call(d)}finally{}}}}(n,r),function st(n,r){const o=n.cleanup,a=r[7];let d=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const D=o[g+1],T="function"==typeof D?D(r):L(r[D]),M=a[d=o[g+2]],W=o[g+3];"boolean"==typeof W?T.removeEventListener(o[g],M,W):W>=0?a[d=W]():a[d=-W].unsubscribe(),g+=2}else{const D=a[d=o[g+1]];o[g].call(D)}if(null!==a){for(let g=d+1;g<a.length;g++)a[g]();r[7]=null}}(n,r),1===r[1].type&&Hn(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Bn(r[3])){o!==r[3]&&Wf(o,r);const a=r[X];null!==a&&a.detachView(n)}}}function za(n,r,o){return ag(n,r.parent,o)}function ag(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===tn.None||d===tn.Emulated)return null}return lt(a,o)}function Sa(n,r,o,a,d){Hn(n)?n.insertBefore(r,o,a,d):r.insertBefore(o,a,d)}function yu(n,r,o){Hn(n)?n.appendChild(r,o):r.appendChild(o)}function qf(n,r,o,a,d){null!==a?Sa(n,r,o,a,d):yu(n,r,o)}function ad(n,r){return Hn(n)?n.parentNode(r):r.parentNode}function Jd(n,r,o){return Hh(n,r,o)}function Fs(n,r,o){return 40&n.type?lt(n,o):null}let Qd,Hh=Fs;function $h(n,r){Hh=n,Qd=r}function Aa(n,r,o,a){const d=za(n,a,r),g=r[11],T=Jd(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(o))for(let M=0;M<o.length;M++)qf(g,d,o[M],T,!1);else qf(g,d,o,T,!1);void 0!==Qd&&Qd(g,a,r,o,d)}function Xd(n,r){if(null!==r){const o=r.type;if(3&o)return lt(r,n);if(4&o)return Wh(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return Xd(n,a);{const d=n[r.index];return Bn(d)?Wh(-1,d):L(d)}}if(32&o)return Pt(r,n)()||L(n[r.index]);{const a=lg(n,r);return null!==a?Array.isArray(a)?a[0]:Xd(wi(n[16]),a):Xd(n,r.next)}}return null}function lg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Wh(n,r){const o=10+n+1;if(o<r.length){const a=r[o],d=a[1].firstChild;if(null!==d)return Xd(a,d)}return r[7]}function eh(n,r,o){const a=ad(n,r);a&&function Uu(n,r,o,a){Hn(n)?n.removeChild(r,o,a):r.removeChild(o)}(n,a,r,o)}function Hl(n,r,o,a,d,g,D){for(;null!=o;){const T=a[o.index],M=o.type;if(D&&0===r&&(T&&as(L(T),a),o.flags|=4),64!=(64&o.flags))if(8&M)Hl(n,r,o.child,a,d,g,!1),Gl(r,n,d,T,g);else if(32&M){const W=Pt(o,a);let K;for(;K=W();)Gl(r,n,d,K,g);Gl(r,n,d,T,g)}else 16&M?ud(n,r,a,o,d,g):Gl(r,n,d,T,g);o=D?o.projectionNext:o.next}}function ml(n,r,o,a,d,g){Hl(o,a,n.firstChild,r,d,g,!1)}function ud(n,r,o,a,d,g){const D=o[16],M=D[6].projection[a.projection];if(Array.isArray(M))for(let W=0;W<M.length;W++)Gl(r,n,d,M[W],g);else Hl(n,r,M,D[3],d,g,!0)}function nh(n,r,o){Hn(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function rh(n,r,o){Hn(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function h(n,r,o){let a=n.length;for(;;){const d=n.indexOf(r,o);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=r.length;if(d+g===a||n.charCodeAt(d+g)<=32)return d}o=d+1}}const c="ng-template";function y(n,r,o){let a=0;for(;a<n.length;){let d=n[a++];if(o&&"class"===d){if(d=n[a],-1!==h(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function S(n){return 4===n.type&&n.value!==c}function B(n,r,o){return r===(4!==n.type||o?n.value:c)}function re(n,r,o){let a=4;const d=n.attrs||[],g=function Jt(n){for(let r=0;r<n.length;r++)if(Is(n[r]))return r;return n.length}(d);let D=!1;for(let T=0;T<r.length;T++){const M=r[T];if("number"!=typeof M){if(!D)if(4&a){if(a=2|1&a,""!==M&&!B(n,M,o)||""===M&&1===r.length){if(Se(a))return!1;D=!0}}else{const W=8&a?M:r[++T];if(8&a&&null!==n.attrs){if(!y(n.attrs,W,o)){if(Se(a))return!1;D=!0}continue}const ne=Ne(8&a?"class":M,d,S(n),o);if(-1===ne){if(Se(a))return!1;D=!0;continue}if(""!==W){let we;we=ne>g?"":d[ne+1].toLowerCase();const Ve=8&a?we:null;if(Ve&&-1!==h(Ve,W,0)||2&a&&W!==we){if(Se(a))return!1;D=!0}}}}else{if(!D&&!Se(a)&&!Se(M))return!1;if(D&&Se(M))continue;D=!1,a=M|1&a}}return Se(a)||D}function Se(n){return 0==(1&n)}function Ne(n,r,o,a){if(null===r)return-1;let d=0;if(a||!o){let g=!1;for(;d<r.length;){const D=r[d];if(D===n)return d;if(3===D||6===D)g=!0;else{if(1===D||2===D){let T=r[++d];for(;"string"==typeof T;)T=r[++d];continue}if(4===D)break;if(0===D){d+=4;continue}}d+=g?1:2}return-1}return function kt(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function rt(n,r,o=!1){for(let a=0;a<r.length;a++)if(re(n,r[a],o))return!0;return!1}function Vt(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function zn(n,r){return n?":not("+r.trim()+")":r}function fn(n){let r=n[0],o=1,a=2,d="",g=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&a){const T=n[++o];d+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?d+="."+D:4&a&&(d+=" "+D);else""!==d&&!Se(D)&&(r+=zn(g,d),d=""),a=D,g=g||!Se(a);o++}return""!==d&&(r+=zn(g,d)),r}const At={};function oi(n){mr(Le(),$(),zi()+n,Ra())}function mr(n,r,o,a){if(!a)if(3==(3&r[2])){const g=n.preOrderCheckHooks;null!==g&&Uo(r,g,o)}else{const g=n.preOrderHooks;null!==g&&Ws(r,g,0,o)}Bo(o)}function er(n,r){return n<<17|r<<2}function Un(n){return n>>17&32767}function ms(n){return 2|n}function Ir(n){return(131068&n)>>2}function So(n,r){return-131069&n|r<<2}function Zo(n){return 1|n}function np(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a],g=o[a+1];if(-1!==g){const D=n.data[g];El(d),D.contentQueries(2,r[g],g)}}}function uh(n,r,o,a,d,g,D,T,M,W){const K=r.blueprint.slice();return K[0]=d,K[2]=140|a,Cs(K),K[3]=K[15]=n,K[8]=o,K[10]=D||n&&n[10],K[11]=T||n&&n[11],K[12]=M||n&&n[12]||null,K[9]=W||n&&n[9]||null,K[6]=g,K[16]=2==r.type?n[16]:K,K}function md(n,r,o,a,d){let g=n.data[r];if(null===g)g=gg(n,r,o,a,d),function ya(){return Yt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=o,g.value=a,g.attrs=d;const D=$i();g.injectorIndex=null===D?-1:D.injectorIndex}return _i(g,!0),g}function gg(n,r,o,a,d){const g=ki(),D=yo(),M=n.data[r]=function E_(n,r,o,a,d,g){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?g:g&&g.parent,o,r,a,d);return null===n.firstChild&&(n.firstChild=M),null!==g&&(D?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M)),M}function yc(n,r,o,a){if(0===o)return-1;const d=r.length;for(let g=0;g<o;g++)r.push(a),n.blueprint.push(a),n.data.push(null);return d}function zh(n,r,o){Fo(r);try{const a=n.viewQuery;null!==a&&Dc(1,a,o);const d=n.template;null!==d&&b_(n,r,d,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&np(n,r),n.staticViewQueries&&Dc(2,n.viewQuery,o);const g=n.components;null!==g&&function v_(n,r){for(let o=0;o<r.length;o++)R_(n,r[o])}(r,g)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Vo()}}function vc(n,r,o,a){const d=r[2];if(256==(256&d))return;Fo(r);const g=Ra();try{Cs(r),function _a(n){return Yt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&b_(n,r,o,2,a);const D=3==(3&d);if(!g)if(D){const W=n.preOrderCheckHooks;null!==W&&Uo(r,W,null)}else{const W=n.preOrderHooks;null!==W&&Ws(r,W,0,null),yi(r,0)}if(function wg(n){for(let r=id(n);null!==r;r=pc(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const d=o[a],g=d[3];0==(1024&d[2])&&Li(g,1),d[2]|=1024}}}(r),function x_(n){for(let r=id(n);null!==r;r=pc(r))for(let o=10;o<r.length;o++){const a=r[o],d=a[1];xr(a)&&vc(d,a,d.template,a[8])}}(r),null!==n.contentQueries&&np(n,r),!g)if(D){const W=n.contentCheckHooks;null!==W&&Uo(r,W)}else{const W=n.contentHooks;null!==W&&Ws(r,W,1),yi(r,1)}!function lh(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const d=o[a];if(d<0)Bo(~d);else{const g=d,D=o[++a],T=o[++a];Wr(D,g),T(2,r[g])}}}finally{Bo(-1)}}(n,r);const T=n.components;null!==T&&function rp(n,r){for(let o=0;o<r.length;o++)Eg(n,r[o])}(r,T);const M=n.viewQuery;if(null!==M&&Dc(2,M,a),!g)if(D){const W=n.viewCheckHooks;null!==W&&Uo(r,W)}else{const W=n.viewHooks;null!==W&&Ws(r,W,2),yi(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),g||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Li(r[3],-1))}finally{Vo()}}function Iv(n,r,o,a){const d=r[10],g=!Ra(),D=An(r);try{g&&!D&&d.begin&&d.begin(),D&&zh(n,r,a),vc(n,r,o,a)}finally{g&&!D&&d.end&&d.end()}}function b_(n,r,o,a,d){const g=zi(),D=2&a;try{Bo(-1),D&&r.length>20&&mr(n,r,20,Ra()),o(a,d)}finally{Bo(g)}}function Ls(n,r,o){!U()||(function up(n,r,o,a){const d=o.directiveStart,g=o.directiveEnd;n.firstCreatePass||k(o,r),as(a,r);const D=o.initialInputs;for(let T=d;T<g;T++){const M=n.data[T],W=hi(M);W&&Kh(r,o,M);const K=Ss(r,n,T,o);as(K,r),null!==D&&Dg(0,T-d,K,M,0,D),W&&(yn(o.index,r)[8]=K)}}(n,r,o,lt(o,r)),128==(128&o.flags)&&function Zh(n,r,o){const a=o.directiveStart,d=o.directiveEnd,D=o.index,T=function ka(){return Yt.lFrame.currentDirectiveIndex}();try{Bo(D);for(let M=a;M<d;M++){const W=n.data[M],K=r[M];va(M),(null!==W.hostBindings||0!==W.hostVars||null!==W.hostAttrs)&&cp(W,K)}}finally{Bo(-1),va(T)}}(n,r,o))}function mg(n,r,o=lt){const a=r.localNames;if(null!==a){let d=r.index+1;for(let g=0;g<a.length;g+=2){const D=a[g+1],T=-1===D?o(r,n):n[D];n[d++]=T}}}function D_(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=sp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function sp(n,r,o,a,d,g,D,T,M,W){const K=20+a,ne=K+d,we=function Sv(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:At);return o}(K,ne),Ve="function"==typeof W?W():W;return we[1]={type:n,blueprint:we,template:o,queries:null,viewQuery:T,declTNode:r,data:we.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:M,consts:Ve,incompleteFirstPass:!1}}function _g(n,r,o,a){const d=F_(r);null===o?d.push(a):(d.push(o),n.firstCreatePass&&Ag(n).push(a,d.length-1))}function ap(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,d):o[a]=[r,d]}return o}function Ko(n,r,o,a,d,g,D,T){const M=lt(r,o);let K,W=r.inputs;!T&&null!=W&&(K=W[a])?(pp(n,o,K,a,d),Gi(r)&&function yg(n,r){const o=yn(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(a=function qh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=D?D(d,r.value||"",a):d,Hn(g)?g.setProperty(M,a,d):tu(a)||(M.setProperty?M.setProperty(a,d):M[a]=d))}function bg(n,r,o,a){let d=!1;if(U()){const g=function A_(n,r,o){const a=n.directiveRegistry;let d=null;if(a)for(let g=0;g<a.length;g++){const D=a[g];rt(o,D.selectors,!1)&&(d||(d=[]),ge(k(o,r),n,D.type),hi(D)?(N_(n,o),d.unshift(D)):d.push(D))}return d}(n,r,o),D=null===a?null:{"":-1};if(null!==g){d=!0,M_(o,n.data.length,g.length);for(let K=0;K<g.length;K++){const ne=g[K];ne.providersResolver&&ne.providersResolver(ne)}let T=!1,M=!1,W=yc(n,r,g.length,null);for(let K=0;K<g.length;K++){const ne=g[K];o.mergedAttrs=ba(o.mergedAttrs,ne.hostAttrs),O_(n,o,r,W,ne),xv(W,ne,D),null!==ne.contentQueries&&(o.flags|=8),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(o.flags|=128);const we=ne.type.prototype;!T&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),T=!0),!M&&(we.ngOnChanges||we.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),M=!0),W++}!function lp(n,r){const a=r.directiveEnd,d=n.data,g=r.attrs,D=[];let T=null,M=null;for(let W=r.directiveStart;W<a;W++){const K=d[W],ne=K.inputs,we=null===g||S(r)?null:dp(ne,g);D.push(we),T=ap(ne,W,T),M=ap(K.outputs,W,M)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=D,r.inputs=T,r.outputs=M}(n,o)}D&&function Ov(n,r,o){if(r){const a=n.localNames=[];for(let d=0;d<r.length;d+=2){const g=o[r[d+1]];if(null==g)throw new ot(-301,!1);a.push(r[d],g)}}}(o,a,D)}return o.mergedAttrs=ba(o.mergedAttrs,o.attrs),d}function I_(n,r,o,a,d,g){const D=g.hostBindings;if(D){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const M=~r.index;(function S_(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(T)!=M&&T.push(M),T.push(a,d,D)}}function cp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function N_(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function xv(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;hi(r)&&(o[""]=n)}}function M_(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function O_(n,r,o,a,d){n.data[a]=d;const g=d.factory||(d.factory=Fr(d.type)),D=new jo(g,hi(d),null);n.blueprint[a]=D,o[a]=D,I_(n,r,0,a,yc(n,o,d.hostVars,At),d)}function Kh(n,r,o){const a=lt(r,n),d=D_(o),g=n[10],D=ch(n,uh(n,d,null,o.onPush?64:16,a,r,g,g.createRenderer(a,o),null,null));n[r.index]=D}function bc(n,r,o,a,d,g,D){if(null==g)Hn(n)?n.removeAttribute(r,d,o):r.removeAttribute(d);else{const T=null==D?je(g):D(g,a||"",d);Hn(n)?n.setAttribute(r,d,T,o):o?r.setAttributeNS(o,d,T):r.setAttribute(d,T)}}function Dg(n,r,o,a,d,g){const D=g[r];if(null!==D){const T=a.setInput;for(let M=0;M<D.length;){const W=D[M++],K=D[M++],ne=D[M++];null!==T?a.setInput(o,ne,W,K):o[K]=ne}}}function dp(n,r){let o=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,n[d],r[a+1])),a+=2}else a+=2;else a+=4}return o}function fp(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function Eg(n,r){const o=yn(r,n);if(xr(o)){const a=o[1];80&o[2]?vc(a,o,a.template,o[8]):o[5]>0&&wu(o)}}function wu(n){for(let a=id(n);null!==a;a=pc(a))for(let d=10;d<a.length;d++){const g=a[d];if(1024&g[2]){const D=g[1];vc(D,g,D.template,g[8])}else g[5]>0&&wu(g)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const d=yn(o[a],n);xr(d)&&d[5]>0&&wu(d)}}function R_(n,r){const o=yn(r,n),a=o[1];(function Rv(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),zh(a,o,o[8])}function ch(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Cg(n){for(;n;){n[2]|=64;const r=wi(n);if(mo(n)&&!r)return n;n=r}return null}function Yh(n,r,o){const a=r[10];a.begin&&a.begin();try{vc(n,r,n.template,o)}catch(d){throw L_(r,d),d}finally{a.end&&a.end()}}function Jh(n){!function Ig(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],a=jl(o),d=a[1];Iv(d,a,d.template,o)}}(n[8])}function Dc(n,r,o){El(0),r(n,o)}const Pv=(()=>Promise.resolve(null))();function F_(n){return n[7]||(n[7]=[])}function Ag(n){return n.cleanup||(n.cleanup=[])}function L_(n,r){const o=n[9],a=o?o.get(us,null):null;a&&a.handleError(r)}function pp(n,r,o,a,d){for(let g=0;g<o.length;){const D=o[g++],T=o[g++],M=r[D],W=n.data[D];null!==W.setInput?W.setInput(M,d,a,T):M[T]=d}}function dh(n,r,o){let a=o?n.styles:null,d=o?n.classes:null,g=0;if(null!==r)for(let D=0;D<r.length;D++){const T=r[D];"number"==typeof T?g=T:1==g?d=Pe(d,T):2==g&&(a=Pe(a,T+": "+r[++D]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=d:n.classesWithoutHost=d}const Qh=new vi("INJECTOR",-1);class Og{get(r,o=ja){if(o===ja){const a=new Error(`NullInjectorError: No provider for ${Ie(r)}!`);throw a.name="NullInjectorError",a}return o}}const Xh=new vi("Set Injector scope."),_d={},xg={};let wc;function qu(){return void 0===wc&&(wc=new Og),wc}function gp(n,r=null,o=null,a){const d=yd(n,r,o,a);return d._resolveInjectorDefTypes(),d}function yd(n,r=null,o=null,a){return new hh(n,o,r||qu(),a)}class hh{constructor(r,o,a,d=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];o&&rs(o,T=>this.processProvider(T,r,o)),rs([r],T=>this.processInjectorType(T,[],g)),this.records.set(Qh,Ec(void 0,this));const D=this.records.get(Xh);this.scope=null!=D?D.value:null,this.source=d||("object"==typeof r?null:Ie(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=ja,a=xt.Default){this.assertNotDestroyed();const d=yt(this),g=Et(void 0);try{if(!(a&xt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const M=function Vv(n){return"function"==typeof n||"object"==typeof n&&n instanceof vi}(r)&&un(r);T=M&&this.injectableDefInScope(M)?Ec(mp(r),_d):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&xt.Self?qu():this.parent).get(r,o=a&xt.Optional&&o===ja?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Zi]=D[Zi]||[]).unshift(Ie(r)),d)throw D;return function kl(n,r,o,a){const d=n[Zi];throw r[ae]&&d.unshift(r[ae]),n.message=function Ga(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let d=Ie(r);if(Array.isArray(r))d=r.map(Ie).join(" -> ");else if("object"==typeof r){let g=[];for(let D in r)if(r.hasOwnProperty(D)){let T=r[D];g.push(D+":"+("string"==typeof T?JSON.stringify(T):Ie(T)))}d=`{${g.join(", ")}}`}return`${o}${a?"("+a+")":""}[${d}]: ${n.replace(V,"\n  ")}`}("\n"+n.message,d,o,a),n.ngTokenPath=d,n[Zi]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{Et(g),yt(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,d)=>r.push(Ie(d))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processInjectorType(r,o,a){if(!(r=De(r)))return!1;let d=dr(r);const g=null==d&&r.ngModule||void 0,D=void 0===g?r:g,T=-1!==a.indexOf(D);if(void 0!==g&&(d=dr(g)),null==d)return!1;if(null!=d.imports&&!T){let K;a.push(D);try{rs(d.imports,ne=>{this.processInjectorType(ne,o,a)&&(void 0===K&&(K=[]),K.push(ne))})}finally{}if(void 0!==K)for(let ne=0;ne<K.length;ne++){const{ngModule:we,providers:Ve}=K[ne];rs(Ve,ct=>this.processProvider(ct,we,Ve||Qt))}}this.injectorDefTypes.add(D);const M=Fr(D)||(()=>new D);this.records.set(D,Ec(M,_d));const W=d.providers;if(null!=W&&!T){const K=r;rs(W,ne=>this.processProvider(ne,K,W))}return void 0!==g&&void 0!==r.providers}processProvider(r,o,a){let d=ph(r=De(r))?r:De(r&&r.provide);const g=function Fv(n,r,o){return _p(n)?Ec(void 0,n.useValue):Ec(V_(n),_d)}(r);if(ph(r)||!0!==r.multi)this.records.get(d);else{let D=this.records.get(d);D||(D=Ec(void 0,_d,!0),D.factory=()=>In(D.multi),this.records.set(d,D)),d=r,D.multi.push(r)}this.records.set(d,g)}hydrate(r,o){return o.value===_d&&(o.value=xg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Fg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=De(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function mp(n){const r=un(n),o=null!==r?r.factory:Fr(n);if(null!==o)return o;if(n instanceof vi)throw new ot(204,!1);if(n instanceof Function)return function fh(n){const r=n.length;if(r>0)throw gs(r,"?"),new ot(204,!1);const o=function ai(n){const r=n&&(n[li]||n[qn]);if(r){const o=function ji(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ot(204,!1)}function V_(n,r,o){let a;if(ph(n)){const d=De(n);return Fr(d)||mp(d)}if(_p(n))a=()=>De(n.useValue);else if(function Pg(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...In(n.deps||[]));else if(function Rg(n){return!(!n||!n.useExisting)}(n))a=()=>Xt(De(n.useExisting));else{const d=De(n&&(n.useClass||n.provide));if(!function kg(n){return!!n.deps}(n))return Fr(d)||mp(d);a=()=>new d(...In(n.deps))}return a}function Ec(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function _p(n){return null!==n&&"object"==typeof n&&Fe in n}function ph(n){return"function"==typeof n}let yl=(()=>{class n{static create(o,a){var d;if(Array.isArray(o))return gp({name:""},a,o,"");{const g=null!==(d=o.name)&&void 0!==d?d:"";return gp({name:g},o.parent,o.providers,g)}}}return n.THROW_IF_NOT_FOUND=ja,n.NULL=new Og,n.\u0275prov=pn({token:n,providedIn:"any",factory:()=>Xt(Qh)}),n.__NG_ELEMENT_ID__=-1,n})();function Wg(n,r){Ts(jl(n)[1],vn())}function Ep(n){let r=function vd(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let d;if(hi(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ot(903,"");d=r.\u0275dir}if(d){if(o){a.push(d);const D=n;D.inputs=qg(n.inputs),D.declaredInputs=qg(n.declaredInputs),D.outputs=qg(n.outputs);const T=d.hostBindings;T&&Kg(n,T);const M=d.viewQuery,W=d.contentQueries;if(M&&Zg(n,M),W&&Zu(n,W),xe(n.inputs,d.inputs),xe(n.declaredInputs,d.declaredInputs),xe(n.outputs,d.outputs),hi(d)&&d.data.animation){const K=n.data;K.animation=(K.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let D=0;D<g.length;D++){const T=g[D];T&&T.ngInherit&&T(n),T===Ep&&(o=!1)}}r=Object.getPrototypeOf(r)}!function zg(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=r+=d.hostVars,d.hostAttrs=ba(d.hostAttrs,o=ba(o,d.hostAttrs))}}(a)}function qg(n){return n===ii?{}:n===Qt?[]:n}function Zg(n,r){const o=n.viewQuery;n.viewQuery=o?(a,d)=>{r(a,d),o(a,d)}:r}function Zu(n,r){const o=n.contentQueries;n.contentQueries=o?(a,d,g)=>{r(a,d,g),o(a,d,g)}:r}function Kg(n,r){const o=n.hostBindings;n.hostBindings=o?(a,d)=>{r(a,d),o(a,d)}:r}let Cp=null;function Cc(){if(!Cp){const n=Sn.Symbol;if(n&&n.iterator)Cp=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Cp=a)}}}return Cp}function bd(n){return!!Qg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Cc()in n)}function Qg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function vl(n,r,o){return n[r]=o}function po(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Tc(n,r,o,a){const d=po(n,r,o);return po(n,r+1,a)||d}function ef(n,r,o,a){const d=$();return po(d,bo(),r)&&(Le(),function _l(n,r,o,a,d,g){const D=lt(n,r);bc(r[11],D,g,n.value,o,a,d)}(Jr(),d,n,r,o,a)),ef}function Ic(n,r,o,a){return po(n,bo(),o)?r+je(o)+a:At}function Sp(n,r,o,a,d,g,D,T){const M=$(),W=Le(),K=n+20,ne=W.firstCreatePass?function nm(n,r,o,a,d,g,D,T,M){const W=r.consts,K=md(r,n,4,D||null,br(W,T));bg(r,o,K,br(W,M)),Ts(r,K);const ne=K.tViews=sp(2,K,a,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,W);return null!==r.queries&&(r.queries.template(r,K),ne.queries=r.queries.embeddedTView(K)),K}(K,W,M,r,o,a,d,g,D):W.data[K];_i(ne,!1);const we=M[11].createComment("");Aa(W,M,we,ne),as(we,M),ch(M,M[K]=fp(we,M,we,ne)),Xo(ne)&&Ls(W,M,ne),null!=D&&mg(M,ne,T)}function nf(n){return Tn(function eu(){return Yt.lFrame.contextLView}(),20+n)}function Mp(n,r=xt.Default){const o=$();return null===o?Xt(n,r):nt(vn(),o,De(n),r)}function Ns(){throw new Error("invalid")}function Op(n,r,o){const a=$();return po(a,bo(),r)&&Ko(Le(),Jr(),a,n,r,a[11],o,!1),Op}function fm(n,r,o,a,d){const D=d?"class":"style";pp(n,o,r.inputs[D],D,a)}function cf(n,r,o,a){const d=$(),g=Le(),D=20+n,T=d[11],M=d[D]=od(T,r,function Mu(){return Yt.lFrame.currentNamespace}()),W=g.firstCreatePass?function Qv(n,r,o,a,d,g,D){const T=r.consts,W=md(r,n,2,d,br(T,g));return bg(r,o,W,br(T,D)),null!==W.attrs&&dh(W,W.attrs,!1),null!==W.mergedAttrs&&dh(W,W.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,W),W}(D,g,d,0,r,o,a):g.data[D];_i(W,!0);const K=W.mergedAttrs;null!==K&&tl(T,M,K);const ne=W.classes;null!==ne&&rh(T,M,ne);const we=W.styles;return null!==we&&nh(T,M,we),64!=(64&W.flags)&&Aa(g,d,M,W),0===function Ro(){return Yt.lFrame.elementDepthCount}()&&as(M,d),function Po(){Yt.lFrame.elementDepthCount++}(),Xo(W)&&(Ls(g,d,W),function ip(n,r,o){if(Gr(r)){const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const D=n.data[g];D.contentQueries&&D.contentQueries(1,o[g],g)}}}(g,W,d)),null!==a&&mg(d,W),cf}function xp(){let n=vn();yo()?vo():(n=n.parent,_i(n,!1));const r=n;!function Ps(){Yt.lFrame.elementDepthCount--}();const o=Le();return o.firstCreatePass&&(Ts(o,n),Gr(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Tl(n){return 0!=(16&n.flags)}(r)&&fm(o,r,$(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function el(n){return 0!=(32&n.flags)}(r)&&fm(o,r,$(),r.stylesWithoutHost,!1),xp}function pm(n,r,o,a){return cf(n,r,o,a),xp(),pm}function mm(){return $()}function zl(n){return!!n&&"function"==typeof n.then}function e0(n){return!!n&&"function"==typeof n.subscribe}const ql=e0;function Ku(n,r,o,a){const d=$(),g=Le(),D=vn();return function ay(n,r,o,a,d,g,D,T){const M=Xo(a),K=n.firstCreatePass&&Ag(n),ne=r[8],we=F_(r);let Ve=!0;if(3&a.type||T){const Ft=lt(a,r),nn=T?T(Ft):Ft,mt=we.length,wn=T?Ar=>T(L(Ar[a.index])):a.index;if(Hn(o)){let Ar=null;if(!T&&M&&(Ar=function t0(n,r,o,a){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const D=d[g];if(D===o&&d[g+1]===a){const T=r[7],M=d[g+2];return T.length>M?T[M]:null}"string"==typeof D&&(g+=2)}return null}(n,r,d,a.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=g,Ar.__ngLastListenerFn__=g,Ve=!1;else{g=Rp(a,r,ne,g,!1);const Ei=o.listen(nn,d,g);we.push(g,Ei),K&&K.push(d,wn,mt,mt+1)}}else g=Rp(a,r,ne,g,!0),nn.addEventListener(d,g,D),we.push(g),K&&K.push(d,wn,mt,D)}else g=Rp(a,r,ne,g,!1);const ct=a.outputs;let wt;if(Ve&&null!==ct&&(wt=ct[d])){const Ft=wt.length;if(Ft)for(let nn=0;nn<Ft;nn+=2){const Xl=r[wt[nn]][wt[nn+1]].subscribe(g),kf=we.length;we.push(g,Xl),K&&K.push(d,a.index,kf,-(kf+1))}}}(g,d,d[11],D,n,r,!!o,a),Ku}function _m(n,r,o,a){try{return!1!==o(a)}catch(d){return L_(n,d),!1}}function Rp(n,r,o,a,d){return function g(D){if(D===Function)return a;const T=2&n.flags?yn(n.index,r):r;0==(32&r[2])&&Cg(T);let M=_m(r,0,a,D),W=g.__ngNextListenerFn__;for(;W;)M=_m(r,0,W,D)&&M,W=W.__ngNextListenerFn__;return d&&!1===M&&(D.preventDefault(),D.returnValue=!1),M}}function hf(n=1){return function Xa(n){return(Yt.lFrame.contextLView=function sa(n,r){for(;n>0;)r=r[15],n--;return r}(n,Yt.lFrame.contextLView))[8]}(n)}function n0(n,r){let o=null;const a=function ht(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===a?rt(n,g,!0):Vt(a,g))return d}else o=d}return o}function Mc(n){const r=$()[16][6];if(!r.projection){const a=r.projection=gs(n?n.length:1,null),d=a.slice();let g=r.child;for(;null!==g;){const D=n?n0(g,n):0;null!==D&&(d[D]?d[D].projectionNext=g:a[D]=g,d[D]=g),g=g.next}}}function ff(n,r=0,o){const a=$(),d=Le(),g=md(d,20+n,16,null,o||null);null===g.projection&&(g.projection=r),vo(),64!=(64&g.flags)&&function ld(n,r,o){ud(r[11],0,r,o,za(n,o,r),Jd(o.parent||r[6],o,r))}(d,a,g)}function Td(n,r,o){return pf(n,"",r,"",o),Td}function pf(n,r,o,a,d){const g=$(),D=Ic(g,r,o,a);return D!==At&&Ko(Le(),Jr(),g,n,D,g[11],d,!1),pf}function Lp(n,r,o,a,d){const g=n[o+1],D=null===r;let T=a?Un(g):Ir(g),M=!1;for(;0!==T&&(!1===M||D);){const K=n[T+1];s0(n[T],r)&&(M=!0,n[T+1]=a?Zo(K):ms(K)),T=a?Un(K):Ir(K)}M&&(n[o+1]=a?ms(g):Zo(g))}function s0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&oo(n,r)>=0}const _s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gf(n){return n.substring(_s.key,_s.keyEnd)}function fy(n,r){const o=_s.textEnd;return o===r?-1:(r=_s.keyEnd=function Rc(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,_s.key=r,o),Tu(n,r,o))}function Tu(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Dm(n,r,o){return Zl(n,r,o,!1),Dm}function wm(n,r){return Zl(n,r,null,!0),wm}function Em(n){!function Dl(n,r,o,a){const d=Le(),g=Wi(2);d.firstUpdatePass&&my(d,null,g,a);const D=$();if(o!==At&&po(D,g,o)){const T=d.data[zi()];if(Pc(T,a)&&!gy(d,g)){let M=a?T.classesWithoutHost:T.stylesWithoutHost;null!==M&&(o=Pe(M,o||"")),fm(d,T,D,o,a)}else!function jp(n,r,o,a,d,g,D,T){d===At&&(d=Qt);let M=0,W=0,K=0<d.length?d[0]:null,ne=0<g.length?g[0]:null;for(;null!==K||null!==ne;){const we=M<d.length?d[M+1]:void 0,Ve=W<g.length?g[W+1]:void 0;let wt,ct=null;K===ne?(M+=2,W+=2,we!==Ve&&(ct=ne,wt=Ve)):null===ne||null!==K&&K<ne?(M+=2,ct=K):(W+=2,ct=ne,wt=Ve),null!==ct&&by(n,r,o,a,ct,wt,D,T),K=M<d.length?d[M]:null,ne=W<g.length?g[W]:null}}(d,T,D,D[11],D[g+1],D[g+1]=function vy(n,r,o){if(null==o||""===o)return Qt;const a=[],d=$a(o);if(Array.isArray(d))for(let g=0;g<d.length;g++)n(a,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&n(a,g,d[g]);else"string"==typeof d&&r(a,d);return a}(n,r,o),a,g)}}(Ni,Su,n,!0)}function Su(n,r){for(let o=function mf(n){return function Cu(n){_s.key=0,_s.keyEnd=0,_s.value=0,_s.valueEnd=0,_s.textEnd=n.length}(n),fy(n,Tu(n,0,_s.textEnd))}(r);o>=0;o=fy(r,o))Ni(n,gf(r),!0)}function Zl(n,r,o,a){const d=$(),g=Le(),D=Wi(2);g.firstUpdatePass&&my(g,n,D,a),r!==At&&po(d,D,r)&&by(g,g.data[zi()],d,d[11],n,d[D+1]=function c0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ie($a(n)))),n}(r,o),a,D)}function gy(n,r){return r>=n.expandoStartIndex}function my(n,r,o,a){const d=n.data;if(null===d[o+1]){const g=d[zi()],D=gy(n,o);Pc(g,a)&&null===r&&!D&&(r=!1),r=function _y(n,r,o,a){const d=function Fa(n){const r=Yt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let g=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(o=bh(o=Bp(null,n,r,o,a),r.attrs,a),g=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==d)if(o=Bp(d,n,r,o,a),null===g){let M=function l0(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Ir(a))return n[Un(a)]}(n,r,a);void 0!==M&&Array.isArray(M)&&(M=Bp(null,n,r,M[1],a),M=bh(M,r.attrs,a),function u0(n,r,o,a){n[Un(o?r.classBindings:r.styleBindings)]=a}(n,r,a,M))}else g=function yy(n,r,o){let a;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)a=bh(a,n[g].hostAttrs,o);return bh(a,r.attrs,o)}(n,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),o}(d,g,r,a),function dy(n,r,o,a,d,g){let D=g?r.classBindings:r.styleBindings,T=Un(D),M=Ir(D);n[a]=o;let K,W=!1;if(Array.isArray(o)){const ne=o;K=ne[1],(null===K||oo(ne,K)>0)&&(W=!0)}else K=o;if(d)if(0!==M){const we=Un(n[T+1]);n[a+1]=er(we,T),0!==we&&(n[we+1]=So(n[we+1],a)),n[T+1]=function qr(n,r){return 131071&n|r<<17}(n[T+1],a)}else n[a+1]=er(T,0),0!==T&&(n[T+1]=So(n[T+1],a)),T=a;else n[a+1]=er(M,0),0===T?T=a:n[M+1]=So(n[M+1],a),M=a;W&&(n[a+1]=ms(n[a+1])),Lp(n,K,a,!0),Lp(n,K,a,!1),function vm(n,r,o,a,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&oo(g,r)>=0&&(o[a+1]=Zo(o[a+1]))}(r,K,n,a,g),D=er(T,M),g?r.classBindings=D:r.styleBindings=D}(d,g,r,o,D,a)}}function Bp(n,r,o,a,d){let g=null;const D=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<D&&(g=r[T],a=bh(a,g.hostAttrs,d),g!==n);)T++;return null!==n&&(o.directiveStylingLast=T),a}function bh(n,r,o){const a=o?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const D=r[g];"number"==typeof D?d=D:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ni(n,D,!!o||r[++g]))}return void 0===n?null:n}function by(n,r,o,a,d,g,D,T){if(!(3&r.type))return;const M=n.data,W=M[T+1];Kl(function Ao(n){return 1==(1&n)}(W)?Cm(M,r,o,d,Ir(W),D):void 0)||(Kl(g)||function kr(n){return 2==(2&n)}(W)&&(g=Cm(M,null,o,d,T,D)),function th(n,r,o,a,d){const g=Hn(n);if(r)d?g?n.addClass(o,a):o.classList.add(a):g?n.removeClass(o,a):o.classList.remove(a);else{let D=-1===a.indexOf("-")?void 0:tt.DashCase;if(null==d)g?n.removeStyle(o,a,D):o.style.removeProperty(a);else{const T="string"==typeof d&&d.endsWith("!important");T&&(d=d.slice(0,-10),D|=tt.Important),g?n.setStyle(o,a,d,D):o.style.setProperty(a,d,T?"important":"")}}}(a,D,Be(zi(),o),d,g))}function Cm(n,r,o,a,d,g){const D=null===r;let T;for(;d>0;){const M=n[d],W=Array.isArray(M),K=W?M[1]:M,ne=null===K;let we=o[d+1];we===At&&(we=ne?Qt:void 0);let Ve=ne?sl(we,a):K===a?we:void 0;if(W&&!Kl(Ve)&&(Ve=sl(M,a)),Kl(Ve)&&(T=Ve,D))return T;const ct=n[d+1];d=D?Un(ct):Ir(ct)}if(null!==r){let M=g?r.residualClasses:r.residualStyles;null!=M&&(T=sl(M,a))}return T}function Kl(n){return void 0!==n}function Pc(n,r){return 0!=(n.flags&(r?16:32))}function Dy(n,r=""){const o=$(),a=Le(),d=n+20,g=a.firstCreatePass?md(a,d,1,r,null):a.data[d],D=o[d]=sd(o[11],r);Aa(a,o,D,g),_i(g,!1)}function Tm(n){return Gp("",n,""),Tm}function Gp(n,r,o){const a=$(),d=Ic(a,n,r,o);return d!==At&&function zu(n,r,o){const a=Be(r,n);gc(n[11],a,o)}(a,zi(),d),Gp}function Ma(n,r,o){const a=$();return po(a,bo(),r)&&Ko(Le(),Jr(),a,n,r,a[11],o,!0),Ma}const Fc=void 0;var vf=["en",[["a","p"],["AM","PM"],Fc],[["AM","PM"],Fc,Fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fc,"{1} 'at' {0}",Fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ry(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Au={};function Pm(n){const r=function b0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Lc(r);if(o)return o;const a=r.split("-")[0];if(o=Lc(a),o)return o;if("en"===a)return vf;throw new Error(`Missing locale data for the locale "${n}".`)}function Sd(n){return Pm(n)[dn.PluralCase]}function Lc(n){return n in Au||(Au[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),Au[n]}var dn=(()=>((dn=dn||{})[dn.LocaleId=0]="LocaleId",dn[dn.DayPeriodsFormat=1]="DayPeriodsFormat",dn[dn.DayPeriodsStandalone=2]="DayPeriodsStandalone",dn[dn.DaysFormat=3]="DaysFormat",dn[dn.DaysStandalone=4]="DaysStandalone",dn[dn.MonthsFormat=5]="MonthsFormat",dn[dn.MonthsStandalone=6]="MonthsStandalone",dn[dn.Eras=7]="Eras",dn[dn.FirstDayOfWeek=8]="FirstDayOfWeek",dn[dn.WeekendRange=9]="WeekendRange",dn[dn.DateFormat=10]="DateFormat",dn[dn.TimeFormat=11]="TimeFormat",dn[dn.DateTimeFormat=12]="DateTimeFormat",dn[dn.NumberSymbols=13]="NumberSymbols",dn[dn.NumberFormats=14]="NumberFormats",dn[dn.CurrencyCode=15]="CurrencyCode",dn[dn.CurrencySymbol=16]="CurrencySymbol",dn[dn.CurrencyName=17]="CurrencyName",dn[dn.Currencies=18]="Currencies",dn[dn.Directionality=19]="Directionality",dn[dn.PluralCase=20]="PluralCase",dn[dn.ExtraData=21]="ExtraData",dn))();const D0=["zero","one","two","few","many"],bf="en-US",Ad={marker:"element"},Yl={marker:"ICU"};var ys=(()=>((ys=ys||{})[ys.SHIFT=2]="SHIFT",ys[ys.APPEND_EAGERLY=1]="APPEND_EAGERLY",ys[ys.COMMENT=2]="COMMENT",ys))();let Fy=bf;function Vy(n,r,o){const a=r.insertBeforeIndex,d=Array.isArray(a)?a[0]:a;return null===d?Fs(n,0,o):L(o[d])}function km(n,r,o,a,d){const g=r.insertBeforeIndex;if(Array.isArray(g)){let D=a,T=null;if(3&r.type||(T=D,D=d),null!==D&&0==(2&r.flags))for(let M=1;M<g.length;M++)Sa(n,D,o[g[M]],T,!1)}}function $p(n,r){if(n.push(r),n.length>1)for(let o=n.length-2;o>=0;o--){const a=n[o];Fm(a)||Wp(a,r)&&null===T0(a)&&Zb(a,r.index)}}function Fm(n){return!(64&n.type)}function Wp(n,r){return Fm(r)||n.index>r.index}function T0(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Zb(n,r){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=r:($h(Vy,km),n.insertBeforeIndex=r)}function Df(n,r){const o=n.data[r];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function Yb(n,r,o){const a=gg(n,o,64,null,null);return $p(r,a),a}function zp(n,r){const o=r[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function By(n){return n>>>17}function I0(n){return(131070&n)>>>1}let qp=0,Zp=0;function Vm(n,r,o,a){const d=o[11];let D,g=null;for(let T=0;T<r.length;T++){const M=r[T];if("string"==typeof M){const W=r[++T];null===o[W]&&(o[W]=sd(d,M))}else if("number"==typeof M)switch(1&M){case 0:const W=By(M);let K,ne;if(null===g&&(g=W,D=ad(d,a)),W===g?(K=a,ne=D):(K=null,ne=L(o[W])),null!==ne){const wt=I0(M);Sa(d,ne,o[wt],K,!1);const nn=Df(n,wt);if(null!==nn&&"object"==typeof nn){const mt=zp(nn,o);null!==mt&&Vm(n,nn.create[mt],o,o[nn.anchorIdx])}}break;case 1:const Ve=r[++T],ct=r[++T];bc(d,Be(M>>>1,o),null,null,Ve,ct,null)}else switch(M){case Yl:const W=r[++T],K=r[++T];null===o[K]&&as(o[K]=qd(d,W),o);break;case Ad:const ne=r[++T],we=r[++T];null===o[we]&&as(o[we]=od(d,ne,null),o)}}}function Uy(n,r,o,a,d){for(let g=0;g<o.length;g++){const D=o[g],T=o[++g];if(D&d){let M="";for(let W=g+1;W<=g+T;W++){const K=o[W];if("string"==typeof K)M+=K;else if("number"==typeof K)if(K<0)M+=je(r[a-K]);else{const ne=K>>>2;switch(3&K){case 1:const we=o[++W],Ve=o[++W],ct=n.data[ne];"string"==typeof ct?bc(r[11],r[ne],null,ct,we,M,Ve):Ko(n,ct,r,we,M,r[11],Ve,!1);break;case 0:const wt=r[ne];null!==wt&&gc(r[11],wt,M);break;case 2:go(n,Df(n,ne),r,M);break;case 3:jy(n,Df(n,ne),a,r)}}}}else{const M=o[g+1];if(M>0&&3==(3&M)){const K=Df(n,M>>>2);r[K.currentCaseLViewIndex]<0&&jy(n,K,a,r)}}g+=T}}function jy(n,r,o,a){let d=a[r.currentCaseLViewIndex];if(null!==d){let g=qp;d<0&&(d=a[r.currentCaseLViewIndex]=~d,g=-1),Uy(n,a,r.update[d],o,g)}}function go(n,r,o,a){const d=function Kp(n,r){let o=n.cases.indexOf(r);if(-1===o)switch(n.type){case 1:{const a=function w0(n,r){const o=Sd(r)(parseInt(n,10)),a=D0[o];return void 0!==a?a:"other"}(r,function C0(){return Fy}());o=n.cases.indexOf(a),-1===o&&"other"!==a&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(r,a);if(zp(r,o)!==d&&(wl(n,r,o),o[r.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const D=o[r.anchorIdx];D&&Vm(n,r.create[d],o,D)}}function wl(n,r,o){let a=zp(r,o);if(null!==a){const d=r.remove[a];for(let g=0;g<d.length;g++){const D=d[g];if(D>0){const T=Be(D,o);null!==T&&eh(o[11],T)}else wl(n,Df(n,~D),o)}}}function Bm(){const n=[];let o,a,r=-1;function g(T,M){r=0;const W=zp(T,M);a=null!==W?T.remove[W]:Qt}function D(){if(r<a.length){const T=a[r++];return T>0?o[T]:(n.push(r,a),g(o[1].data[~T],o),D())}return 0===n.length?null:(a=n.pop(),r=n.pop(),D())}return function d(T,M){for(o=M;n.length;)n.pop();return g(T.value,M),D}}const Yp=/\ufffd(\d+):?\d*\ufffd/gi,M0=/\ufffd(\d+)\ufffd/,Qo=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Hy=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,O0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Um=/\uE500/g;function Qp(n,r,o,a,d,g,D){const T=yc(n,a,1,null);let M=T<<ys.SHIFT,W=$i();r===W&&(W=null),null===W&&(M|=ys.APPEND_EAGERLY),D&&(M|=ys.COMMENT,function mn(n){void 0===St&&(St=n())}(Bm)),d.push(M,null===g?"":g);const K=gg(n,T,D?32:1,null===g?"":g,null);$p(o,K);const ne=K.index;return _i(K,!1),null!==W&&r!==W&&function Kb(n,r){let o=n.insertBeforeIndex;null===o?($h(Vy,km),o=n.insertBeforeIndex=[null,r]):(function ie(n,r,o){n!=r&&en(o,n,r,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(W,ne),K}function x0(n,r,o,a,d,g,D){const T=D.match(Yp),M=Qp(n,r,o,g,a,T?null:D,!1);T&&wh(d,D,M.index,null,0,null)}function wh(n,r,o,a,d,g){const D=n.length,T=D+1;n.push(null,null);const M=D+2,W=r.split(Yp);let K=0;for(let ne=0;ne<W.length;ne++){const we=W[ne];if(1&ne){const Ve=d+parseInt(we,10);n.push(-1-Ve),K|=$y(Ve)}else""!==we&&n.push(we)}return n.push(o<<2|(a?1:0)),a&&n.push(a,g),n[D]=K,n[T]=n.length-M,K}function $y(n){return 1<<Math.min(n,31)}function Gm(n){let r,g,o="",a=0,d=!1;for(;null!==(r=Hy.exec(n));)d?r[0]===`\ufffd/*${g}\ufffd`&&(a=r.index,d=!1):(o+=n.substring(a,r.index+r[0].length),g=r[1],d=!0);return o+=n.substr(a),o}function Hm(n,r,o,a,d,g){let D=0;const T={type:d.type,currentCaseLViewIndex:yc(n,r,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function zy(n,r,o){n.push($y(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(o,d,g),function Lm(n,r,o){const a=n.data[r];null===a?n.data[r]=o:a.value=o}(n,g,T);const M=d.values;for(let W=0;W<M.length;W++){const K=M[W],ne=[];for(let we=0;we<K.length;we++){const Ve=K[we];if("string"!=typeof Ve){const ct=ne.push(Ve)-1;K[we]=`\x3c!--\ufffd${ct}\ufffd--\x3e`}}D=F0(n,T,r,o,a,d.cases[W],K.join(""),ne)|D}D&&function qm(n,r,o){n.push(r,1,o<<2|3)}(o,D,g)}function k0(n){const r=[],o=[];let a=1,d=0;const g=$m(n=n.replace(Qo,function(D,T,M){return a="select"===M?0:1,d=parseInt(T.substr(1),10),""}));for(let D=0;D<g.length;){let T=g[D++].trim();1===a&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&r.push(T);const M=$m(g[D++]);r.length>o.length&&o.push(M)}return{type:a,mainBinding:d,cases:r,values:o}}function $m(n){if(!n)return[];let r=0;const o=[],a=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(n);){const T=g.index;if("}"==g[0]){if(o.pop(),0==o.length){const M=n.substring(r,T);Qo.test(M)?a.push(k0(M)):a.push(M),r=T+1}}else{if(0==o.length){const M=n.substring(r,T);a.push(M),r=T+1}o.push("{")}}const D=n.substring(r);return a.push(D),a}function F0(n,r,o,a,d,g,D,T){const M=[],W=[],K=[];r.cases.push(g),r.create.push(M),r.remove.push(W),r.update.push(K);const we=function du(n){const r=new Fh(n);return function Pu(){try{return!!(new window.DOMParser).parseFromString(al(""),"text/html")}catch(n){return!1}}()?new kh(r):r}(Es()).getInertBodyElement(D),Ve=function si(n){return"content"in n&&function Lh(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(we)||we;return Ve?Wy(n,r,o,a,M,W,K,Ve,d,T,0):0}function Wy(n,r,o,a,d,g,D,T,M,W,K){let ne=0,we=T.firstChild;for(;we;){const Ve=yc(n,o,1,null);switch(we.nodeType){case Node.ELEMENT_NODE:const ct=we,wt=ct.tagName.toLowerCase();if(sc.hasOwnProperty(wt)){eg(d,Ad,wt,M,Ve),n.data[Ve]=wt;const wn=ct.attributes;for(let Ar=0;Ar<wn.length;Ar++){const Ei=wn.item(Ar),Xl=Ei.name.toLowerCase();Ei.value.match(Yp)?Br.hasOwnProperty(Xl)&&wh(D,Ei.value,Ve,Ei.name,0,oc[Xl]?ua:Ul[Xl]?fu:null):Ef(d,Ve,Ei)}ne=Wy(n,r,o,a,d,g,D,we,Ve,W,K+1)|ne,Wm(g,Ve,K)}break;case Node.TEXT_NODE:const Ft=we.textContent||"",nn=Ft.match(Yp);eg(d,null,nn?"":Ft,M,Ve),Wm(g,Ve,K),nn&&(ne=wh(D,Ft,Ve,null,0,null)|ne);break;case Node.COMMENT_NODE:const mt=M0.exec(we.textContent||"");if(mt){const Ar=W[parseInt(mt[1],10)];eg(d,Yl,"",M,Ve),Hm(n,o,a,M,Ar,Ve),zm(g,Ve,K)}}we=we.nextSibling}return ne}function Wm(n,r,o){0===o&&n.push(r)}function zm(n,r,o){0===o&&(n.push(~r),n.push(r))}function eg(n,r,o,a,d){null!==r&&n.push(r),n.push(o,d,function Jb(n,r,o){return n|r<<17|o<<1}(0,a,d))}function Ef(n,r,o){n.push(r<<1|1,o.name,o.value)}function Jy(n,r,o=-1){const a=Le(),d=$(),g=20+n,D=br(a.consts,r),T=$i();a.firstCreatePass&&function jm(n,r,o,a,d,g){const D=$i(),T=[],M=[],W=[[]];d=function Xp(n,r){if(function wf(n){return-1===n}(r))return Gm(n);{const o=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,a=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Gm(n.substring(o,a))}}(d,g);const K=function Jp(n){return n.replace(Um," ")}(d).split(O0);for(let ne=0;ne<K.length;ne++){let we=K[ne];if(0==(1&ne)){const Ve=$m(we);for(let ct=0;ct<Ve.length;ct++){let wt=Ve[ct];if(0==(1&ct)){const Ft=wt;""!==Ft&&x0(n,D,W[0],T,M,o,Ft)}else{const Ft=wt;if("object"!=typeof Ft)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Hm(n,o,M,r,Ft,Qp(n,D,W[0],o,T,"",!0).index)}}}else{const Ve=47===we.charCodeAt(0),wt=(we.charCodeAt(Ve?1:0),20+Number.parseInt(we.substring(Ve?2:1)));if(Ve)W.shift(),_i($i(),!1);else{const Ft=Yb(n,W[0],wt);W.unshift([]),_i(Ft,!0)}}}n.data[a]={create:T,update:M}}(a,null===T?0:T.index,d,g,D,o);const M=a.data[g],K=ag(a,T===d[6]?null:T,d);(function eD(n,r,o,a){const d=n[11];for(let g=0;g<r.length;g++){const D=r[g++],T=r[g],M=(D&ys.COMMENT)===ys.COMMENT,W=(D&ys.APPEND_EAGERLY)===ys.APPEND_EAGERLY,K=D>>>ys.SHIFT;let ne=n[K];null===ne&&(ne=n[K]=M?d.createComment(T):sd(d,T)),W&&null!==o&&Sa(d,o,ne,a,!1)}})(d,M.create,K,T&&8&T.type?d[T.index]:null),Pa(!0)}function Cf(n,r,o){Jy(n,r,o),function Qy(){Pa(!1)}()}function Tf(n){return function Qb(n){n&&(qp|=1<<Math.min(Zp,31)),Zp++}(po($(),bo(),n)),Tf}function tg(n){!function Xb(n,r,o){if(Zp>0){const a=n.data[o];Uy(n,r,Array.isArray(a)?a:a.update,function ts(){return Yt.lFrame.bindingIndex}()-Zp-1,qp)}qp=0,Zp=0}(Le(),$(),n+20)}function ng(n,r,o,a,d){if(n=De(n),Array.isArray(n))for(let g=0;g<n.length;g++)ng(n[g],r,o,a,d);else{const g=Le(),D=$();let T=ph(n)?n:De(n.provide),M=V_(n);const W=vn(),K=1048575&W.providerIndexes,ne=W.directiveStart,we=W.providerIndexes>>20;if(ph(n)||!n.multi){const Ve=new jo(M,d,Mp),ct=Qm(T,r,d?K:K+we,ne);-1===ct?(ge(k(W,D),g,T),Eh(g,n,r.length),r.push(T),W.directiveStart++,W.directiveEnd++,d&&(W.providerIndexes+=1048576),o.push(Ve),D.push(Ve)):(o[ct]=Ve,D[ct]=Ve)}else{const Ve=Qm(T,r,K+we,ne),ct=Qm(T,r,K,K+we),wt=Ve>=0&&o[Ve],Ft=ct>=0&&o[ct];if(d&&!Ft||!d&&!wt){ge(k(W,D),g,T);const nn=function G0(n,r,o,a,d){const g=new jo(n,o,Mp);return g.multi=[],g.index=r,g.componentProviders=0,ev(g,d,a&&!o),g}(d?j0:U0,o.length,d,a,M);!d&&Ft&&(o[ct].providerFactory=nn),Eh(g,n,r.length,0),r.push(T),W.directiveStart++,W.directiveEnd++,d&&(W.providerIndexes+=1048576),o.push(nn),D.push(nn)}else Eh(g,n,Ve>-1?Ve:ct,ev(o[d?ct:Ve],M,!d&&a));!d&&a&&Ft&&o[ct].componentProviders++}}}function Eh(n,r,o,a){const d=ph(r),g=function Lv(n){return!!n.useClass}(r);if(d||g){const M=(g?De(r.useClass):r).prototype.ngOnDestroy;if(M){const W=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const K=W.indexOf(o);-1===K?W.push(o,[a,M]):W[K+1].push(a,M)}else W.push(o,M)}}}function ev(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Qm(n,r,o,a){for(let d=o;d<a;d++)if(r[d]===n)return d;return-1}function U0(n,r,o,a){return Xm(this.multi,[])}function j0(n,r,o,a){const d=this.multi;let g;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=Ss(o,o[1],this.providerFactory.index,a);g=T.slice(0,D),Xm(d,g);for(let M=D;M<T.length;M++)g.push(T[M])}else g=[],Xm(d,g);return g}function Xm(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function tv(n,r=[]){return o=>{o.providersResolver=(a,d)=>function B0(n,r,o){const a=Le();if(a.firstCreatePass){const d=hi(n);ng(o,a.data,a.blueprint,d,!0),ng(r,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,r)}}class nv{}class rv{resolveComponentFactory(r){throw function $0(n){const r=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ch=(()=>{class n{}return n.NULL=new rv,n})();function z0(){return Th(vn(),$())}function Th(n,r){return new Sf(lt(n,r))}let Sf=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=z0,n})();function iv(n){return n instanceof Sf?n.nativeElement:n}class e_{}let sv=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function iD(){const n=$(),o=yn(vn().index,n);return function ov(n){return n[11]}(sn(o)?o:n)}(),n})(),Z0=(()=>{class n{}return n.\u0275prov=pn({token:n,providedIn:"root",factory:()=>null}),n})();class K0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Y0=new K0("13.3.1"),Af={};function t_(n,r,o,a,d=!1){for(;null!==o;){const g=r[o.index];if(null!==g&&a.push(L(g)),Bn(g))for(let T=10;T<g.length;T++){const M=g[T],W=M[1].firstChild;null!==W&&t_(M[1],M,W,a)}const D=o.type;if(8&D)t_(n,r,o.child,a);else if(32&D){const T=Pt(o,r);let M;for(;M=T();)a.push(M)}else if(16&D){const T=lg(r,o);if(Array.isArray(T))a.push(...T);else{const M=wi(r[16]);t_(M[1],M,T,a,!0)}}o=d?o.projectionNext:o.next}return a}class Nf{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return t_(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Bn(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(zf(r,a),bi(o,a))}this._attachedToViewContainer=!1}Uh(this._lView[1],this._lView)}onDestroy(r){_g(this._lView[1],this._lView,null,r)}markForCheck(){Cg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Sg(n,r,o){Hs(!0);try{Yh(n,r,o)}finally{Hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ot(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hf(n,r){ml(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ot(902,"");this._appRef=r}}class av extends Nf{constructor(r){super(r),this._view=r}detectChanges(){Jh(this._view)}checkNoChanges(){!function P_(n){Hs(!0);try{Jh(n)}finally{Hs(!1)}}(this._view)}get context(){return null}}class lv extends Ch{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=gn(r);return new uv(o,this.ngModule)}}function n_(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class uv extends nv{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Xn(n){return n.map(fn).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return n_(this.componentDef.inputs)}get outputs(){return n_(this.componentDef.outputs)}create(r,o,a,d){const g=(d=d||this.ngModule)?function i_(n,r){return{get:(o,a,d)=>{const g=n.get(o,Af,d);return g!==Af||a===Af?g:r.get(o,a,d)}}}(r,d.injector):r,D=g.get(e_,F),T=g.get(Z0,null),M=D.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",K=a?function op(n,r,o){if(Hn(n))return n.selectRootElement(r,o===tn.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(M,a,this.componentDef.encapsulation):od(D.createRenderer(null,this.componentDef),W,function r_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(W)),ne=this.componentDef.onPush?576:528,we=function wp(n,r){return{components:[],scheduler:n||rd,clean:Pv,playerHandler:r||null,flags:0}}(),Ve=sp(0,null,null,1,0,null,null,null,null,null),ct=uh(null,Ve,we,ne,null,null,D,M,T,g);let wt,Ft;Fo(ct);try{const nn=function Dp(n,r,o,a,d,g){const D=o[1];o[20]=n;const M=md(D,20,2,"#host",null),W=M.mergedAttrs=r.hostAttrs;null!==W&&(dh(M,W,!0),null!==n&&(tl(d,n,W),null!==M.classes&&rh(d,n,M.classes),null!==M.styles&&nh(d,n,M.styles)));const K=a.createRenderer(n,r),ne=uh(o,D_(r),null,r.onPush?64:16,o[20],M,a,K,g||null,null);return D.firstCreatePass&&(ge(k(M,o),D,r.type),N_(D,M),M_(M,o.length,1)),ch(o,ne),o[20]=ne}(K,this.componentDef,ct,D,M);if(K)if(a)tl(M,K,["ng-version",Y0.full]);else{const{attrs:mt,classes:wn}=function gr(n){const r=[],o=[];let a=1,d=2;for(;a<n.length;){let g=n[a];if("string"==typeof g)2===d?""!==g&&r.push(g,n[++a]):8===d&&o.push(g);else{if(!Se(d))break;d=g}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);mt&&tl(M,K,mt),wn&&wn.length>0&&rh(M,K,wn.join(" "))}if(Ft=kn(Ve,20),void 0!==o){const mt=Ft.projection=[];for(let wn=0;wn<this.ngContentSelectors.length;wn++){const Ar=o[wn];mt.push(null!=Ar?Array.from(Ar):null)}}wt=function $_(n,r,o,a,d){const g=o[1],D=function Mv(n,r,o){const a=vn();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),O_(n,a,r,yc(n,r,1,null),o));const d=Ss(r,n,a.directiveStart,a);as(d,r);const g=lt(a,r);return g&&as(g,r),d}(g,o,r);if(a.components.push(D),n[8]=D,d&&d.forEach(M=>M(D,r)),r.contentQueries){const M=vn();r.contentQueries(1,D,M.directiveStart)}const T=vn();return!g.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Bo(T.index),I_(o[1],T,0,T.directiveStart,T.directiveEnd,r),cp(r,D)),D}(nn,this.componentDef,ct,we,[Wg]),zh(Ve,ct,null)}finally{Vo()}return new J0(this.componentType,wt,Th(Ft,ct),ct,Ft)}}class J0 extends class H0{}{constructor(r,o,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new av(d),this.componentType=r}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Ih{}class cv{}const Mf=new Map;class X0 extends Ih{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lv(this);const a=On(r);this._bootstrapComponents=m(a.bootstrap),this._r3Injector=yd(r,o,[{provide:Ih,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],Ie(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=yl.THROW_IF_NOT_FOUND,a=xt.Default){return r===yl||r===Ih||r===Qh?this:this._r3Injector.get(r,o,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class o_ extends cv{constructor(r){super(),this.moduleType=r,null!==On(r)&&function oD(n){const r=new Set;!function o(a){const d=On(a,!0),g=d.id;null!==g&&(function dv(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${Ie(r)} vs ${Ie(r.name)}`)}(g,Mf.get(g),a),Mf.set(g,a));const D=m(d.imports);for(const T of D)r.has(T)||(r.add(T),o(T))}(n)}(r)}create(r){return new X0(this.moduleType,r)}}function a_(n,r,o){const a=Ai()+n,d=$();return d[a]===At?vl(d,a,o?r.call(o):r()):function gh(n,r){return n[r]}(d,a)}function l_(n,r,o,a){return function gv(n,r,o,a,d,g){const D=r+o;return po(n,D,d)?vl(n,D+1,g?a.call(g,d):a(d)):Sh(n,D+1)}($(),Ai(),n,r,o,a)}function u_(n,r,o,a,d){return rg($(),Ai(),n,r,o,a,d)}function c_(n,r,o,a,d,g){return function Of(n,r,o,a,d,g,D,T){const M=r+o;return function Tp(n,r,o,a,d){const g=Tc(n,r,o,a);return po(n,r+2,d)||g}(n,M,d,g,D)?vl(n,M+3,T?a.call(T,d,g,D):a(d,g,D)):Sh(n,M+3)}($(),Ai(),n,r,o,a,d,g)}function Sh(n,r){const o=n[r];return o===At?void 0:o}function rg(n,r,o,a,d,g,D){const T=r+o;return Tc(n,T,d,g)?vl(n,T+2,D?a.call(D,d,g):a(d,g)):Sh(n,T+2)}function ig(n,r){const o=Le();let a;const d=n+20;o.firstCreatePass?(a=function tb(n,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(n===a.name)return a}}(r,o.pipeRegistry),o.data[d]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,a.onDestroy)):a=o.data[d];const g=a.factory||(a.factory=Fr(a.type)),D=Et(Mp);try{const T=Vi(!1),M=g();return Vi(T),function rm(n,r,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=a}(o,$(),d,M),M}finally{Et(D)}}function f_(n,r,o,a){const d=n+20,g=$(),D=Tn(g,d);return function xf(n,r){return n[1].data[r].pure}(g,d)?rg(g,Ai(),r,D.transform,o,a,D):D.transform(o,a)}function p_(n){return r=>{setTimeout(n,void 0,r)}}const Jl=class ib extends u.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){var d,g,D;let T=r,M=o||(()=>null),W=a;if(r&&"object"==typeof r){const ne=r;T=null===(d=ne.next)||void 0===d?void 0:d.bind(ne),M=null===(g=ne.error)||void 0===g?void 0:g.bind(ne),W=null===(D=ne.complete)||void 0===D?void 0:D.bind(ne)}this.__isAsync&&(M=p_(M),T&&(T=p_(T)),W&&(W=p_(W)));const K=super.subscribe({next:T,error:M,complete:W});return r instanceof I.w0&&r.add(K),K}};function sb(){return this._results[Cc()]()}class vv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Cc(),a=vv.prototype;a[o]||(a[o]=sb)}get changes(){return this._changes||(this._changes=new Jl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const d=ps(r);(this._changesDetected=!function Nl(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],g=r[a];if(o&&(d=o(d),g=o(g)),g!==d)return!1}return!0}(a._results,d,o))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Rf=(()=>{class n{}return n.__NG_ELEMENT_ID__=t,n})();const i=Rf,e=class extends i{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r){const o=this._declarationTContainer.tViews,a=uh(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[X];return null!==g&&(a[X]=g.createEmbeddedView(o)),zh(o,a,r),new Nf(a)}};function t(){return s(vn(),$())}function s(n,r){return 4&n.type?new e(r,n,Th(n,r)):null}let l=(()=>{class n{}return n.__NG_ELEMENT_ID__=p,n})();function p(){return oe(vn(),$())}const v=l,A=class extends v{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Th(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const r=se(this._hostTNode,this._hostLView);if(Ou(r)){const o=no(r,this._hostLView),a=pr(r);return new io(o[1].data[a+8],o)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=j(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){const d=r.createEmbeddedView(o||{});return this.insert(d,a),d}createComponent(r,o,a,d,g){const D=r&&!function Vr(n){return"function"==typeof n}(r);let T;if(D)T=o;else{const ne=o||{};T=ne.index,a=ne.injector,d=ne.projectableNodes,g=ne.ngModuleRef}const M=D?r:new uv(gn(r)),W=a||this.parentInjector;if(!g&&null==M.ngModule){const we=(D?W:this.parentInjector).get(Ih,null);we&&(g=we)}const K=M.create(W,d,void 0,g);return this.insert(K.hostView,T),K}insert(r,o){const a=r._lView,d=a[1];if(function Tr(n){return Bn(n[3])}(a)){const K=this.indexOf(r);if(-1!==K)this.detach(K);else{const ne=a[3],we=new A(ne,ne[6],ne[3]);we.detach(we.indexOf(r))}}const g=this._adjustIndex(o),D=this._lContainer;!function og(n,r,o,a){const d=10+a,g=o.length;a>0&&(o[d-1][4]=r),a<g-10?(r[4]=o[d],Xu(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const D=r[17];null!==D&&o!==D&&function m_(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(D,r);const T=r[X];null!==T&&T.insertView(n),r[2]|=128}(d,a,D,g);const T=Wh(g,D),M=a[11],W=ad(M,D[7]);return null!==W&&function Kd(n,r,o,a,d,g){a[0]=d,a[6]=r,ml(n,a,o,1,d,g)}(d,D[6],M,a,W,T),r.attachToViewContainerRef(),Xu(q(D),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=j(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=zf(this._lContainer,o);a&&(bi(q(this._lContainer),o),Uh(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=zf(this._lContainer,o);return a&&null!=bi(q(this._lContainer),o)?new Nf(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function j(n){return n[8]}function q(n){return n[8]||(n[8]=[])}function oe(n,r){let o;const a=r[n.index];if(Bn(a))o=a;else{let d;if(8&n.type)d=L(a);else{const g=r[11];d=g.createComment("");const D=lt(n,r);Sa(g,ad(g,D),d,function Gh(n,r){return Hn(n)?n.nextSibling(r):r.nextSibling}(g,D),!1)}r[n.index]=o=fp(a,r,d,n),ch(r,o)}return new A(o,n,r)}class gt{constructor(r){this.queryList=r,this.matches=null}clone(){return new gt(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ut{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,d=[];for(let g=0;g<a;g++){const D=o.getByIndex(g);d.push(this.queries[D.indexInDeclarationView].clone())}return new Ut(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==cD(r,o).matches&&this.queries[o].setDirty()}}class Dn{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class ni{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const d=null!==o?o.length:0,g=this.getByIndex(a).embeddedTView(r,d);g&&(g.indexInDeclarationView=a,null!==o?o.push(g):o=[g])}return null!==o?new ni(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Fn{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Fn(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(r,o,cs(o,g)),this.matchTNodeWithReadOption(r,o,ro(o,r,g,!1,!1))}else a===Rf?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ro(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Sf||d===l||d===Rf&&4&o.type)this.addMatch(o.index,-2);else{const g=ro(o,r,d,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function cs(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function Dr(n,r,o,a){return-1===o?function jn(n,r){return 11&n.type?Th(n,r):4&n.type?s(n,r):null}(r,n):-2===o?function or(n,r,o){return o===Sf?Th(r,n):o===Rf?s(r,n):o===l?oe(r,n):void 0}(n,r,a):Ss(n,n[1],o,r)}function Ql(n,r,o,a){const d=r[X].queries[a];if(null===d.matches){const g=n.data,D=o.matches,T=[];for(let M=0;M<D.length;M+=2){const W=D[M];T.push(W<0?null:Dr(r,g[W],D[M+1],o.metadata.read))}d.matches=T}return d.matches}function pa(n,r,o,a){const d=n.queries.getByIndex(o),g=d.matches;if(null!==g){const D=Ql(n,r,d,o);for(let T=0;T<g.length;T+=2){const M=g[T];if(M>0)a.push(D[T/2]);else{const W=g[T+1],K=r[-M];for(let ne=10;ne<K.length;ne++){const we=K[ne];we[17]===we[3]&&pa(we[1],we,W,a)}if(null!==K[9]){const ne=K[9];for(let we=0;we<ne.length;we++){const Ve=ne[we];pa(Ve[1],Ve,W,a)}}}}}return a}function Bc(n){const r=$(),o=Le(),a=Ya();El(a+1);const d=cD(o,a);if(n.dirty&&An(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const g=d.crossesNgTemplate?pa(o,r,a,[]):Ql(o,r,d,a);n.reset(g,iv),n.notifyOnChanges()}return!0}return!1}function Vs(n,r,o){const a=Le();a.firstCreatePass&&(uD(a,new Dn(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),lD(a,$(),r)}function Yi(n,r,o,a){const d=Le();if(d.firstCreatePass){const g=vn();uD(d,new Dn(r,o,a),g.index),function l1(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(d,n),2==(2&o)&&(d.staticContentQueries=!0)}lD(d,$(),o)}function Nd(){return function a1(n,r){return n[X].queries[r].queryList}($(),Ya())}function lD(n,r,o){const a=new vv(4==(4&o));_g(n,r,a,a.destroy),null===r[X]&&(r[X]=new Ut),r[X].queries.push(new gt(a))}function uD(n,r,o){null===n.queries&&(n.queries=new ni),n.queries.track(new Fn(r,o))}function cD(n,r){return n.queries.getByIndex(r)}function dD(n,r){return s(n,r)}function wv(...n){}const AD=new vi("Application Initializer");let db=(()=>{class n{constructor(o){this.appInits=o,this.resolve=wv,this.reject=wv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(zl(g))o.push(g);else if(ql(g)){const D=new Promise((T,M)=>{g.subscribe({complete:T,error:M})});o.push(D)}}Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Xt(AD,8))},n.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ND=new vi("AppId",{providedIn:"root",factory:function MD(){return`${hb()}${hb()}${hb()}`}});function hb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OD=new vi("Platform Initializer"),xD=new vi("Platform ID"),RD=new vi("appBootstrapListener");let PD=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();const fb=new vi("LocaleId",{providedIn:"root",factory:()=>ir(fb,xt.Optional|xt.SkipSelf)||function T1(){return"undefined"!=typeof $localize&&$localize.locale||bf}()}),I1=new vi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class S1{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let A1=(()=>{class n{compileModuleSync(o){return new o_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=m(On(o).declarations).reduce((D,T)=>{const M=gn(T);return M&&D.push(new uv(M)),D},[]);return new S1(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M1=(()=>Promise.resolve(0))();function pb(n){"undefined"==typeof Zone?M1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Yu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&o,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function O1(){let n=Sn.requestAnimationFrame,r=Sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function P1(n){const r=()=>{!function R1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,mb(n),n.isCheckStableRunning=!0,gb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),mb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,d,g,D,T)=>{try{return kD(n),o.invokeTask(d,g,D,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),FD(n)}},onInvoke:(o,a,d,g,D,T,M)=>{try{return kD(n),o.invoke(d,g,D,T,M)}finally{n.shouldCoalesceRunChangeDetection&&r(),FD(n)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,mb(n),gb(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,d){const g=this._inner,D=g.scheduleEventTask("NgZoneEvent: "+d,r,x1,wv,wv);try{return g.runTask(D,o,a)}finally{g.cancelTask(D)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const x1={};function gb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FD(n){n._nesting--,gb(n)}class k1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,d){return r.apply(o,a)}}let LD=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yu.assertNotInAngularZone(),pb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pb(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==g),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,a,d){return[]}}return n.\u0275fac=function(o){return new(o||n)(Xt(Yu))},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})(),VD=(()=>{class n{constructor(){this._applications=new Map,_b.addToWindow(this)}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return _b.findTestabilityInTree(this,o,a)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();class F1{addToWindow(r){}findTestabilityInTree(r,o,a){return null}}function L1(n){_b=n}let Ju,_b=new F1;const BD=new vi("AllowMultipleToken");class U1{constructor(r,o){this.name=r,this.token=o}}function UD(n,r,o=[]){const a=`Platform: ${r}`,d=new vi(a);return(g=[])=>{let D=jD();if(!D||D.injector.get(BD,!1))if(n)n(o.concat(g).concat({provide:d,useValue:!0}));else{const T=o.concat(g).concat({provide:d,useValue:!0},{provide:Xh,useValue:"platform"});!function j1(n){if(Ju&&!Ju.destroyed&&!Ju.injector.get(BD,!1))throw new ot(400,"");Ju=n.get(GD);const r=n.get(OD,null);r&&r.forEach(o=>o())}(yl.create({providers:T,name:a}))}return function G1(n){const r=jD();if(!r)throw new ot(401,"");return r}()}}function jD(){return Ju&&!Ju.destroyed?Ju:null}let GD=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const T=function H1(n,r){let o;return o="noop"===n?new k1:("zone.js"===n?void 0:n)||new Yu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),M=[{provide:Yu,useValue:T}];return T.run(()=>{const W=yl.create({providers:M,parent:this.injector,name:o.moduleType.name}),K=o.create(W),ne=K.injector.get(us,null);if(!ne)throw new ot(402,"");return T.runOutsideAngular(()=>{const we=T.onError.subscribe({next:Ve=>{ne.handleError(Ve)}});K.onDestroy(()=>{vb(this._modules,K),we.unsubscribe()})}),function $1(n,r,o){try{const a=o();return zl(a)?a.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(ne,T,()=>{const we=K.injector.get(db);return we.runInitializers(),we.donePromise.then(()=>(function Ly(n){(function Mt(n,r){null==n&&en(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Fy=n.toLowerCase().replace(/_/g,"-"))}(K.injector.get(fb,bf)||bf),this._moduleDoBootstrap(K),K))})})}bootstrapModule(o,a=[]){const d=HD({},a);return function V1(n,r,o){const a=new o_(o);return Promise.resolve(a)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(o){const a=o.injector.get(yb);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new ot(403,"");o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Xt(yl))},n.\u0275prov=pn({token:n,factory:n.\u0275fac}),n})();function HD(n,r){return Array.isArray(r)?r.reduce(HD,n):Object.assign(Object.assign({},n),r)}let yb=(()=>{class n{constructor(o,a,d,g,D){this._zone=o,this._injector=a,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=D,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new z.y(W=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{W.next(this._stable),W.complete()})}),M=new z.y(W=>{let K;this._zone.runOutsideAngular(()=>{K=this._zone.onStable.subscribe(()=>{Yu.assertNotInAngularZone(),pb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,W.next(!0))})})});const ne=this._zone.onUnstable.subscribe(()=>{Yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{W.next(!1)}))});return()=>{K.unsubscribe(),ne.unsubscribe()}});this.isStable=(0,Ce.T)(T,M.pipe((0,ye.B)()))}bootstrap(o,a){if(!this._initStatus.done)throw new ot(405,"");let d;d=o instanceof nv?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const g=function B1(n){return n.isBoundToModule}(d)?void 0:this._injector.get(Ih),T=d.create(yl.NULL,[],a||d.selector,g),M=T.location.nativeElement,W=T.injector.get(LD,null),K=W&&T.injector.get(VD);return W&&K&&K.registerApplication(M,W),T.onDestroy(()=>{this.detachView(T.hostView),vb(this.components,T),K&&K.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ot(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;vb(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(RD,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(Xt(Yu),Xt(yl),Xt(us),Xt(Ch),Xt(db))},n.\u0275prov=pn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vb(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let WD=!0,zD=!1;function z1(){return zD=!0,WD}function q1(){if(zD)throw new Error("Cannot enable prod mode after platform setup.");WD=!1}let Z1=(()=>{class n{}return n.__NG_ELEMENT_ID__=K1,n})();function K1(n){return function Y1(n,r,o){if(Gi(n)&&!o){const a=yn(n.index,r);return new Nf(a,a)}return 47&n.type?new Nf(r[16],r):null}(vn(),$(),16==(16&n))}class YD{constructor(){}supports(r){return bd(r)}create(r){return new nw(r)}}const tw=(n,r)=>r;class nw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||tw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,d=0,g=null;for(;o||a;){const D=!a||o&&o.currentIndex<QD(a,d,g)?o:a,T=QD(D,d,g),M=D.currentIndex;if(D===a)d--,a=a._nextRemoved;else if(o=o._next,null==D.previousIndex)d++;else{g||(g=[]);const W=T-d,K=M-d;if(W!=K){for(let we=0;we<W;we++){const Ve=we<g.length?g[we]:g[we]=0,ct=Ve+we;K<=ct&&ct<W&&(g[we]=Ve+1)}g[D.previousIndex]=K-W}}T!==M&&r(D,T,M)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!bd(r))throw new ot(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,D,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)g=r[T],D=this._trackByFn(T,g),null!==o&&Object.is(o.trackById,D)?(a&&(o=this._verifyReinsertion(o,g,D,T)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,D,T),a=!0),o=o._next}else d=0,function Jg(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Cc()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,T=>{D=this._trackByFn(d,T),null!==o&&Object.is(o.trackById,D)?(a&&(o=this._verifyReinsertion(o,T,D,d)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,D,d),a=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,d)):r=this._addAfter(new rw(o,a),g,d),r}_verifyReinsertion(r,o,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const d=null===o?this._itHead:o._next;return r._next=d,r._prev=o,null===d?this._itTail=r:d._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new JD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class rw{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class JD{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new iw,this.map.set(o,a)),a.add(r)}get(r,o){const d=this.map.get(r);return d?d.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QD(n,r,o){const a=n.previousIndex;if(null===a)return a;let d=0;return o&&a<o.length&&(d=o[a]),a+r+d}class XD{constructor(){}supports(r){return r instanceof Map||Qg(r)}create(){return new sw}}class sw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Qg(r)))throw new ot(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(d,a);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,o);const g=d._prev,D=d._next;return g&&(g._next=D),D&&(D._prev=g),d._next=null,d._prev=null,d}const a=new ow(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class ow{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e1(){return new Cb([new YD])}let Cb=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||e1()),deps:[[n,new Ha,new is]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new ot(901,"")}}return n.\u0275prov=pn({token:n,providedIn:"root",factory:e1}),n})();function t1(){return new Tb([new XD])}let Tb=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||t1()),deps:[[n,new Ha,new is]]}}find(o){const a=this.factories.find(g=>g.supports(o));if(a)return a;throw new ot(901,"")}}return n.\u0275prov=pn({token:n,providedIn:"root",factory:t1}),n})();const uw=UD(null,"core",[{provide:xD,useValue:"unknown"},{provide:GD,deps:[yl]},{provide:VD,deps:[]},{provide:PD,deps:[]}]);let cw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Xt(yb))},n.\u0275mod=Re({type:n}),n.\u0275inj=Pn({}),n})()},2382:(Nt,He,G)=>{G.d(He,{Fj:()=>Ke,u5:()=>Yt,JU:()=>ot,JJ:()=>Mn,JL:()=>Mr,F:()=>sn,On:()=>Os,_Y:()=>ga});var u=G(5e3),I=G(9808),z=G(8306),Ce=G(4742),ye=G(8421),Ae=G(3269),xe=G(5403),Ie=G(3268),Pe=G(1810),he=G(8996),De=G(4004);let Ue=(()=>{class U{constructor(x,$){this._renderer=x,this._elementRef=$,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(x,$){this._renderer.setProperty(this._elementRef.nativeElement,x,$)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return U.\u0275fac=function(x){return new(x||U)(u.Y36(u.Qsj),u.Y36(u.SBq))},U.\u0275dir=u.lG2({type:U}),U})(),Ze=(()=>{class U extends Ue{}return U.\u0275fac=function(){let R;return function($){return(R||(R=u.n5z(U)))($||U)}}(),U.\u0275dir=u.lG2({type:U,features:[u.qOj]}),U})();const ot=new u.OlP("NgValueAccessor"),et={provide:ot,useExisting:(0,u.Gpc)(()=>Ke),multi:!0},bt=new u.OlP("CompositionEventMode");let Ke=(()=>{class U extends Ue{constructor(x,$,Le){super(x,$),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const U=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(x){this.setProperty("value",null==x?"":x)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return U.\u0275fac=function(x){return new(x||U)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(bt,8))},U.\u0275dir=u.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,$){1&x&&u.NdJ("input",function(Bt){return $._handleInput(Bt.target.value)})("blur",function(){return $.onTouched()})("compositionstart",function(){return $._compositionStart()})("compositionend",function(Bt){return $._compositionEnd(Bt.target.value)})},features:[u._Bn([et]),u.qOj]}),U})();const Qe=new u.OlP("NgValidators"),vt=new u.OlP("NgAsyncValidators");function en(U){return null!=U}function qt(U){const R=(0,u.QGY)(U)?(0,he.D)(U):U;return(0,u.CqO)(R),R}function Wt(U){let R={};return U.forEach(x=>{R=null!=x?Object.assign(Object.assign({},R),x):R}),0===Object.keys(R).length?null:R}function Ln(U,R){return R.map(x=>x(U))}function cr(U){return U.map(R=>function pn(U){return!U.validate}(R)?R:x=>R.validate(x))}function un(U){return null!=U?function Pn(U){if(!U)return null;const R=U.filter(en);return 0==R.length?null:function(x){return Wt(Ln(x,R))}}(cr(U)):null}function ai(U){return null!=U?function Ur(U){if(!U)return null;const R=U.filter(en);return 0==R.length?null:function(x){return function ce(...U){const R=(0,Ae.jO)(U),{args:x,keys:$}=(0,Ce.D)(U),Le=new z.y(Bt=>{const{length:vn}=x;if(!vn)return void Bt.complete();const ki=new Array(vn);let $i=vn,_i=vn;for(let yo=0;yo<vn;yo++){let vo=!1;(0,ye.Xf)(x[yo]).subscribe((0,xe.x)(Bt,Ka=>{vo||(vo=!0,_i--),ki[yo]=Ka},()=>$i--,void 0,()=>{(!$i||!vo)&&(_i||Bt.next($?(0,Pe.n)($,ki):ki),Bt.complete())}))}});return R?Le.pipe((0,Ie.Z)(R)):Le}(Ln(x,R).map(qt)).pipe((0,De.U)(Wt))}}(cr(U)):null}function ji(U,R){return null===U?[R]:Array.isArray(U)?[...U,R]:[U,R]}function Nr(U){return U?Array.isArray(U)?U:[U]:[]}function qn(U,R){return Array.isArray(U)?U.includes(R):U===R}function Mi(U,R){const x=Nr(R);return Nr(U).forEach(Le=>{qn(x,Le)||x.push(Le)}),x}function xt(U,R){return Nr(R).filter(x=>!qn(U,x))}class ri{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=un(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=ai(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,x){return!!this.control&&this.control.hasError(R,x)}getError(R,x){return this.control?this.control.getError(R,x):null}}class tr extends ri{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Et extends ri{get formDirective(){return null}get path(){return null}}class _r{constructor(R){this._cd=R}is(R){var x,$,Le;return"submitted"===R?!!(null===(x=this._cd)||void 0===x?void 0:x.submitted):!!(null===(Le=null===($=this._cd)||void 0===$?void 0:$.control)||void 0===Le?void 0:Le[R])}}let Mn=(()=>{class U extends _r{constructor(x){super(x)}}return U.\u0275fac=function(x){return new(x||U)(u.Y36(tr,2))},U.\u0275dir=u.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,$){2&x&&u.ekj("ng-untouched",$.is("untouched"))("ng-touched",$.is("touched"))("ng-pristine",$.is("pristine"))("ng-dirty",$.is("dirty"))("ng-valid",$.is("valid"))("ng-invalid",$.is("invalid"))("ng-pending",$.is("pending"))},features:[u.qOj]}),U})(),Mr=(()=>{class U extends _r{constructor(x){super(x)}}return U.\u0275fac=function(x){return new(x||U)(u.Y36(Et,10))},U.\u0275dir=u.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,$){2&x&&u.ekj("ng-untouched",$.is("untouched"))("ng-touched",$.is("touched"))("ng-pristine",$.is("pristine"))("ng-dirty",$.is("dirty"))("ng-valid",$.is("valid"))("ng-invalid",$.is("invalid"))("ng-pending",$.is("pending"))("ng-submitted",$.is("submitted"))},features:[u.qOj]}),U})();function Kt(U,R){Ee(U,R),R.valueAccessor.writeValue(U.value),function Re(U,R){R.valueAccessor.registerOnChange(x=>{U._pendingValue=x,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&zt(U,R)})}(U,R),function hn(U,R){const x=($,Le)=>{R.valueAccessor.writeValue($),Le&&R.viewToModelUpdate($)};U.registerOnChange(x),R._registerOnDestroy(()=>{U._unregisterOnChange(x)})}(U,R),function _t(U,R){R.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&zt(U,R),"submit"!==U.updateOn&&U.markAsTouched()})}(U,R),function te(U,R){if(R.valueAccessor.setDisabledState){const x=$=>{R.valueAccessor.setDisabledState($)};U.registerOnDisabledChange(x),R._registerOnDestroy(()=>{U._unregisterOnDisabledChange(x)})}}(U,R)}function pe(U,R){U.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(R)})}function Ee(U,R){const x=function dr(U){return U._rawValidators}(U);null!==R.validator?U.setValidators(ji(x,R.validator)):"function"==typeof x&&U.setValidators([x]);const $=function li(U){return U._rawAsyncValidators}(U);null!==R.asyncValidator?U.setAsyncValidators(ji($,R.asyncValidator)):"function"==typeof $&&U.setAsyncValidators([$]);const Le=()=>U.updateValueAndValidity();pe(R._rawValidators,Le),pe(R._rawAsyncValidators,Le)}function zt(U,R){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Qn(U,R){const x=U.indexOf(R);x>-1&&U.splice(x,1)}const at="VALID",jt="INVALID",Cn="PENDING",yr="DISABLED";function vr(U){return(wr(U)?U.validators:U)||null}function ci(U){return Array.isArray(U)?un(U):U||null}function xn(U,R){return(wr(R)?R.asyncValidators:U)||null}function fr(U){return Array.isArray(U)?ai(U):U||null}function wr(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}const pi=U=>U instanceof X;function hs(U){return(U=>U instanceof le)(U)?U.value:U.getRawValue()}function di(U,R){const x=pi(U),$=U.controls;if(!(x?Object.keys($):$).length)throw new u.vHH(1e3,"");if(!$[R])throw new u.vHH(1001,"")}function Er(U,R){pi(U),U._forEachChild(($,Le)=>{if(void 0===R[Le])throw new u.vHH(1002,"")})}class de{constructor(R,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=x,this._composedValidatorFn=ci(this._rawValidators),this._composedAsyncValidatorFn=fr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===at}get invalid(){return this.status===jt}get pending(){return this.status==Cn}get disabled(){return this.status===yr}get enabled(){return this.status!==yr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=ci(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=fr(R)}addValidators(R){this.setValidators(Mi(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Mi(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(xt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(xt(R,this._rawAsyncValidators))}hasValidator(R){return qn(this._rawValidators,R)}hasAsyncValidator(R){return qn(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=Cn,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const x=this._parentMarkedDirty(R.onlySelf);this.status=yr,this.errors=null,this._forEachChild($=>{$.disable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:x})),this._onDisabledChange.forEach($=>$(!0))}enable(R={}){const x=this._parentMarkedDirty(R.onlySelf);this.status=at,this._forEachChild($=>{$.enable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:x})),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===Cn)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yr:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=Cn,this._hasOwnPendingAsyncValidator=!0;const x=qt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,x={}){this.errors=R,this._updateControlsErrors(!1!==x.emitEvent)}get(R){return function Ri(U,R,x){if(null==R||(Array.isArray(R)||(R=R.split(x)),Array.isArray(R)&&0===R.length))return null;let $=U;return R.forEach(Le=>{$=pi($)?$.controls.hasOwnProperty(Le)?$.controls[Le]:null:(U=>U instanceof fe)($)&&$.at(Le)||null}),$}(this,R,".")}getError(R,x){const $=x?this.get(x):this;return $&&$.errors?$.errors[R]:null}hasError(R,x){return!!this.getError(R,x)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?yr:this.errors?jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cn)?Cn:this._anyControlsHaveStatus(jt)?jt:at}_anyControlsHaveStatus(R){return this._anyControls(x=>x.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_isBoxedValue(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){wr(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class le extends de{constructor(R=null,x,$){super(vr(x),xn($,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wr(x)&&x.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(R)?R.value:R)}setValue(R,x={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(R,x={}){this.setValue(R,x)}reset(R=this.defaultValue,x={}){this._applyFormState(R),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Qn(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Qn(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){this._isBoxedValue(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}}class X extends de{constructor(R,x,$){super(vr(x),xn($,x)),this.controls=R,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,x){return this.controls[R]?this.controls[R]:(this.controls[R]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(R,x,$={}){this.registerControl(R,x),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(R,x={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(R,x,$={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],x&&this.registerControl(R,x),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,x={}){Er(this,R),Object.keys(R).forEach($=>{di(this,$),this.controls[$].setValue(R[$],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(R,x={}){null!=R&&(Object.keys(R).forEach($=>{this.controls[$]&&this.controls[$].patchValue(R[$],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(R={},x={}){this._forEachChild(($,Le)=>{$.reset(R[Le],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(R,x,$)=>(R[$]=hs(x),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(x,$)=>!!$._syncPendingControls()||x);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(x=>{const $=this.controls[x];$&&R($,x)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const x of Object.keys(this.controls)){const $=this.controls[x];if(this.contains(x)&&R($))return!0}return!1}_reduceValue(){return this._reduceChildren({},(R,x,$)=>((x.enabled||this.disabled)&&(R[$]=x.value),R))}_reduceChildren(R,x){let $=R;return this._forEachChild((Le,Bt)=>{$=x($,Le,Bt)}),$}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class fe extends de{constructor(R,x,$){super(vr(x),xn($,x)),this.controls=R,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[R]}push(R,x={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(R,x,$={}){this.controls.splice(R,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(R,x={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(R,x,$={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),x&&(this.controls.splice(R,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,x={}){Er(this,R),R.forEach(($,Le)=>{di(this,Le),this.at(Le).setValue($,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(R,x={}){null!=R&&(R.forEach(($,Le)=>{this.at(Le)&&this.at(Le).patchValue($,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(R=[],x={}){this._forEachChild(($,Le)=>{$.reset(R[Le],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(R=>hs(R))}clear(R={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_syncPendingControls(){let R=this.controls.reduce((x,$)=>!!$._syncPendingControls()||x,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((x,$)=>{R(x,$)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(x=>x.enabled&&R(x))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}}const Xe={provide:Et,useExisting:(0,u.Gpc)(()=>sn)},It=(()=>Promise.resolve(null))();let sn=(()=>{class U extends Et{constructor(x,$){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new X({},un(x),ai($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){It.then(()=>{const $=this._findContainer(x.path);x.control=$.registerControl(x.name,x.control),Kt(x.control,x),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){It.then(()=>{const $=this._findContainer(x.path);$&&$.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){It.then(()=>{const $=this._findContainer(x.path),Le=new X({});(function lr(U,R){Ee(U,R)})(Le,x),$.registerControl(x.name,Le),Le.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){It.then(()=>{const $=this._findContainer(x.path);$&&$.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,$){It.then(()=>{this.form.get(x.path).setValue($)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,function ds(U,R){U._syncPendingControls(),R.forEach(x=>{const $=x.control;"submit"===$.updateOn&&$._pendingChange&&(x.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}}return U.\u0275fac=function(x){return new(x||U)(u.Y36(Qe,10),u.Y36(vt,10))},U.\u0275dir=u.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(x,$){1&x&&u.NdJ("submit",function(Bt){return $.onSubmit(Bt)})("reset",function(){return $.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Xe]),u.qOj]}),U})();const Hi={provide:tr,useExisting:(0,u.Gpc)(()=>Os)},Or=(()=>Promise.resolve(null))();let Os=(()=>{class U extends tr{constructor(x,$,Le,Bt,vn){super(),this._changeDetectorRef=vn,this.control=new le,this._registered=!1,this.update=new u.vpe,this._parent=x,this._setValidators($),this._setAsyncValidators(Le),this.valueAccessor=function ur(U,R){if(!R)return null;let x,$,Le;return Array.isArray(R),R.forEach(Bt=>{Bt.constructor===Ke?x=Bt:function jr(U){return Object.getPrototypeOf(U.constructor)===Ze}(Bt)?$=Bt:Le=Bt}),Le||$||x||null}(0,Bt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const $=x.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function xi(U,R){if(!U.hasOwnProperty("model"))return!1;const x=U.model;return!!x.isFirstChange()||!Object.is(R,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Or.then(()=>{var $;this.control.setValue(x,{emitViewToModelChange:!1}),null===($=this._changeDetectorRef)||void 0===$||$.markForCheck()})}_updateDisabled(x){const $=x.isDisabled.currentValue,Le=""===$||$&&"false"!==$;Or.then(()=>{var Bt;Le&&!this.control.disabled?this.control.disable():!Le&&this.control.disabled&&this.control.enable(),null===(Bt=this._changeDetectorRef)||void 0===Bt||Bt.markForCheck()})}_getPath(x){return this._parent?function Zt(U,R){return[...R.path,U]}(x,this._parent):[x]}}return U.\u0275fac=function(x){return new(x||U)(u.Y36(Et,9),u.Y36(Qe,10),u.Y36(vt,10),u.Y36(ot,10),u.Y36(u.sBO,8))},U.\u0275dir=u.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Hi]),u.qOj,u.TTD]}),U})(),ga=(()=>{class U{}return U.\u0275fac=function(x){return new(x||U)},U.\u0275dir=u.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})(),Pi=(()=>{class U{}return U.\u0275fac=function(x){return new(x||U)},U.\u0275mod=u.oAB({type:U}),U.\u0275inj=u.cJS({}),U})(),Li=(()=>{class U{}return U.\u0275fac=function(x){return new(x||U)},U.\u0275mod=u.oAB({type:U}),U.\u0275inj=u.cJS({imports:[[Pi]]}),U})(),Yt=(()=>{class U{}return U.\u0275fac=function(x){return new(x||U)},U.\u0275mod=u.oAB({type:U}),U.\u0275inj=u.cJS({imports:[Li]}),U})()},9100:(Nt,He,G)=>{G.d(He,{F0:()=>ns,rH:()=>Ts,Bz:()=>qi,lC:()=>Bs});var u=G(5e3),I=G(8306),z=G(576);function Ce(N,C){const w=(0,z.m)(N)?N:()=>N,k=P=>P.error(w());return new I.y(C?P=>C.schedule(k,0,P):k)}var ye=G(8421);function Ae(N){return new I.y(C=>{(0,ye.Xf)(N()).subscribe(C)})}var xe=G(727),Ie=G(4482),Pe=G(5403);function ce(){return(0,Ie.e)((N,C)=>{let w=null;N._refCount++;const k=(0,Pe.x)(C,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(w=null);const P=N._connection,Z=w;w=null,P&&(!Z||P===Z)&&P.unsubscribe(),C.unsubscribe()});N.subscribe(k),k.closed||(w=N.connect())})}class he extends I.y{constructor(C,w){super(),this.source=C,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ie.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,null==C||C.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new xe.w0;const w=this.getSubject();C.add(this.source.subscribe((0,Pe.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),C.closed&&(this._connection=null,C=xe.w0.EMPTY)}return C}refCount(){return ce()(this)}}var De=G(8996),Ue=G(9646),Ze=G(1135),ot=G(9841),ft=G(6805),je=G(7272),et=G(515),Tt=G(7579);function bt(N){return(0,Ie.e)((C,w)=>{let Z,k=null,P=!1;k=C.subscribe((0,Pe.x)(w,void 0,void 0,se=>{Z=(0,ye.Xf)(N(se,bt(N)(C))),k?(k.unsubscribe(),k=null,Z.subscribe(w)):P=!0})),P&&(k.unsubscribe(),k=null,Z.subscribe(w))})}var Ke=G(5577);function Ye(N,C){return(0,z.m)(C)?(0,Ke.z)(N,C,1):(0,Ke.z)(N,1)}var Je=G(9300);function Qe(N){return N<=0?()=>et.E:(0,Ie.e)((C,w)=>{let k=[];C.subscribe((0,Pe.x)(w,P=>{k.push(P),N<k.length&&k.shift()},()=>{for(const P of k)w.next(P);w.complete()},void 0,()=>{k=null}))})}var vt=G(8068),be=G(6590),ie=G(4671),Oe=G(4004),it=G(3900),Ge=G(5698),Gt=G(8675),_n=G(5026),Jn=G(590),Mt=G(8505),en=G(8189),qt=G(9808);class Wt{constructor(C,w){this.id=C,this.url=w}}class Ln extends Wt{constructor(C,w,k="imperative",P=null){super(C,w),this.navigationTrigger=k,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends Wt{constructor(C,w,k){super(C,w),this.urlAfterRedirects=k}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cr extends Wt{constructor(C,w,k){super(C,w),this.reason=k}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pn extends Wt{constructor(C,w,k){super(C,w),this.error=k}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class un extends Wt{constructor(C,w,k,P){super(C,w),this.urlAfterRedirects=k,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur extends Wt{constructor(C,w,k,P){super(C,w),this.urlAfterRedirects=k,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends Wt{constructor(C,w,k,P,Z){super(C,w),this.urlAfterRedirects=k,this.state=P,this.shouldActivate=Z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ji extends Wt{constructor(C,w,k,P){super(C,w),this.urlAfterRedirects=k,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends Wt{constructor(C,w,k,P){super(C,w),this.urlAfterRedirects=k,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nr{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qn{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(C,w,k){this.routerEvent=C,this.position=w,this.anchor=k}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Et="primary";class _r{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w[0]:w}return null}getAll(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Oi(N){return new _r(N)}const nr="ngNavigationCancelingError";function Mn(N){const C=Error("NavigationCancelingError: "+N);return C[nr]=!0,C}function hr(N,C,w){const k=w.path.split("/");if(k.length>N.length||"full"===w.pathMatch&&(C.hasChildren()||k.length<N.length))return null;const P={};for(let Z=0;Z<k.length;Z++){const se=k[Z],ge=N[Z];if(se.startsWith(":"))P[se.substring(1)]=ge;else if(se!==ge.path)return null}return{consumed:N.slice(0,k.length),posParams:P}}function Ot(N,C){const w=N?Object.keys(N):void 0,k=C?Object.keys(C):void 0;if(!w||!k||w.length!=k.length)return!1;let P;for(let Z=0;Z<w.length;Z++)if(P=w[Z],!Ht(N[P],C[P]))return!1;return!0}function Ht(N,C){if(Array.isArray(N)&&Array.isArray(C)){if(N.length!==C.length)return!1;const w=[...N].sort(),k=[...C].sort();return w.every((P,Z)=>k[Z]===P)}return N===C}function ar(N){return Array.prototype.concat.apply([],N)}function Ci(N){return N.length>0?N[N.length-1]:null}function rr(N,C){for(const w in N)N.hasOwnProperty(w)&&C(N[w],w)}function Gn(N){return(0,u.CqO)(N)?N:(0,u.QGY)(N)?(0,De.D)(Promise.resolve(N)):(0,Ue.of)(N)}const Qt={exact:function dt(N,C,w){if(!Re(N.segments,C.segments)||!an(N.segments,C.segments,w)||N.numberOfChildren!==C.numberOfChildren)return!1;for(const k in C.children)if(!N.children[k]||!dt(N.children[k],C.children[k],w))return!1;return!0},subset:Zt},ui={exact:function Rt(N,C){return Ot(N,C)},subset:function Lt(N,C){return Object.keys(C).length<=Object.keys(N).length&&Object.keys(C).every(w=>Ht(N[w],C[w]))},ignored:()=>!0};function En(N,C,w){return Qt[w.paths](N.root,C.root,w.matrixParams)&&ui[w.queryParams](N.queryParams,C.queryParams)&&!("exact"===w.fragment&&N.fragment!==C.fragment)}function Zt(N,C,w){return Kt(N,C,C.segments,w)}function Kt(N,C,w,k){if(N.segments.length>w.length){const P=N.segments.slice(0,w.length);return!(!Re(P,w)||C.hasChildren()||!an(P,w,k))}if(N.segments.length===w.length){if(!Re(N.segments,w)||!an(N.segments,w,k))return!1;for(const P in C.children)if(!N.children[P]||!Zt(N.children[P],C.children[P],k))return!1;return!0}{const P=w.slice(0,N.segments.length),Z=w.slice(N.segments.length);return!!(Re(N.segments,P)&&an(N.segments,P,k)&&N.children[Et])&&Kt(N.children[Et],C,Z,k)}}function an(N,C,w){return C.every((k,P)=>ui[w](N[P].parameters,k.parameters))}class pe{constructor(C,w,k){this.root=C,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return lr.serialize(this)}}class te{constructor(C,w){this.segments=C,this.children=w,this.parent=null,rr(w,(k,P)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class Ee{constructor(C,w){this.path=C,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Oi(this.parameters)),this._parameterMap}toString(){return ur(this)}}function Re(N,C){return N.length===C.length&&N.every((w,k)=>w.path===C[k].path)}class zt{}class hn{parse(C){const w=new vr(C);return new pe(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(C){const w=`/${Vn(C.root,!0)}`,k=function Zr(N){const C=Object.keys(N).map(w=>{const k=N[w];return Array.isArray(k)?k.map(P=>`${On(w)}=${On(P)}`).join("&"):`${On(w)}=${On(k)}`}).filter(w=>!!w);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${w}${k}${"string"==typeof C.fragment?`#${function Zn(N){return encodeURI(N)}(C.fragment)}`:""}`}}const lr=new hn;function gn(N){return N.segments.map(C=>ur(C)).join("/")}function Vn(N,C){if(!N.hasChildren())return gn(N);if(C){const w=N.children[Et]?Vn(N.children[Et],!1):"",k=[];return rr(N.children,(P,Z)=>{Z!==Et&&k.push(`${Z}:${Vn(P,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function _t(N,C){let w=[];return rr(N.children,(k,P)=>{P===Et&&(w=w.concat(C(k,P)))}),rr(N.children,(k,P)=>{P!==Et&&(w=w.concat(C(k,P)))}),w}(N,(k,P)=>P===Et?[Vn(N.children[Et],!1)]:[`${P}:${Vn(k,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[Et]?`${gn(N)}/${w[0]}`:`${gn(N)}/(${w.join("//")})`}}function ln(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function On(N){return ln(N).replace(/%3B/gi,";")}function xi(N){return ln(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jr(N){return decodeURIComponent(N)}function ds(N){return jr(N.replace(/\+/g,"%20"))}function ur(N){return`${xi(N.path)}${function Qn(N){return Object.keys(N).map(C=>`;${xi(C)}=${xi(N[C])}`).join("")}(N.parameters)}`}const Kr=/^[^\/()?;=#]+/;function at(N){const C=N.match(Kr);return C?C[0]:""}const jt=/^[^=?&#]+/,yr=/^[^&#]+/;class vr{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(C.length>0||Object.keys(w).length>0)&&(k[Et]=new te(C,w)),k}parseSegment(){const C=at(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new Ee(jr(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const w=at(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const P=at(this.remaining);P&&(k=P,this.capture(k))}C[jr(w)]=jr(k)}parseQueryParam(C){const w=function Cn(N){const C=N.match(jt);return C?C[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const se=function Ri(N){const C=N.match(yr);return C?C[0]:""}(this.remaining);se&&(k=se,this.capture(k))}const P=ds(w),Z=ds(k);if(C.hasOwnProperty(P)){let se=C[P];Array.isArray(se)||(se=[se],C[P]=se),se.push(Z)}else C[P]=Z}parseParens(C){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=at(this.remaining),P=this.remaining[k.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let Z;k.indexOf(":")>-1?(Z=k.substr(0,k.indexOf(":")),this.capture(Z),this.capture(":")):C&&(Z=Et);const se=this.parseChildren();w[Z]=1===Object.keys(se).length?se[Et]:new te([],se),this.consumeOptional("//")}return w}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class ci{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const w=this.pathFromRoot(C);return w.length>1?w[w.length-2]:null}children(C){const w=xn(C,this._root);return w?w.children.map(k=>k.value):[]}firstChild(C){const w=xn(C,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(C){const w=fr(C,this._root);return w.length<2?[]:w[w.length-2].children.map(P=>P.value).filter(P=>P!==C)}pathFromRoot(C){return fr(C,this._root).map(w=>w.value)}}function xn(N,C){if(N===C.value)return C;for(const w of C.children){const k=xn(N,w);if(k)return k}return null}function fr(N,C){if(N===C.value)return[C];for(const w of C.children){const k=fr(N,w);if(k.length)return k.unshift(C),k}return[]}class wr{constructor(C,w){this.value=C,this.children=w}toString(){return`TreeNode(${this.value})`}}function rn(N){const C={};return N&&N.children.forEach(w=>C[w.value.outlet]=w),C}class pi extends ci{constructor(C,w){super(C),this.snapshot=w,fe(this,C)}toString(){return this.snapshot.toString()}}function Ti(N,C){const w=function hs(N,C){const se=new le([],{},{},"",{},Et,C,null,N.root,-1,{});return new X("",new wr(se,[]))}(N,C),k=new Ze.X([new Ee("",{})]),P=new Ze.X({}),Z=new Ze.X({}),se=new Ze.X({}),ge=new Ze.X(""),Me=new di(k,P,se,ge,Z,Et,C,w.root);return Me.snapshot=w.root,new pi(new wr(Me,[]),w)}class di{constructor(C,w,k,P,Z,se,ge,Me){this.url=C,this.params=w,this.queryParams=k,this.fragment=P,this.data=Z,this.outlet=se,this.component=ge,this._futureSnapshot=Me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(C=>Oi(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(C=>Oi(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Er(N,C="emptyOnly"){const w=N.pathFromRoot;let k=0;if("always"!==C)for(k=w.length-1;k>=1;){const P=w[k],Z=w[k-1];if(P.routeConfig&&""===P.routeConfig.path)k--;else{if(Z.component)break;k--}}return function de(N){return N.reduce((C,w)=>({params:Object.assign(Object.assign({},C.params),w.params),data:Object.assign(Object.assign({},C.data),w.data),resolve:Object.assign(Object.assign({},C.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(k))}class le{constructor(C,w,k,P,Z,se,ge,Me,ut,Rn,nt){this.url=C,this.params=w,this.queryParams=k,this.fragment=P,this.data=Z,this.outlet=se,this.component=ge,this.routeConfig=Me,this._urlSegment=ut,this._lastPathIndex=Rn,this._resolve=nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X extends ci{constructor(C,w){super(w),this.url=C,fe(this,w)}toString(){return Xe(this._root)}}function fe(N,C){C.value._routerState=N,C.children.forEach(w=>fe(N,w))}function Xe(N){const C=N.children.length>0?` { ${N.children.map(Xe).join(", ")} } `:"";return`${N.value}${C}`}function It(N){if(N.snapshot){const C=N.snapshot,w=N._futureSnapshot;N.snapshot=w,Ot(C.queryParams,w.queryParams)||N.queryParams.next(w.queryParams),C.fragment!==w.fragment&&N.fragment.next(w.fragment),Ot(C.params,w.params)||N.params.next(w.params),function tn(N,C){if(N.length!==C.length)return!1;for(let w=0;w<N.length;++w)if(!Ot(N[w],C[w]))return!1;return!0}(C.url,w.url)||N.url.next(w.url),Ot(C.data,w.data)||N.data.next(w.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function sn(N,C){const w=Ot(N.params,C.params)&&function $e(N,C){return Re(N,C)&&N.every((w,k)=>Ot(w.parameters,C[k].parameters))}(N.url,C.url);return w&&!(!N.parent!=!C.parent)&&(!N.parent||sn(N.parent,C.parent))}function Gr(N,C,w){if(w&&N.shouldReuseRoute(C.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=C.value;const P=function Gi(N,C,w){return C.children.map(k=>{for(const P of w.children)if(N.shouldReuseRoute(k.value,P.value.snapshot))return Gr(N,k,P);return Gr(N,k)})}(N,C,w);return new wr(k,P)}{if(N.shouldAttach(C.value)){const Z=N.retrieve(C.value);if(null!==Z){const se=Z.route;return se.value._futureSnapshot=C.value,se.children=C.children.map(ge=>Gr(N,ge)),se}}const k=function Xo(N){return new di(new Ze.X(N.url),new Ze.X(N.params),new Ze.X(N.queryParams),new Ze.X(N.fragment),new Ze.X(N.data),N.outlet,N.component,N)}(C.value),P=C.children.map(Z=>Gr(N,Z));return new wr(k,P)}}function mo(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function Ms(N){return"object"==typeof N&&null!=N&&N.outlets}function Hi(N,C,w,k,P){let Z={};if(k&&rr(k,(ge,Me)=>{Z[Me]=Array.isArray(ge)?ge.map(ut=>`${ut}`):`${ge}`}),N===C)return new pe(w,Z,P);const se=Or(N,C,w);return new pe(se,Z,P)}function Or(N,C,w){const k={};return rr(N.children,(P,Z)=>{k[Z]=P===C?w:Or(P,C,w)}),new te(N.segments,k)}class Os{constructor(C,w,k){if(this.isAbsolute=C,this.numberOfDoubleDots=w,this.commands=k,C&&k.length>0&&mo(k[0]))throw new Error("Root segment cannot have matrix parameters");const P=k.find(Ms);if(P&&P!==Ci(k))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ii{constructor(C,w,k){this.segmentGroup=C,this.processChildren=w,this.index=k}}function Pi(N,C,w){if(N||(N=new te([],{})),0===N.segments.length&&N.hasChildren())return Qs(N,C,w);const k=function ta(N,C,w){let k=0,P=C;const Z={match:!1,pathIndex:0,commandIndex:0};for(;P<N.segments.length;){if(k>=w.length)return Z;const se=N.segments[P],ge=w[k];if(Ms(ge))break;const Me=`${ge}`,ut=k<w.length-1?w[k+1]:null;if(P>0&&void 0===Me)break;if(Me&&ut&&"object"==typeof ut&&void 0===ut.outlets){if(!Ji(Me,ut,se))return Z;k+=2}else{if(!Ji(Me,{},se))return Z;k++}P++}return{match:!0,pathIndex:P,commandIndex:k}}(N,C,w),P=w.slice(k.commandIndex);if(k.match&&k.pathIndex<N.segments.length){const Z=new te(N.segments.slice(0,k.pathIndex),{});return Z.children[Et]=new te(N.segments.slice(k.pathIndex),N.children),Qs(Z,0,P)}return k.match&&0===P.length?new te(N.segments,{}):k.match&&!N.hasChildren()?na(N,C,w):k.match?Qs(N,0,P):na(N,C,w)}function Qs(N,C,w){if(0===w.length)return new te(N.segments,{});{const k=function ea(N){return Ms(N[0])?N[0].outlets:{[Et]:N}}(w),P={};return rr(k,(Z,se)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(P[se]=Pi(N.children[se],C,Z))}),rr(N.children,(Z,se)=>{void 0===k[se]&&(P[se]=Z)}),new te(N.segments,P)}}function na(N,C,w){const k=N.segments.slice(0,C);let P=0;for(;P<w.length;){const Z=w[P];if(Ms(Z)){const Me=Oo(Z.outlets);return new te(k,Me)}if(0===P&&mo(w[0])){k.push(new Ee(N.segments[C].path,Xs(w[0]))),P++;continue}const se=Ms(Z)?Z.outlets[Et]:`${Z}`,ge=P<w.length-1?w[P+1]:null;se&&ge&&mo(ge)?(k.push(new Ee(se,Xs(ge))),P+=2):(k.push(new Ee(se,{})),P++)}return new te(k,{})}function Oo(N){const C={};return rr(N,(w,k)=>{"string"==typeof w&&(w=[w]),null!==w&&(C[k]=na(new te([],{}),0,w))}),C}function Xs(N){const C={};return rr(N,(w,k)=>C[k]=`${w}`),C}function Ji(N,C,w){return N==w.path&&Ot(C,w.parameters)}class vs{constructor(C,w,k,P){this.routeReuseStrategy=C,this.futureState=w,this.currState=k,this.forwardEvent=P}activate(C){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,C),It(this.futureState.root),this.activateChildRoutes(w,k,C)}deactivateChildRoutes(C,w,k){const P=rn(w);C.children.forEach(Z=>{const se=Z.value.outlet;this.deactivateRoutes(Z,P[se],k),delete P[se]}),rr(P,(Z,se)=>{this.deactivateRouteAndItsChildren(Z,k)})}deactivateRoutes(C,w,k){const P=C.value,Z=w?w.value:null;if(P===Z)if(P.component){const se=k.getContext(P.outlet);se&&this.deactivateChildRoutes(C,w,se.children)}else this.deactivateChildRoutes(C,w,k);else Z&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(C,w){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,w):this.deactivateRouteAndOutlet(C,w)}detachAndStoreRouteSubtree(C,w){const k=w.getContext(C.value.outlet),P=k&&C.value.component?k.children:w,Z=rn(C);for(const se of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[se],P);if(k&&k.outlet){const se=k.outlet.detach(),ge=k.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:se,route:C,contexts:ge})}}deactivateRouteAndOutlet(C,w){const k=w.getContext(C.value.outlet),P=k&&C.value.component?k.children:w,Z=rn(C);for(const se of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[se],P);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(C,w,k){const P=rn(w);C.children.forEach(Z=>{this.activateRoutes(Z,P[Z.value.outlet],k),this.forwardEvent(new ri(Z.value.snapshot))}),C.children.length&&this.forwardEvent(new Mi(C.value.snapshot))}activateRoutes(C,w,k){const P=C.value,Z=w?w.value:null;if(It(P),P===Z)if(P.component){const se=k.getOrCreateContext(P.outlet);this.activateChildRoutes(C,w,se.children)}else this.activateChildRoutes(C,w,k);else if(P.component){const se=k.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ge=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),se.children.onOutletReAttached(ge.contexts),se.attachRef=ge.componentRef,se.route=ge.route.value,se.outlet&&se.outlet.attach(ge.componentRef,ge.route.value),It(ge.route.value),this.activateChildRoutes(C,null,se.children)}else{const ge=function Qi(N){for(let C=N.parent;C;C=C.parent){const w=C.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(P.snapshot),Me=ge?ge.module.componentFactoryResolver:null;se.attachRef=null,se.route=P,se.resolver=Me,se.outlet&&se.outlet.activateWith(P,Me),this.activateChildRoutes(C,null,se.children)}}else this.activateChildRoutes(C,null,k)}}class eo{constructor(C,w){this.routes=C,this.module=w}}function mi(N){return"function"==typeof N}function Fr(N){return N instanceof pe}const to=Symbol("INITIAL_VALUE");function es(){return(0,it.w)(N=>(0,ot.a)(N.map(C=>C.pipe((0,Ge.q)(1),(0,Gt.O)(to)))).pipe((0,_n.R)((C,w)=>{let k=!1;return w.reduce((P,Z,se)=>P!==to?P:(Z===to&&(k=!0),k||!1!==Z&&se!==w.length-1&&!Fr(Z)?P:Z),C)},to),(0,Je.h)(C=>C!==to),(0,Oe.U)(C=>Fr(C)?C:!0===C),(0,Ge.q)(1)))}class ws{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hr,this.attachRef=null}}class Hr{constructor(){this.contexts=new Map}onChildOutletCreated(C,w){const k=this.getOrCreateContext(C);k.outlet=w,this.contexts.set(C,k)}onChildOutletDestroyed(C){const w=this.getContext(C);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let w=this.getContext(C);return w||(w=new ws,this.contexts.set(C,w)),w}getContext(C){return this.contexts.get(C)||null}}let Bs=(()=>{class N{constructor(w,k,P,Z,se){this.parentContexts=w,this.location=k,this.resolver=P,this.changeDetector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=Z||Et,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const se=(k=k||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),ge=this.parentContexts.getOrCreateContext(this.name).children,Me=new Rs(w,ge,this.location.injector);this.activated=this.location.createComponent(se,this.location.length,Me),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(Hr),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},N.\u0275dir=u.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),N})();class Rs{constructor(C,w,k){this.route=C,this.childContexts=w,this.parent=k}get(C,w){return C===di?this.route:C===Hr?this.childContexts:this.parent.get(C,w)}}let Yr=(()=>{class N{}return N.\u0275fac=function(w){return new(w||N)},N.\u0275cmp=u.Xpm({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,k){1&w&&u._UZ(0,"router-outlet")},directives:[Bs],encapsulation:2}),N})();function Lr(N,C=""){for(let w=0;w<N.length;w++){const k=N[w];_o(k,xo(C,k))}}function _o(N,C){N.children&&Lr(N.children,C)}function xo(N,C){return C?N||C.path?N&&!C.path?`${N}/`:!N&&C.path?C.path:`${N}/${C.path}`:"":N}function Us(N){const C=N.children&&N.children.map(Us),w=C?Object.assign(Object.assign({},N),{children:C}):Object.assign({},N);return!w.component&&(C||w.loadChildren)&&w.outlet&&w.outlet!==Et&&(w.component=Yr),w}function $r(N){return N.outlet||Et}function js(N,C){const w=N.filter(k=>$r(k)===C);return w.push(...N.filter(k=>$r(k)!==C)),w}const Cr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Es(N,C,w){var k;if(""===C.path)return"full"===C.pathMatch&&(N.hasChildren()||w.length>0)?Object.assign({},Cr):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const Z=(C.matcher||hr)(w,N,C);if(!Z)return Object.assign({},Cr);const se={};rr(Z.posParams,(Me,ut)=>{se[ut]=Me.path});const ge=Z.consumed.length>0?Object.assign(Object.assign({},se),Z.consumed[Z.consumed.length-1].parameters):se;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:w.slice(Z.consumed.length),parameters:ge,positionalParamSegments:null!==(k=Z.posParams)&&void 0!==k?k:{}}}function Gs(N,C,w,k,P="corrected"){if(w.length>0&&function Y(N,C,w){return w.some(k=>Q(N,C,k)&&$r(k)!==Et)}(N,w,k)){const se=new te(C,function F(N,C,w,k){const P={};P[Et]=k,k._sourceSegment=N,k._segmentIndexShift=C.length;for(const Z of w)if(""===Z.path&&$r(Z)!==Et){const se=new te([],{});se._sourceSegment=N,se._segmentIndexShift=C.length,P[$r(Z)]=se}return P}(N,C,k,new te(w,N.children)));return se._sourceSegment=N,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:[]}}if(0===w.length&&function L(N,C,w){return w.some(k=>Q(N,C,k))}(N,w,k)){const se=new te(N.segments,function Hn(N,C,w,k,P,Z){const se={};for(const ge of k)if(Q(N,w,ge)&&!P[$r(ge)]){const Me=new te([],{});Me._sourceSegment=N,Me._segmentIndexShift="legacy"===Z?N.segments.length:C.length,se[$r(ge)]=Me}return Object.assign(Object.assign({},P),se)}(N,C,w,k,N.children,P));return se._sourceSegment=N,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:w}}const Z=new te(N.segments,N.children);return Z._sourceSegment=N,Z._segmentIndexShift=C.length,{segmentGroup:Z,slicedSegments:w}}function Q(N,C,w){return(!(N.hasChildren()||C.length>0)||"full"!==w.pathMatch)&&""===w.path}function me(N,C,w,k){return!!($r(N)===k||k!==Et&&Q(C,w,N))&&("**"===N.path||Es(C,N,w).matched)}function Be(N,C,w){return 0===C.length&&!N.children[w]}class lt{constructor(C){this.segmentGroup=C||null}}class Dt{constructor(C){this.urlTree=C}}function kn(N){return Ce(new lt(N))}function Tn(N){return Ce(new Dt(N))}class Tr{constructor(C,w,k,P,Z){this.configLoader=w,this.urlSerializer=k,this.urlTree=P,this.config=Z,this.allowRedirects=!0,this.ngModule=C.get(u.h0i)}apply(){const C=Gs(this.urlTree.root,[],[],this.config).segmentGroup,w=new te(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,w,Et).pipe((0,Oe.U)(Z=>this.createUrlTree(Cs(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bt(Z=>{if(Z instanceof Dt)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof lt?this.noMatchError(Z):Z}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,Et).pipe((0,Oe.U)(P=>this.createUrlTree(Cs(P),C.queryParams,C.fragment))).pipe(bt(P=>{throw P instanceof lt?this.noMatchError(P):P}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,w,k){const P=C.segments.length>0?new te([],{[Et]:C}):C;return new pe(P,w,k)}expandSegmentGroup(C,w,k,P){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(C,w,k).pipe((0,Oe.U)(Z=>new te([],Z))):this.expandSegment(C,k,w,k.segments,P,!0)}expandChildren(C,w,k){const P=[];for(const Z of Object.keys(k.children))"primary"===Z?P.unshift(Z):P.push(Z);return(0,De.D)(P).pipe(Ye(Z=>{const se=k.children[Z],ge=js(w,Z);return this.expandSegmentGroup(C,ge,se,Z).pipe((0,Oe.U)(Me=>({segment:Me,outlet:Z})))}),(0,_n.R)((Z,se)=>(Z[se.outlet]=se.segment,Z),{}),function ue(N,C){const w=arguments.length>=2;return k=>k.pipe(N?(0,Je.h)((P,Z)=>N(P,Z,k)):ie.y,Qe(1),w?(0,be.d)(C):(0,vt.T)(()=>new ft.K))}())}expandSegment(C,w,k,P,Z,se){return(0,De.D)(k).pipe(Ye(ge=>this.expandSegmentAgainstRoute(C,w,k,ge,P,Z,se).pipe(bt(ut=>{if(ut instanceof lt)return(0,Ue.of)(null);throw ut}))),(0,Jn.P)(ge=>!!ge),bt((ge,Me)=>{if(ge instanceof ft.K||"EmptyError"===ge.name)return Be(w,P,Z)?(0,Ue.of)(new te([],{})):kn(w);throw ge}))}expandSegmentAgainstRoute(C,w,k,P,Z,se,ge){return me(P,w,Z,se)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(C,w,P,Z,se):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,w,k,P,Z,se):kn(w):kn(w)}expandSegmentAgainstRouteUsingRedirect(C,w,k,P,Z,se){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,k,P,se):this.expandRegularSegmentAgainstRouteUsingRedirect(C,w,k,P,Z,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,k,P){const Z=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Tn(Z):this.lineralizeSegments(k,Z).pipe((0,Ke.z)(se=>{const ge=new te(se,{});return this.expandSegment(C,ge,w,se,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,w,k,P,Z,se){const{matched:ge,consumedSegments:Me,remainingSegments:ut,positionalParamSegments:Rn}=Es(w,P,Z);if(!ge)return kn(w);const nt=this.applyRedirectCommands(Me,P.redirectTo,Rn);return P.redirectTo.startsWith("/")?Tn(nt):this.lineralizeSegments(P,nt).pipe((0,Ke.z)(ke=>this.expandSegment(C,w,k,ke.concat(ut),se,!1)))}matchSegmentAgainstRoute(C,w,k,P,Z){if("**"===k.path)return k.loadChildren?(k._loadedConfig?(0,Ue.of)(k._loadedConfig):this.configLoader.load(C.injector,k)).pipe((0,Oe.U)(nt=>(k._loadedConfig=nt,new te(P,{})))):(0,Ue.of)(new te(P,{}));const{matched:se,consumedSegments:ge,remainingSegments:Me}=Es(w,k,P);return se?this.getChildConfig(C,k,P).pipe((0,Ke.z)(Rn=>{const nt=Rn.module,ke=Rn.routes,{segmentGroup:We,slicedSegments:Rr}=Gs(w,ge,Me,ke),ro=new te(We.segments,We.children);if(0===Rr.length&&ro.hasChildren())return this.expandChildren(nt,ke,ro).pipe((0,Oe.U)(nu=>new te(ge,nu)));if(0===ke.length&&0===Rr.length)return(0,Ue.of)(new te(ge,{}));const Ss=$r(k)===Z;return this.expandSegment(nt,ro,ke,Rr,Ss?Et:Z,!0).pipe((0,Oe.U)(Wo=>new te(ge.concat(Wo.segments),Wo.children)))})):kn(w)}getChildConfig(C,w,k){return w.children?(0,Ue.of)(new eo(w.children,C)):w.loadChildren?void 0!==w._loadedConfig?(0,Ue.of)(w._loadedConfig):this.runCanLoadGuards(C.injector,w,k).pipe((0,Ke.z)(P=>P?this.configLoader.load(C.injector,w).pipe((0,Oe.U)(Z=>(w._loadedConfig=Z,Z))):function An(N){return Ce(Mn(`Cannot load children because the guard of the route "path: '${N.path}'" returned false`))}(w))):(0,Ue.of)(new eo([],C))}runCanLoadGuards(C,w,k){const P=w.canLoad;if(!P||0===P.length)return(0,Ue.of)(!0);const Z=P.map(se=>{const ge=C.get(se);let Me;if(function Ds(N){return N&&mi(N.canLoad)}(ge))Me=ge.canLoad(w,k);else{if(!mi(ge))throw new Error("Invalid CanLoad guard");Me=ge(w,k)}return Gn(Me)});return(0,Ue.of)(Z).pipe(es(),(0,Mt.b)(se=>{if(!Fr(se))return;const ge=Mn(`Redirecting to "${this.urlSerializer.serialize(se)}"`);throw ge.url=se,ge}),(0,Oe.U)(se=>!0===se))}lineralizeSegments(C,w){let k=[],P=w.root;for(;;){if(k=k.concat(P.segments),0===P.numberOfChildren)return(0,Ue.of)(k);if(P.numberOfChildren>1||!P.children[Et])return Ce(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C.redirectTo}'`));P=P.children[Et]}}applyRedirectCommands(C,w,k){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),C,k)}applyRedirectCreatreUrlTree(C,w,k,P){const Z=this.createSegmentGroup(C,w.root,k,P);return new pe(Z,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(C,w){const k={};return rr(C,(P,Z)=>{if("string"==typeof P&&P.startsWith(":")){const ge=P.substring(1);k[Z]=w[ge]}else k[Z]=P}),k}createSegmentGroup(C,w,k,P){const Z=this.createSegments(C,w.segments,k,P);let se={};return rr(w.children,(ge,Me)=>{se[Me]=this.createSegmentGroup(C,ge,k,P)}),new te(Z,se)}createSegments(C,w,k,P){return w.map(Z=>Z.path.startsWith(":")?this.findPosParam(C,Z,P):this.findOrReturn(Z,k))}findPosParam(C,w,k){const P=k[w.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${C}'. Cannot find '${w.path}'.`);return P}findOrReturn(C,w){let k=0;for(const P of w){if(P.path===C.path)return w.splice(k),P;k++}return C}}function Cs(N){const C={};for(const k of Object.keys(N.children)){const Z=Cs(N.children[k]);(Z.segments.length>0||Z.hasChildren())&&(C[k]=Z)}return function br(N){if(1===N.numberOfChildren&&N.children[Et]){const C=N.children[Et];return new te(N.segments.concat(C.segments),C.children)}return N}(new te(N.segments,C))}class Yt{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Si{constructor(C,w){this.component=C,this.route=w}}function Ro(N,C,w){const k=N._root;return R(k,C?C._root:null,w,[k.value])}function Ps(N,C,w){const k=function U(N){if(!N)return null;for(let C=N.parent;C;C=C.parent){const w=C.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(C);return(k?k.module.injector:w).get(N)}function R(N,C,w,k,P={canDeactivateChecks:[],canActivateChecks:[]}){const Z=rn(C);return N.children.forEach(se=>{(function x(N,C,w,k,P={canDeactivateChecks:[],canActivateChecks:[]}){const Z=N.value,se=C?C.value:null,ge=w?w.getContext(N.value.outlet):null;if(se&&Z.routeConfig===se.routeConfig){const Me=function $(N,C,w){if("function"==typeof w)return w(N,C);switch(w){case"pathParamsChange":return!Re(N.url,C.url);case"pathParamsOrQueryParamsChange":return!Re(N.url,C.url)||!Ot(N.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sn(N,C)||!Ot(N.queryParams,C.queryParams);default:return!sn(N,C)}}(se,Z,Z.routeConfig.runGuardsAndResolvers);Me?P.canActivateChecks.push(new Yt(k)):(Z.data=se.data,Z._resolvedData=se._resolvedData),R(N,C,Z.component?ge?ge.children:null:w,k,P),Me&&ge&&ge.outlet&&ge.outlet.isActivated&&P.canDeactivateChecks.push(new Si(ge.outlet.component,se))}else se&&Le(C,ge,P),P.canActivateChecks.push(new Yt(k)),R(N,null,Z.component?ge?ge.children:null:w,k,P)})(se,Z[se.value.outlet],w,k.concat([se.value]),P),delete Z[se.value.outlet]}),rr(Z,(se,ge)=>Le(se,w.getContext(ge),P)),P}function Le(N,C,w){const k=rn(N),P=N.value;rr(k,(Z,se)=>{Le(Z,P.component?C?C.children.getContext(se):null:C,w)}),w.canDeactivateChecks.push(new Si(P.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,P))}class eu{}function Ra(N){return new I.y(C=>C.error(N))}class Ai{constructor(C,w,k,P,Z,se){this.rootComponentType=C,this.config=w,this.urlTree=k,this.url=P,this.paramsInheritanceStrategy=Z,this.relativeLinkResolution=se}recognize(){const C=Gs(this.urlTree.root,[],[],this.config.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,C,Et);if(null===w)return null;const k=new le([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new wr(k,w),Z=new X(this.url,P);return this.inheritParamsAndData(Z._root),Z}inheritParamsAndData(C){const w=C.value,k=Er(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),C.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(C,w,k){return 0===w.segments.length&&w.hasChildren()?this.processChildren(C,w):this.processSegment(C,w,w.segments,k)}processChildren(C,w){const k=[];for(const Z of Object.keys(w.children)){const se=w.children[Z],ge=js(C,Z),Me=this.processSegmentGroup(ge,se,Z);if(null===Me)return null;k.push(...Me)}const P=Wi(k);return function ts(N){N.sort((C,w)=>C.value.outlet===Et?-1:w.value.outlet===Et?1:C.value.outlet.localeCompare(w.value.outlet))}(P),P}processSegment(C,w,k,P){for(const Z of C){const se=this.processSegmentAgainstRoute(Z,w,k,P);if(null!==se)return se}return Be(w,k,P)?[]:null}processSegmentAgainstRoute(C,w,k,P){if(C.redirectTo||!me(C,w,k,P))return null;let Z,se=[],ge=[];if("**"===C.path){const We=k.length>0?Ci(k).parameters:{};Z=new le(k,We,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ka(C),$r(C),C.component,C,Pa(w),Wr(w)+k.length,va(C))}else{const We=Es(w,C,k);if(!We.matched)return null;se=We.consumedSegments,ge=We.remainingSegments,Z=new le(se,We.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ka(C),$r(C),C.component,C,Pa(w),Wr(w)+se.length,va(C))}const Me=function _a(N){return N.children?N.children:N.loadChildren?N._loadedConfig.routes:[]}(C),{segmentGroup:ut,slicedSegments:Rn}=Gs(w,se,ge,Me.filter(We=>void 0===We.redirectTo),this.relativeLinkResolution);if(0===Rn.length&&ut.hasChildren()){const We=this.processChildren(Me,ut);return null===We?null:[new wr(Z,We)]}if(0===Me.length&&0===Rn.length)return[new wr(Z,[])];const nt=$r(C)===P,ke=this.processSegment(Me,ut,Rn,nt?Et:P);return null===ke?null:[new wr(Z,ke)]}}function bo(N){const C=N.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Wi(N){const C=[],w=new Set;for(const k of N){if(!bo(k)){C.push(k);continue}const P=C.find(Z=>k.value.routeConfig===Z.value.routeConfig);void 0!==P?(P.children.push(...k.children),w.add(P)):C.push(k)}for(const k of w){const P=Wi(k.children);C.push(new wr(k.value,P))}return C.filter(k=>!w.has(k))}function Pa(N){let C=N;for(;C._sourceSegment;)C=C._sourceSegment;return C}function Wr(N){let C=N,w=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,w+=C._segmentIndexShift?C._segmentIndexShift:0;return w-1}function ka(N){return N.data||{}}function va(N){return N.resolve||{}}function ko(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}function ia(N){return(0,it.w)(C=>{const w=N(C);return w?(0,De.D)(w).pipe((0,Oe.U)(()=>C)):(0,Ue.of)(C)})}class Qa extends class $s{shouldDetach(C){return!1}store(C,w){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,w){return C.routeConfig===w.routeConfig}}{}const Vo=new u.OlP("ROUTES");class Xa{constructor(C,w,k,P){this.injector=C,this.compiler=w,this.onLoadStartListener=k,this.onLoadEndListener=P}load(C,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const P=this.loadModuleFactory(w.loadChildren).pipe((0,Oe.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(w);const se=Z.create(C);return new eo(ar(se.injector.get(Vo,void 0,u.XFs.Self|u.XFs.Optional)).map(Us),se)}),bt(Z=>{throw w._loader$=void 0,Z}));return w._loader$=new he(P,()=>new Tt.x).pipe(ce()),w._loader$}loadModuleFactory(C){return Gn(C()).pipe((0,Ke.z)(w=>w instanceof u.YKP?(0,Ue.of)(w):(0,De.D)(this.compiler.compileModuleAsync(w))))}}class zi{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,w){return C}}function Bo(N){throw N}function Jr(N,C,w){return C.parse("/")}function La(N,C){return(0,Ue.of)(null)}const Qu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ns=(()=>{class N{constructor(w,k,P,Z,se,ge,Me){this.rootComponentType=w,this.urlSerializer=k,this.rootContexts=P,this.location=Z,this.config=Me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tt.x,this.errorHandler=Bo,this.malformedUriErrorHandler=Jr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:La,afterPreactivation:La},this.urlHandlingStrategy=new zi,this.routeReuseStrategy=new Qa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=se.get(u.h0i),this.console=se.get(u.c2e);const nt=se.get(u.R0b);this.isNgZoneEnabled=nt instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Me),this.currentUrlTree=function ii(){return new pe(new te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xa(se,ge,ke=>this.triggerEvent(new li(ke)),ke=>this.triggerEvent(new Nr(ke))),this.routerState=Ti(this.currentUrlTree,this.rootComponentType),this.transitions=new Ze.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const k=this.events;return w.pipe((0,Je.h)(P=>0!==P.id),(0,Oe.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,it.w)(P=>{let Z=!1,se=!1;return(0,Ue.of)(P).pipe((0,Mt.b)(ge=>{this.currentNavigation={id:ge.id,initialUrl:ge.currentRawUrl,extractedUrl:ge.extractedUrl,trigger:ge.source,extras:ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,it.w)(ge=>{const Me=this.browserUrlTree.toString(),ut=!this.navigated||ge.extractedUrl.toString()!==Me||Me!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ut)&&this.urlHandlingStrategy.shouldProcessUrl(ge.rawUrl))return oa(ge.source)&&(this.browserUrlTree=ge.extractedUrl),(0,Ue.of)(ge).pipe((0,it.w)(nt=>{const ke=this.transitions.getValue();return k.next(new Ln(nt.id,this.serializeUrl(nt.extractedUrl),nt.source,nt.restoredState)),ke!==this.transitions.getValue()?et.E:Promise.resolve(nt)}),function Li(N,C,w,k){return(0,it.w)(P=>function xr(N,C,w,k,P){return new Tr(N,C,w,k,P).apply()}(N,C,w,P.extractedUrl,k).pipe((0,Oe.U)(Z=>Object.assign(Object.assign({},P),{urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mt.b)(nt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:nt.urlAfterRedirects})}),function Fa(N,C,w,k,P){return(0,Ke.z)(Z=>function Hs(N,C,w,k,P="emptyOnly",Z="legacy"){try{const se=new Ai(N,C,w,k,P,Z).recognize();return null===se?Ra(new eu):(0,Ue.of)(se)}catch(se){return Ra(se)}}(N,C,Z.urlAfterRedirects,w(Z.urlAfterRedirects),k,P).pipe((0,Oe.U)(se=>Object.assign(Object.assign({},Z),{targetSnapshot:se}))))}(this.rootComponentType,this.config,nt=>this.serializeUrl(nt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mt.b)(nt=>{if("eager"===this.urlUpdateStrategy){if(!nt.extras.skipLocationChange){const We=this.urlHandlingStrategy.merge(nt.urlAfterRedirects,nt.rawUrl);this.setBrowserUrl(We,nt)}this.browserUrlTree=nt.urlAfterRedirects}const ke=new un(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);k.next(ke)}));if(ut&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ke,extractedUrl:We,source:Rr,restoredState:ro,extras:Ss}=ge,Da=new Ln(ke,this.serializeUrl(We),Rr,ro);k.next(Da);const Wo=Ti(We,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},ge),{targetSnapshot:Wo,urlAfterRedirects:We,extras:Object.assign(Object.assign({},Ss),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ge.rawUrl,ge.resolve(null),et.E}),ia(ge=>{const{targetSnapshot:Me,id:ut,extractedUrl:Rn,rawUrl:nt,extras:{skipLocationChange:ke,replaceUrl:We}}=ge;return this.hooks.beforePreactivation(Me,{navigationId:ut,appliedUrlTree:Rn,rawUrlTree:nt,skipLocationChange:!!ke,replaceUrl:!!We})}),(0,Mt.b)(ge=>{const Me=new Ur(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(Me)}),(0,Oe.U)(ge=>Object.assign(Object.assign({},ge),{guards:Ro(ge.targetSnapshot,ge.currentSnapshot,this.rootContexts)})),function Bt(N,C){return(0,Ke.z)(w=>{const{targetSnapshot:k,currentSnapshot:P,guards:{canActivateChecks:Z,canDeactivateChecks:se}}=w;return 0===se.length&&0===Z.length?(0,Ue.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function vn(N,C,w,k){return(0,De.D)(N).pipe((0,Ke.z)(P=>function Ka(N,C,w,k,P){const Z=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,Ue.of)(!0);const se=Z.map(ge=>{const Me=Ps(ge,C,P);let ut;if(function ra(N){return N&&mi(N.canDeactivate)}(Me))ut=Gn(Me.canDeactivate(N,C,w,k));else{if(!mi(Me))throw new Error("Invalid CanDeactivate guard");ut=Gn(Me(N,C,w,k))}return ut.pipe((0,Jn.P)())});return(0,Ue.of)(se).pipe(es())}(P.component,P.route,w,C,k)),(0,Jn.P)(P=>!0!==P,!0))}(se,k,P,N).pipe((0,Ke.z)(ge=>ge&&function bs(N){return"boolean"==typeof N}(ge)?function ki(N,C,w,k){return(0,De.D)(C).pipe(Ye(P=>(0,je.z)(function _i(N,C){return null!==N&&C&&C(new qn(N)),(0,Ue.of)(!0)}(P.route.parent,k),function $i(N,C){return null!==N&&C&&C(new xt(N)),(0,Ue.of)(!0)}(P.route,k),function vo(N,C,w){const k=C[C.length-1],Z=C.slice(0,C.length-1).reverse().map(se=>function Po(N){const C=N.routeConfig?N.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:N,guards:C}:null}(se)).filter(se=>null!==se).map(se=>Ae(()=>{const ge=se.guards.map(Me=>{const ut=Ps(Me,se.node,w);let Rn;if(function xs(N){return N&&mi(N.canActivateChild)}(ut))Rn=Gn(ut.canActivateChild(k,N));else{if(!mi(ut))throw new Error("Invalid CanActivateChild guard");Rn=Gn(ut(k,N))}return Rn.pipe((0,Jn.P)())});return(0,Ue.of)(ge).pipe(es())}));return(0,Ue.of)(Z).pipe(es())}(N,P.path,w),function yo(N,C,w){const k=C.routeConfig?C.routeConfig.canActivate:null;if(!k||0===k.length)return(0,Ue.of)(!0);const P=k.map(Z=>Ae(()=>{const se=Ps(Z,C,w);let ge;if(function Xi(N){return N&&mi(N.canActivate)}(se))ge=Gn(se.canActivate(C,N));else{if(!mi(se))throw new Error("Invalid CanActivate guard");ge=Gn(se(C,N))}return ge.pipe((0,Jn.P)())}));return(0,Ue.of)(P).pipe(es())}(N,P.route,w))),(0,Jn.P)(P=>!0!==P,!0))}(k,Z,N,C):(0,Ue.of)(ge)),(0,Oe.U)(ge=>Object.assign(Object.assign({},w),{guardsResult:ge})))})}(this.ngModule.injector,ge=>this.triggerEvent(ge)),(0,Mt.b)(ge=>{if(Fr(ge.guardsResult)){const ut=Mn(`Redirecting to "${this.serializeUrl(ge.guardsResult)}"`);throw ut.url=ge.guardsResult,ut}const Me=new ai(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot,!!ge.guardsResult);this.triggerEvent(Me)}),(0,Je.h)(ge=>!!ge.guardsResult||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,""),!1)),ia(ge=>{if(ge.guards.canActivateChecks.length)return(0,Ue.of)(ge).pipe((0,Mt.b)(Me=>{const ut=new ji(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(ut)}),(0,it.w)(Me=>{let ut=!1;return(0,Ue.of)(Me).pipe(function Ya(N,C){return(0,Ke.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:P}}=w;if(!P.length)return(0,Ue.of)(w);let Z=0;return(0,De.D)(P).pipe(Ye(se=>function El(N,C,w,k){return function Ja(N,C,w,k){const P=ko(N);if(0===P.length)return(0,Ue.of)({});const Z={};return(0,De.D)(P).pipe((0,Ke.z)(se=>function Fo(N,C,w,k){const P=Ps(N,C,k);return Gn(P.resolve?P.resolve(C,w):P(C,w))}(N[se],C,w,k).pipe((0,Mt.b)(ge=>{Z[se]=ge}))),Qe(1),(0,Ke.z)(()=>ko(Z).length===P.length?(0,Ue.of)(Z):et.E))}(N._resolve,N,C,k).pipe((0,Oe.U)(Z=>(N._resolvedData=Z,N.data=Object.assign(Object.assign({},N.data),Er(N,w).resolve),null)))}(se.route,k,N,C)),(0,Mt.b)(()=>Z++),Qe(1),(0,Ke.z)(se=>Z===P.length?(0,Ue.of)(w):et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mt.b)({next:()=>ut=!0,complete:()=>{ut||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,"At least one route resolver didn't emit any value."))}}))}),(0,Mt.b)(Me=>{const ut=new dr(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(ut)}))}),ia(ge=>{const{targetSnapshot:Me,id:ut,extractedUrl:Rn,rawUrl:nt,extras:{skipLocationChange:ke,replaceUrl:We}}=ge;return this.hooks.afterPreactivation(Me,{navigationId:ut,appliedUrlTree:Rn,rawUrlTree:nt,skipLocationChange:!!ke,replaceUrl:!!We})}),(0,Oe.U)(ge=>{const Me=function Bn(N,C,w){const k=Gr(N,C._root,w?w._root:void 0);return new pi(k,C)}(this.routeReuseStrategy,ge.targetSnapshot,ge.currentRouterState);return Object.assign(Object.assign({},ge),{targetRouterState:Me})}),(0,Mt.b)(ge=>{this.currentUrlTree=ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl),this.routerState=ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ge),this.browserUrlTree=ge.urlAfterRedirects)}),((N,C,w)=>(0,Oe.U)(k=>(new vs(C,k.targetRouterState,k.currentRouterState,w).activate(N),k)))(this.rootContexts,this.routeReuseStrategy,ge=>this.triggerEvent(ge)),(0,Mt.b)({next(){Z=!0},complete(){Z=!0}}),function ve(N){return(0,Ie.e)((C,w)=>{try{C.subscribe(w)}finally{w.add(N)}})}(()=>{var ge;Z||se||this.cancelNavigationTransition(P,`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.id)===P.id&&(this.currentNavigation=null)}),bt(ge=>{if(se=!0,function Mr(N){return N&&N[nr]}(ge)){const Me=Fr(ge.url);Me||(this.navigated=!0,this.restoreHistory(P,!0));const ut=new cr(P.id,this.serializeUrl(P.extractedUrl),ge.message);k.next(ut),Me?setTimeout(()=>{const Rn=this.urlHandlingStrategy.merge(ge.url,this.rawUrlTree),nt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oa(P.source)};this.scheduleNavigation(Rn,"imperative",null,nt,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const Me=new Pn(P.id,this.serializeUrl(P.extractedUrl),ge);k.next(Me);try{P.resolve(this.errorHandler(ge))}catch(ut){P.reject(ut)}}return et.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{var P;const Z={replaceUrl:!0},se=(null===(P=w.state)||void 0===P?void 0:P.navigationId)?w.state:null;if(se){const Me=Object.assign({},se);delete Me.navigationId,delete Me.\u0275routerPageId,0!==Object.keys(Me).length&&(Z.state=Me)}const ge=this.parseUrl(w.url);this.scheduleNavigation(ge,k,se,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){Lr(w),this.config=w.map(Us),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,k={}){const{relativeTo:P,queryParams:Z,fragment:se,queryParamsHandling:ge,preserveFragment:Me}=k,ut=P||this.routerState.root,Rn=Me?this.currentUrlTree.fragment:se;let nt=null;switch(ge){case"merge":nt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Z);break;case"preserve":nt=this.currentUrlTree.queryParams;break;default:nt=Z||null}return null!==nt&&(nt=this.removeEmptyProps(nt)),function hi(N,C,w,k,P){if(0===w.length)return Hi(C.root,C.root,C.root,k,P);const Z=function ga(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new Os(!0,0,N);let C=0,w=!1;const k=N.reduce((P,Z,se)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const ge={};return rr(Z.outlets,(Me,ut)=>{ge[ut]="string"==typeof Me?Me.split("/"):Me}),[...P,{outlets:ge}]}if(Z.segmentPath)return[...P,Z.segmentPath]}return"string"!=typeof Z?[...P,Z]:0===se?(Z.split("/").forEach((ge,Me)=>{0==Me&&"."===ge||(0==Me&&""===ge?w=!0:".."===ge?C++:""!=ge&&P.push(ge))}),P):[...P,Z]},[]);return new Os(w,C,k)}(w);if(Z.toRoot())return Hi(C.root,C.root,new te([],{}),k,P);const se=function ma(N,C,w){if(N.isAbsolute)return new Ii(C.root,!0,0);if(-1===w.snapshot._lastPathIndex){const Z=w.snapshot._urlSegment;return new Ii(Z,Z===C.root,0)}const k=mo(N.commands[0])?0:1;return function gi(N,C,w){let k=N,P=C,Z=w;for(;Z>P;){if(Z-=P,k=k.parent,!k)throw new Error("Invalid number of '../'");P=k.segments.length}return new Ii(k,!1,P-Z)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+k,N.numberOfDoubleDots)}(Z,C,N),ge=se.processChildren?Qs(se.segmentGroup,se.index,Z.commands):Pi(se.segmentGroup,se.index,Z.commands);return Hi(C.root,se.segmentGroup,ge,k,P)}(ut,this.currentUrlTree,w,nt,null!=Rn?Rn:null)}navigateByUrl(w,k={skipLocationChange:!1}){const P=Fr(w)?w:this.parseUrl(w),Z=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,k)}navigate(w,k={skipLocationChange:!1}){return function Mu(N){for(let C=0;C<N.length;C++){const w=N[C];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${C}`)}}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(P){k=this.malformedUriErrorHandler(P,this.urlSerializer,w)}return k}isActive(w,k){let P;if(P=!0===k?Object.assign({},Qu):!1===k?Object.assign({},Nu):k,Fr(w))return En(this.currentUrlTree,w,P);const Z=this.parseUrl(w);return En(this.currentUrlTree,Z,P)}removeEmptyProps(w){return Object.keys(w).reduce((k,P)=>{const Z=w[P];return null!=Z&&(k[P]=Z),k},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new pn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,k,P,Z,se){var ge,Me;if(this.disposed)return Promise.resolve(!1);let ut,Rn,nt;se?(ut=se.resolve,Rn=se.reject,nt=se.promise):nt=new Promise((Rr,ro)=>{ut=Rr,Rn=ro});const ke=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),We=P&&P.\u0275routerPageId?P.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?null!==(ge=this.browserPageId)&&void 0!==ge?ge:0:(null!==(Me=this.browserPageId)&&void 0!==Me?Me:0)+1):We=0,this.setTransition({id:ke,targetPageId:We,source:k,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:Z,resolve:ut,reject:Rn,promise:nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nt.catch(Rr=>Promise.reject(Rr))}setBrowserUrl(w,k){const P=this.urlSerializer.serialize(w),Z=Object.assign(Object.assign({},k.extras.state),this.generateNgRouterState(k.id,k.targetPageId));this.location.isCurrentPathEqualTo(P)||k.extras.replaceUrl?this.location.replaceState(P,"",Z):this.location.go(P,"",Z)}restoreHistory(w,k=!1){var P,Z;if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===se?this.currentUrlTree===(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)&&0===se&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(se)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,k){const P=new cr(w.id,this.serializeUrl(w.extractedUrl),k);this.triggerEvent(P),w.resolve(!1)}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}}return N.\u0275fac=function(w){u.$Z()},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();function oa(N){return"imperative"!==N}let Ts=(()=>{class N{constructor(w,k,P,Z,se){this.router=w,this.route=k,this.tabIndexAttribute=P,this.renderer=Z,this.el=se,this.commands=null,this.onChanges=new Tt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const k=this.renderer,P=this.el.nativeElement;null!==w?k.setAttribute(P,"tabindex",w):k.removeAttribute(P,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:Ws(this.skipLocationChange),replaceUrl:Ws(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ws(this.preserveFragment)})}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(ns),u.Y36(di),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},N.\u0275dir=u.lG2({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,k){1&w&&u.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),N})();function Ws(N){return""===N||!!N}class Va{}class jo{preload(C,w){return(0,Ue.of)(null)}}let Do=(()=>{class N{constructor(w,k,P,Z){this.router=w,this.injector=P,this.preloadingStrategy=Z,this.loader=new Xa(P,k,Me=>w.triggerEvent(new li(Me)),Me=>w.triggerEvent(new Nr(Me)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Je.h)(w=>w instanceof pn),Ye(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(u.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const P=[];for(const Z of k)if(Z.loadChildren&&!Z.canLoad&&Z._loadedConfig){const se=Z._loadedConfig;P.push(this.processRoutes(se.module,se.routes))}else Z.loadChildren&&!Z.canLoad?P.push(this.preloadConfig(w,Z)):Z.children&&P.push(this.processRoutes(w,Z.children));return(0,De.D)(P).pipe((0,en.J)(),(0,Oe.U)(Z=>{}))}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>(k._loadedConfig?(0,Ue.of)(k._loadedConfig):this.loader.load(w.injector,k)).pipe((0,Ke.z)(Z=>(k._loadedConfig=Z,this.processRoutes(Z.module,Z.routes)))))}}return N.\u0275fac=function(w){return new(w||N)(u.LFG(ns),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Va))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})(),aa=(()=>{class N{constructor(w,k,P={}){this.router=w,this.viewportScroller=k,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Ln?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof pn&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof tr&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.router.triggerEvent(new tr(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(w){u.$Z()},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();const wo=new u.OlP("ROUTER_CONFIGURATION"),Tl=new u.OlP("ROUTER_FORROOT_GUARD"),el=[qt.Ye,{provide:zt,useClass:hn},{provide:ns,useFactory:function Ho(N,C,w,k,P,Z,se={},ge,Me){const ut=new ns(null,N,C,w,k,P,ar(Z));return ge&&(ut.urlHandlingStrategy=ge),Me&&(ut.routeReuseStrategy=Me),function Ou(N,C){N.errorHandler&&(C.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(C.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(C.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(C.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(C.urlUpdateStrategy=N.urlUpdateStrategy),N.canceledNavigationResolution&&(C.canceledNavigationResolution=N.canceledNavigationResolution)}(se,ut),se.enableTracing&&ut.events.subscribe(Rn=>{var nt,ke;null===(nt=console.group)||void 0===nt||nt.call(console,`Router Event: ${Rn.constructor.name}`),console.log(Rn.toString()),console.log(Rn),null===(ke=console.groupEnd)||void 0===ke||ke.call(console)}),ut},deps:[zt,Hr,qt.Ye,u.zs3,u.Sil,Vo,wo,[class sa{},new u.FiY],[class Lo{},new u.FiY]]},Hr,{provide:di,useFactory:function pr(N){return N.routerState.root},deps:[ns]},Do,jo,class zs{preload(C,w){return w().pipe(bt(()=>(0,Ue.of)(null)))}},{provide:wo,useValue:{enableTracing:!1}}];function qs(){return new u.PXZ("Router",ns)}let qi=(()=>{class N{constructor(w,k){}static forRoot(w,k){return{ngModule:N,providers:[el,ba(w),{provide:Tl,useFactory:tu,deps:[[ns,new u.FiY,new u.tp0]]},{provide:wo,useValue:k||{}},{provide:qt.S$,useFactory:Is,deps:[qt.lw,[new u.tBr(qt.mr),new u.FiY],wo]},{provide:aa,useFactory:tl,deps:[ns,qt.EM,wo]},{provide:Va,useExisting:k&&k.preloadingStrategy?k.preloadingStrategy:jo},{provide:u.PXZ,multi:!0,useFactory:qs},[Il,{provide:u.ip1,multi:!0,useFactory:no,deps:[Il]},{provide:Vi,useFactory:$o,deps:[Il]},{provide:u.tb,multi:!0,useExisting:Vi}]]}}static forChild(w){return{ngModule:N,providers:[ba(w)]}}}return N.\u0275fac=function(w){return new(w||N)(u.LFG(Tl,8),u.LFG(ns,8))},N.\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({}),N})();function tl(N,C,w){return w.scrollOffset&&C.setOffset(w.scrollOffset),new aa(N,C,w)}function Is(N,C,w={}){return w.useHash?new qt.Do(N,C):new qt.b0(N,C)}function tu(N){return"guarded"}function ba(N){return[{provide:u.deG,multi:!0,useValue:N},{provide:Vo,multi:!0,useValue:N}]}let Il=(()=>{class N{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Tt.x}appInitializer(){return this.injector.get(qt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let k=null;const P=new Promise(ge=>k=ge),Z=this.injector.get(ns),se=this.injector.get(wo);return"disabled"===se.initialNavigation?(Z.setUpLocationChangeListener(),k(!0)):"enabled"===se.initialNavigation||"enabledBlocking"===se.initialNavigation?(Z.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,k(!0),this.resultOfPreactivationDone),Z.initialNavigation()):k(!0),P})}bootstrapListener(w){const k=this.injector.get(wo),P=this.injector.get(Do),Z=this.injector.get(aa),se=this.injector.get(ns),ge=this.injector.get(u.z2F);w===ge.components[0]&&(("enabledNonBlocking"===k.initialNavigation||void 0===k.initialNavigation)&&se.initialNavigation(),P.setUpPreloading(),Z.init(),se.resetRootComponentType(ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return N.\u0275fac=function(w){return new(w||N)(u.LFG(u.zs3))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();function no(N){return N.appInitializer.bind(N)}function $o(N){return N.bootstrapListener.bind(N)}const Vi=new u.OlP("Router Initializer")},3942:(Nt,He,G)=>{G.d(He,{Z:()=>ot});var u=G(2090),I=G(4859),z=G(9681),Ce=G(1877);class ye{constructor(je,et){this._delegate=je,this.firebase=et,(0,z._addComponent)(je,new I.wA("app-compat",()=>this,"PUBLIC")),this.container=je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this._delegate.automaticDataCollectionEnabled=je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(je=>{this._delegate.checkDestroyed(),je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(je,et=z._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(je);return!bt.isInitialized()&&"EXPLICIT"===(null===(Tt=bt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:et})}_removeServiceInstance(je,et=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(je).clearInstance(et)}_addComponent(je){(0,z._addComponent)(this._delegate,je)}_addOrOverwriteComponent(je){(0,z._addOrOverwriteComponent)(this._delegate,je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Pe(){const ft=function Ie(ft){const je={},et={__esModule:!0,initializeApp:function Ke(vt,be={}){const ie=z.initializeApp(vt,be);if((0,u.r3)(je,ie.name))return je[ie.name];const ue=new ft(ie,et);return je[ie.name]=ue,ue},app:bt,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Je(vt){const be=vt.name,ie=be.replace("-compat","");if(z._registerComponent(vt)&&"PUBLIC"===vt.type){const ue=(ve=bt())=>{if("function"!=typeof ve[ie])throw xe.create("invalid-app-argument",{appName:be});return ve[ie]()};void 0!==vt.serviceProps&&(0,u.ZB)(ue,vt.serviceProps),et[ie]=ue,ft.prototype[ie]=function(...ve){return this._getService.bind(this,be).apply(this,vt.multipleInstances?ve:[])}}return"PUBLIC"===vt.type?et[ie]:null},removeApp:function Tt(vt){delete je[vt]},useAsService:function Qe(vt,be){return"serverAuth"===be?null:be},modularAPIs:z}};function bt(vt){if(!(0,u.r3)(je,vt=vt||z._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:vt});return je[vt]}return et.default=et,Object.defineProperty(et,"apps",{get:function Ye(){return Object.keys(je).map(vt=>je[vt])}}),bt.App=ft,et}(ye);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function je(et){(0,u.ZB)(ft,et)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ft}(),he=new Ce.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=ce;!function Ze(ft){(0,z.registerVersion)("@firebase/app-compat","0.1.21",ft)}()},9681:(Nt,He,G)=>{G.r(He),G.d(He,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>dr,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>Ln,_apps:()=>en,_clearComponents:()=>un,_components:()=>qt,_getProvider:()=>cr,_registerComponent:()=>pn,_removeServiceInstance:()=>Pn,deleteApp:()=>Mi,getApp:()=>Nr,getApps:()=>qn,initializeApp:()=>li,onLog:()=>tr,registerVersion:()=>ri,setLogLevel:()=>Et});var u=G(5861),I=G(4859),z=G(1877),Ce=G(2090);class ye{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function Ae(Rt){const dt=Rt.getComponent();return"VERSION"===(null==dt?void 0:dt.type)}(Lt)){const Zt=Lt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(Lt=>Lt).join(" ")}}const xe="@firebase/app",Pe=new z.Yd("@firebase/app"),Jn="[DEFAULT]",Mt={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,qt=new Map;function Wt(Rt,dt){try{Rt.container.addComponent(dt)}catch(Lt){Pe.debug(`Component ${dt.name} failed to register with FirebaseApp ${Rt.name}`,Lt)}}function Ln(Rt,dt){Rt.container.addOrOverwriteComponent(dt)}function pn(Rt){const dt=Rt.name;if(qt.has(dt))return Pe.debug(`There were multiple attempts to register component ${dt}.`),!1;qt.set(dt,Rt);for(const Lt of en.values())Wt(Lt,Rt);return!0}function cr(Rt,dt){const Lt=Rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Lt&&Lt.triggerHeartbeat(),Rt.container.getProvider(dt)}function Pn(Rt,dt,Lt=Jn){cr(Rt,dt).clearInstance(Lt)}function un(){qt.clear()}const ai=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ji{constructor(dt,Lt,Zt){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new I.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const dr="9.6.10";function li(Rt,dt={}){"object"!=typeof dt&&(dt={name:dt});const Lt=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},dt),Zt=Lt.name;if("string"!=typeof Zt||!Zt)throw ai.create("bad-app-name",{appName:String(Zt)});const Kt=en.get(Zt);if(Kt){if((0,Ce.vZ)(Rt,Kt.options)&&(0,Ce.vZ)(Lt,Kt.config))return Kt;throw ai.create("duplicate-app",{appName:Zt})}const an=new I.H0(Zt);for(const te of qt.values())an.addComponent(te);const pe=new ji(Rt,Lt,an);return en.set(Zt,pe),pe}function Nr(Rt=Jn){const dt=en.get(Rt);if(!dt)throw ai.create("no-app",{appName:Rt});return dt}function qn(){return Array.from(en.values())}function Mi(Rt){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(Rt){const dt=Rt.name;en.has(dt)&&(en.delete(dt),yield Promise.all(Rt.container.getProviders().map(Lt=>Lt.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function ri(Rt,dt,Lt){var Zt;let Kt=null!==(Zt=Mt[Rt])&&void 0!==Zt?Zt:Rt;Lt&&(Kt+=`-${Lt}`);const an=Kt.match(/\s|\//),pe=dt.match(/\s|\//);if(an||pe){const te=[`Unable to register library "${Kt}" with version "${dt}":`];return an&&te.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),an&&pe&&te.push("and"),pe&&te.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void Pe.warn(te.join(" "))}pn(new I.wA(`${Kt}-version`,()=>({library:Kt,version:dt}),"VERSION"))}function tr(Rt,dt){if(null!==Rt&&"function"!=typeof Rt)throw ai.create("invalid-log-argument");(0,z.Am)(Rt,dt)}function Et(Rt){(0,z.Ub)(Rt)}const nr="firebase-heartbeat-store";let Mn=null;function Mr(){return Mn||(Mn=(0,Ce.X3)("firebase-heartbeat-database",1,(Rt,dt)=>{0===dt&&Rt.createObjectStore(nr)}).catch(Rt=>{throw ai.create("storage-open",{originalErrorMessage:Rt.message})})),Mn}function tn(){return(tn=(0,u.Z)(function*(Rt){try{return(yield Mr()).transaction(nr).objectStore(nr).get(ar(Rt))}catch(dt){throw ai.create("storage-get",{originalErrorMessage:dt.message})}})).apply(this,arguments)}function Ot(Rt,dt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(Rt,dt){try{const Zt=(yield Mr()).transaction(nr,"readwrite");return yield Zt.objectStore(nr).put(dt,ar(Rt)),Zt.complete}catch(Lt){throw ai.create("storage-set",{originalErrorMessage:Lt.message})}})).apply(this,arguments)}function ar(Rt){return`${Rt.name}!${Rt.options.appId}`}class rr{constructor(dt){this.container=dt,this._heartbeatsCache=null;const Lt=this.container.getProvider("app").getImmediate();this._storage=new Qt(Lt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var dt=this;return(0,u.Z)(function*(){const Zt=dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=Gn();if(null===dt._heartbeatsCache&&(dt._heartbeatsCache=yield dt._heartbeatsCachePromise),dt._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!dt._heartbeatsCache.heartbeats.some(an=>an.date===Kt))return dt._heartbeatsCache.heartbeats.push({date:Kt,agent:Zt}),dt._heartbeatsCache.heartbeats=dt._heartbeatsCache.heartbeats.filter(an=>{const pe=new Date(an.date).valueOf();return Date.now()-pe<=2592e6}),dt._storage.overwrite(dt._heartbeatsCache)})()}getHeartbeatsHeader(){var dt=this;return(0,u.Z)(function*(){if(null===dt._heartbeatsCache&&(yield dt._heartbeatsCachePromise),null===dt._heartbeatsCache||0===dt._heartbeatsCache.heartbeats.length)return"";const Lt=Gn(),{heartbeatsToSend:Zt,unsentEntries:Kt}=function ii(Rt,dt=1024){const Lt=[];let Zt=Rt.slice();for(const Kt of Rt){const an=Lt.find(pe=>pe.agent===Kt.agent);if(an){if(an.dates.push(Kt.date),ui(Lt)>dt){an.dates.pop();break}}else if(Lt.push({agent:Kt.agent,dates:[Kt.date]}),ui(Lt)>dt){Lt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:Lt,unsentEntries:Zt}}(dt._heartbeatsCache.heartbeats),an=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Zt}));return dt._heartbeatsCache.lastSentHeartbeatDate=Lt,Kt.length>0?(dt._heartbeatsCache.heartbeats=Kt,yield dt._storage.overwrite(dt._heartbeatsCache)):(dt._heartbeatsCache.heartbeats=[],dt._storage.overwrite(dt._heartbeatsCache)),an})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(dt){this.app=dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var dt=this;return(0,u.Z)(function*(){return(yield dt._canUseIndexedDBPromise)&&(yield function hr(Rt){return tn.apply(this,arguments)}(dt.app))||{heartbeats:[]}})()}overwrite(dt){var Lt=this;return(0,u.Z)(function*(){var Zt;if(yield Lt._canUseIndexedDBPromise){const an=yield Lt.read();return Ot(Lt.app,{lastSentHeartbeatDate:null!==(Zt=dt.lastSentHeartbeatDate)&&void 0!==Zt?Zt:an.lastSentHeartbeatDate,heartbeats:dt.heartbeats})}})()}add(dt){var Lt=this;return(0,u.Z)(function*(){var Zt;if(yield Lt._canUseIndexedDBPromise){const an=yield Lt.read();return Ot(Lt.app,{lastSentHeartbeatDate:null!==(Zt=dt.lastSentHeartbeatDate)&&void 0!==Zt?Zt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...dt.heartbeats]})}})()}}function ui(Rt){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Rt})).length}!function En(Rt){pn(new I.wA("platform-logger",dt=>new ye(dt),"PRIVATE")),pn(new I.wA("heartbeat",dt=>new rr(dt),"PRIVATE")),ri(xe,"0.7.20",Rt),ri(xe,"0.7.20","esm2017"),ri("fire-js","")}("")},4859:(Nt,He,G)=>{G.d(He,{H0:()=>Ie,wA:()=>z});var u=G(5861),I=G(2090);class z{constructor(ce,he,De){this.name=ce,this.instanceFactory=he,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ce="[DEFAULT]";class ye{constructor(ce,he){this.name=ce,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const he=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(he)){const De=new I.BH;if(this.instancesDeferred.set(he,De),this.isInitialized(he)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:he});Ue&&De.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(he).promise}getImmediate(ce){var he;const De=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),Ue=null!==(he=null==ce?void 0:ce.optional)&&void 0!==he&&he;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Ze){if(Ue)return null;throw Ze}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function xe(Pe){return"EAGER"===Pe.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(he){}for(const[he,De]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(he);try{const Ze=this.getOrInitializeService({instanceIdentifier:Ue});De.resolve(Ze)}catch(Ze){}}}}clearInstance(ce=Ce){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,u.Z)(function*(){const he=Array.from(ce.instances.values());yield Promise.all([...he.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...he.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ce){return this.instances.has(ce)}getOptions(ce=Ce){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:he={}}=ce,De=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:De,options:he});for(const[Ze,ot]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Ze)&&ot.resolve(Ue);return Ue}onInit(ce,he){var De;const Ue=this.normalizeInstanceIdentifier(he),Ze=null!==(De=this.onInitCallbacks.get(Ue))&&void 0!==De?De:new Set;Ze.add(ce),this.onInitCallbacks.set(Ue,Ze);const ot=this.instances.get(Ue);return ot&&ce(ot,Ue),()=>{Ze.delete(ce)}}invokeOnInitCallbacks(ce,he){const De=this.onInitCallbacks.get(he);if(De)for(const Ue of De)try{Ue(ce,he)}catch(Ze){}}getOrInitializeService({instanceIdentifier:ce,options:he={}}){let De=this.instances.get(ce);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=ce,Pe===Ce?void 0:Pe),options:he}),this.instances.set(ce,De),this.instancesOptions.set(ce,he),this.invokeOnInitCallbacks(De,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,De)}catch(Ue){}var Pe;return De||null}normalizeInstanceIdentifier(ce=Ce){return this.component?this.component.multipleInstances?ce:Ce:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const he=this.getProvider(ce.name);if(he.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);he.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const he=new ye(ce,this);return this.providers.set(ce,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Nt,He,G)=>{G.d(He,{Am:()=>Pe,Ub:()=>Ie,Yd:()=>xe,in:()=>I});const u=[];var I=(()=>{return(ce=I||(I={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",I;var ce})();const z={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},Ce=I.INFO,ye={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},Ae=(ce,he,...De)=>{if(he<ce.logLevel)return;const Ue=(new Date).toISOString(),Ze=ye[he];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ze](`[${Ue}]  ${ce.name}:`,...De)};class xe{constructor(he){this.name=he,this._logLevel=Ce,this._logHandler=Ae,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in I))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?z[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...he),this._logHandler(this,I.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...he),this._logHandler(this,I.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,I.INFO,...he),this._logHandler(this,I.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,I.WARN,...he),this._logHandler(this,I.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,I.ERROR,...he),this._logHandler(this,I.ERROR,...he)}}function Ie(ce){u.forEach(he=>{he.setLogLevel(ce)})}function Pe(ce,he){for(const De of u){let Ue=null;he&&he.level&&(Ue=z[he.level]),De.userLogHandler=null===ce?null:(Ze,ot,...ft)=>{const je=ft.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch(Tt){return null}}).filter(et=>et).join(" ");ot>=(null!=Ue?Ue:Ze.logLevel)&&ce({level:I[ot].toLowerCase(),message:je,args:ft,type:Ze.name})}}}},4948:(Nt,He,G)=>{G.d(He,{IJ:()=>rh,M2:()=>hl,Iv:()=>Gh});var u=G(5e3),I=G(9808),z=G(8421),Ce=G(8306),ye=G(5577),Ae=G(1144),xe=G(576),Ie=G(3268);const Pe=["addListener","removeListener"],ce=["addEventListener","removeEventListener"],he=["on","off"];function De(h,_,c,y){if((0,xe.m)(c)&&(y=c,c=void 0),y)return De(h,_,c).pipe((0,Ie.Z)(y));const[S,B]=function ft(h){return(0,xe.m)(h.addEventListener)&&(0,xe.m)(h.removeEventListener)}(h)?ce.map(re=>Se=>h[re](_,Se,c)):function Ze(h){return(0,xe.m)(h.addListener)&&(0,xe.m)(h.removeListener)}(h)?Pe.map(Ue(h,_)):function ot(h){return(0,xe.m)(h.on)&&(0,xe.m)(h.off)}(h)?he.map(Ue(h,_)):[];if(!S&&(0,Ae.z)(h))return(0,ye.z)(re=>De(re,_,c))((0,z.Xf)(h));if(!S)throw new TypeError("Invalid event target");return new Ce.y(re=>{const Se=(...Ne)=>re.next(1<Ne.length?Ne:Ne[0]);return S(Se),()=>B(Se)})}function Ue(h,_){return c=>y=>h[c](_,y)}var je=G(4986),et=G(3532);const{isArray:Ke}=Array;function Ye(h){return 1===h.length&&Ke(h[0])?h[0]:h}var Je=G(5403);var be=G(5032);new Ce.y(be.Z);var ve=G(515),Oe=G(3269);function it(...h){const _=(0,Oe.jO)(h),c=Ye(h);return c.length?new Ce.y(y=>{let S=c.map(()=>[]),B=c.map(()=>!1);y.add(()=>{S=B=null});for(let re=0;!y.closed&&re<c.length;re++)(0,z.Xf)(c[re]).subscribe((0,Je.x)(y,Se=>{if(S[re].push(Se),S.every(Ne=>Ne.length)){const Ne=S.map(rt=>rt.shift());y.next(_?_(...Ne):Ne),S.some((rt,ht)=>!rt.length&&B[ht])&&y.complete()}},()=>{B[re]=!0,!S[re].length&&y.complete()}));return()=>{S=B=null}}):ve.E}var Ge=G(9646),Gt=G(7579),Mt=(G(1135),G(9841),G(7272)),qt=G(4482);function Wt(h){return(0,qt.e)((_,c)=>{(0,z.Xf)(h).subscribe((0,Je.x)(c,()=>c.complete(),be.Z)),!c.closed&&_.subscribe(c)})}var Ln=G(4671);function pn(...h){const _=(0,Oe.jO)(h);return(0,qt.e)((c,y)=>{const S=h.length,B=new Array(S);let re=h.map(()=>!1),Se=!1;for(let Ne=0;Ne<S;Ne++)(0,z.Xf)(h[Ne]).subscribe((0,Je.x)(y,rt=>{B[Ne]=rt,!Se&&!re[Ne]&&(re[Ne]=!0,(Se=re.every(Ln.y))&&(re=null))},be.Z));c.subscribe((0,Je.x)(y,Ne=>{if(Se){const rt=[Ne,...B];y.next(_?_(...rt):rt)}}))})}var cr=G(5698),un=G(4004),dr=G(9300);G(8675),G(1884);var Mi=G(3900),xt=G(8505),ri=G(2382);Math,Math,Math;const Cr=["*"],$i=["dialog"];function Tl(h,_){if(1&h&&(u.TgZ(0,"strong",3),u._uU(1),u.qZA()),2&h){const c=u.oxw();u.xp6(1),u.Oqu(c.header)}}function el(h,_){}function qs(h,_){if(1&h){const c=u.EpF();u.TgZ(0,"div",4),u.YNc(1,el,0,0,"ng-template",5),u.TgZ(2,"button",6),u.NdJ("click",function(){return u.CHM(c),u.oxw().hide()}),u.qZA()()}if(2&h){const c=u.oxw(),y=u.MAs(1);u.xp6(1),u.Q6J("ngTemplateOutlet",c.contentHeaderTpl||y)}}function Qr(h){return null!=h}function Z(h){return(h||document.body).getBoundingClientRect()}const ut={animation:!0,transitionTimerDelayMs:5},Rn=()=>{},{transitionTimerDelayMs:nt}=ut,ke=new Map,We=(h,_,c,y)=>{let S=y.context||{};const B=ke.get(_);if(B)switch(y.runningTransition){case"continue":return ve.E;case"stop":h.run(()=>B.transition$.complete()),S=Object.assign(B.context,S),ke.delete(_)}const re=c(_,y.animation,S)||Rn;if(!y.animation||"none"===window.getComputedStyle(_).transitionProperty)return h.run(()=>re()),(0,Ge.of)(void 0).pipe(function se(h){return _=>new Ce.y(c=>_.subscribe({next:re=>h.run(()=>c.next(re)),error:re=>h.run(()=>c.error(re)),complete:()=>h.run(()=>c.complete())}))}(h));const Se=new Gt.x,Ne=new Gt.x,rt=Se.pipe(function en(...h){return _=>(0,Mt.z)(_,(0,Ge.of)(...h))}(!0));ke.set(_,{transition$:Se,complete:()=>{Ne.next(),Ne.complete()},context:S});const ht=function Me(h){const{transitionDelay:_,transitionDuration:c}=window.getComputedStyle(h);return 1e3*(parseFloat(_)+parseFloat(c))}(_);return h.runOutsideAngular(()=>{const Jt=De(_,"transitionend").pipe(Wt(rt),(0,dr.h)(({target:Vt})=>Vt===_));(function Qe(...h){return 1===(h=Ye(h)).length?(0,z.Xf)(h[0]):new Ce.y(function vt(h){return _=>{let c=[];for(let y=0;c&&!_.closed&&y<h.length;y++)c.push((0,z.Xf)(h[y]).subscribe((0,Je.x)(_,S=>{if(c){for(let B=0;B<c.length;B++)B!==y&&c[B].unsubscribe();c=null}_.next(S)})))}}(h))})(function bt(h=0,_,c=je.P){let y=-1;return null!=_&&((0,et.K)(_)?c=_:y=_),new Ce.y(S=>{let B=function Tt(h){return h instanceof Date&&!isNaN(h)}(h)?+h-c.now():h;B<0&&(B=0);let re=0;return c.schedule(function(){S.closed||(S.next(re++),0<=y?this.schedule(void 0,y):S.complete())},B)})}(ht+nt).pipe(Wt(rt)),Jt,Ne).pipe(Wt(rt)).subscribe(()=>{ke.delete(_),h.run(()=>{re(),Se.next(),Se.complete()})})}),Se.asObservable()};let Da=(()=>{class h{constructor(){this.animation=ut.animation}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),la=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),vi=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),rl=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({}),h})(),As=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),su=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({}),h})();var Wn=(()=>{return(h=Wn||(Wn={}))[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",Wn;var h})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const au=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Fl(h){const _=Array.from(h.querySelectorAll(au)).filter(c=>-1!==c.tabIndex);return[_[0],_[_.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ia=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez,ri.u5]]}),h})(),hl=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275dir=u.lG2({type:h,selectors:[["",8,"navbar"]]}),h})(),mu=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({}),h})();class Wa{constructor(_,c,y){this.nodes=_,this.viewRef=c,this.componentRef=y}}let Vu=(()=>{class h{constructor(c,y){this._el=c,this._zone=y}ngOnInit(){this._zone.onStable.asObservable().pipe((0,cr.q)(1)).subscribe(()=>{We(this._zone,this._el.nativeElement,(c,y)=>{y&&Z(c),c.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return We(this._zone,this._el.nativeElement,({classList:c})=>c.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return h.\u0275fac=function(c){return new(c||h)(u.Y36(u.SBq),u.Y36(u.R0b))},h.\u0275cmp=u.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,y){2&c&&(u.Tol("modal-backdrop"+(y.backdropClass?" "+y.backdropClass:"")),u.ekj("show",!y.animation)("fade",y.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(c,y){},encapsulation:2}),h})();class uc{close(_){}dismiss(_){}}class ls{constructor(_,c,y,S){this._windowCmptRef=_,this._contentRef=c,this._backdropCmptRef=y,this._beforeDismiss=S,this._closed=new Gt.x,this._dismissed=new Gt.x,this._hidden=new Gt.x,_.instance.dismissEvent.subscribe(B=>{this.dismiss(B)}),this.result=new Promise((B,re)=>{this._resolve=B,this._reject=re}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(_){this._windowCmptRef&&(this._closed.next(_),this._resolve(_),this._removeModalElements())}_dismiss(_){this._dismissed.next(_),this._reject(_),this._removeModalElements()}dismiss(_){if(this._windowCmptRef)if(this._beforeDismiss){const c=this._beforeDismiss();!function N(h){return h&&h.then}(c)?!1!==c&&this._dismiss(_):c.then(y=>{!1!==y&&this._dismiss(_)},()=>{})}else this._dismiss(_)}_removeModalElements(){const _=this._windowCmptRef.instance.hide(),c=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ge.of)(void 0);_.subscribe(()=>{const{nativeElement:y}=this._windowCmptRef.location;y.parentNode.removeChild(y),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),c.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:y}=this._backdropCmptRef.location;y.parentNode.removeChild(y),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),it(_,c).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var pl=(()=>{return(h=pl||(pl={}))[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",pl;var h})();let $d=(()=>{class h{constructor(c,y,S){this._document=c,this._elRef=y,this._zone=S,this._closed$=new Gt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Gt.x,this.hidden=new Gt.x}dismiss(c){this.dismissEvent.emit(c)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,cr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:c}=this._elRef,y={animation:this.animation,runningTransition:"stop"},re=it(We(this._zone,c,()=>c.classList.remove("show"),y),We(this._zone,this._dialogEl.nativeElement,()=>{},y));return re.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),re}_show(){const c={animation:this.animation,runningTransition:"continue"};it(We(this._zone,this._elRef.nativeElement,(B,re)=>{re&&Z(B),B.classList.add("show")},c),We(this._zone,this._dialogEl.nativeElement,()=>{},c)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:c}=this._elRef;this._zone.runOutsideAngular(()=>{De(c,"keydown").pipe(Wt(this._closed$),(0,dr.h)(S=>S.which===Wn.Escape)).subscribe(S=>{this.keyboard?requestAnimationFrame(()=>{S.defaultPrevented||this._zone.run(()=>this.dismiss(pl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let y=!1;De(this._dialogEl.nativeElement,"mousedown").pipe(Wt(this._closed$),(0,xt.b)(()=>y=!1),(0,Mi.w)(()=>De(c,"mouseup").pipe(Wt(this._closed$),(0,cr.q)(1))),(0,dr.h)(({target:S})=>c===S)).subscribe(()=>{y=!0}),De(c,"click").pipe(Wt(this._closed$)).subscribe(({target:S})=>{c===S&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!y&&this._zone.run(()=>this.dismiss(pl.BACKDROP_CLICK))),y=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:c}=this._elRef;if(!c.contains(document.activeElement)){const y=c.querySelector("[ngbAutofocus]"),S=Fl(c)[0];(y||S||c).focus()}}_restoreFocus(){const c=this._document.body,y=this._elWithFocus;let S;S=y&&y.focus&&c.contains(y)?y:c,this._zone.runOutsideAngular(()=>{setTimeout(()=>S.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&We(this._zone,this._elRef.nativeElement,({classList:c})=>(c.add("modal-static"),()=>c.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return h.\u0275fac=function(c){return new(c||h)(u.Y36(I.K0),u.Y36(u.SBq),u.Y36(u.R0b))},h.\u0275cmp=u.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(c,y){if(1&c&&u.Gf($i,7),2&c){let S;u.iGM(S=u.CRH())&&(y._dialogEl=S.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,y){2&c&&(u.uIk("aria-modal",!0)("aria-labelledby",y.ariaLabelledBy)("aria-describedby",y.ariaDescribedBy),u.Tol("modal d-block"+(y.windowClass?" "+y.windowClass:"")),u.ekj("fade",y.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Cr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(c,y){1&c&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&c&&u.Tol("modal-dialog"+(y.size?" modal-"+y.size:"")+(y.centered?" modal-dialog-centered":"")+(y.scrollable?" modal-dialog-scrollable":"")+(y.modalDialogClass?" "+y.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),h})(),ho=(()=>{class h{constructor(c){this._document=c}hide(){const c=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),y=this._document.body,S=y.style,{overflow:B,paddingRight:re}=S;if(c>0){const Se=parseFloat(window.getComputedStyle(y).paddingRight);S.paddingRight=`${Se+c}px`}return S.overflow="hidden",()=>{c>0&&(S.paddingRight=re),S.overflow=B}}}return h.\u0275fac=function(c){return new(c||h)(u.LFG(I.K0))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),ha=(()=>{class h{constructor(c,y,S,B,re,Se){this._applicationRef=c,this._injector=y,this._document=S,this._scrollBar=B,this._rendererFactory=re,this._ngZone=Se,this._activeWindowCmptHasChanged=new Gt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Ne=this._windowCmpts[this._windowCmpts.length-1];((h,_,c,y=!1)=>{this._ngZone.runOutsideAngular(()=>{const S=De(_,"focusin").pipe(Wt(c),(0,un.U)(B=>B.target));De(_,"keydown").pipe(Wt(c),(0,dr.h)(B=>B.which===Wn.Tab),pn(S)).subscribe(([B,re])=>{const[Se,Ne]=Fl(_);(re===Se||re===_)&&B.shiftKey&&(Ne.focus(),B.preventDefault()),re===Ne&&!B.shiftKey&&(Se.focus(),B.preventDefault())}),y&&De(_,"click").pipe(Wt(c),pn(S),(0,un.U)(B=>B[1])).subscribe(B=>B.focus())})})(0,Ne.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Ne.location.nativeElement)}})}_restoreScrollBar(){const c=this._scrollBarRestoreFn;c&&(this._scrollBarRestoreFn=null,c())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(c,y,S,B){const re=B.container instanceof HTMLElement?B.container:Qr(B.container)?this._document.querySelector(B.container):this._document.body,Se=this._rendererFactory.createRenderer(null,null),Ne=()=>{this._modalRefs.length||(Se.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!re)throw new Error(`The specified modal container "${B.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const rt=new uc,ht=this._getContentRef(c,B.injector||y,S,rt,B);let Jt=!1!==B.backdrop?this._attachBackdrop(c,re):void 0,kt=this._attachWindowComponent(c,re,ht),Vt=new ls(kt,ht,Jt,B.beforeDismiss);return this._registerModalRef(Vt),this._registerWindowCmpt(kt),Vt.result.then(Ne,Ne),rt.close=zn=>{Vt.close(zn)},rt.dismiss=zn=>{Vt.dismiss(zn)},this._applyWindowOptions(kt.instance,B),1===this._modalRefs.length&&Se.addClass(this._document.body,"modal-open"),Jt&&Jt.instance&&(this._applyBackdropOptions(Jt.instance,B),Jt.changeDetectorRef.detectChanges()),kt.changeDetectorRef.detectChanges(),Vt}get activeInstances(){return this._activeInstances}dismissAll(c){this._modalRefs.forEach(y=>y.dismiss(c))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(c,y){let B=c.resolveComponentFactory(Vu).create(this._injector);return this._applicationRef.attachView(B.hostView),y.appendChild(B.location.nativeElement),B}_attachWindowComponent(c,y,S){let re=c.resolveComponentFactory($d).create(this._injector,S.nodes);return this._applicationRef.attachView(re.hostView),y.appendChild(re.location.nativeElement),re}_applyWindowOptions(c,y){this._windowAttributes.forEach(S=>{Qr(y[S])&&(c[S]=y[S])})}_applyBackdropOptions(c,y){this._backdropAttributes.forEach(S=>{Qr(y[S])&&(c[S]=y[S])})}_getContentRef(c,y,S,B,re){return S?S instanceof u.Rgc?this._createFromTemplateRef(S,B):function $o(h){return"string"==typeof h}(S)?this._createFromString(S):this._createFromComponent(c,y,S,B,re):new Wa([])}_createFromTemplateRef(c,y){const B=c.createEmbeddedView({$implicit:y,close(re){y.close(re)},dismiss(re){y.dismiss(re)}});return this._applicationRef.attachView(B),new Wa([B.rootNodes],B)}_createFromString(c){const y=this._document.createTextNode(`${c}`);return new Wa([[y]])}_createFromComponent(c,y,S,B,re){const Se=c.resolveComponentFactory(S),Ne=u.zs3.create({providers:[{provide:uc,useValue:B}],parent:y}),rt=Se.create(Ne),ht=rt.location.nativeElement;return re.scrollable&&ht.classList.add("component-host-scrollable"),this._applicationRef.attachView(rt.hostView),new Wa([[ht]],rt.hostView,rt)}_setAriaHidden(c){const y=c.parentElement;y&&c!==this._document.body&&(Array.from(y.children).forEach(S=>{S!==c&&"SCRIPT"!==S.nodeName&&(this._ariaHiddenValues.set(S,S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))}),this._setAriaHidden(y))}_revertAriaHidden(){this._ariaHiddenValues.forEach((c,y)=>{c?y.setAttribute("aria-hidden",c):y.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(c){const y=()=>{const S=this._modalRefs.indexOf(c);S>-1&&(this._modalRefs.splice(S,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(c),this._activeInstances.emit(this._modalRefs),c.result.then(y,y)}_registerWindowCmpt(c){this._windowCmpts.push(c),this._activeWindowCmptHasChanged.next(),c.onDestroy(()=>{const y=this._windowCmpts.indexOf(c);y>-1&&(this._windowCmpts.splice(y,1),this._activeWindowCmptHasChanged.next())})}}return h.\u0275fac=function(c){return new(c||h)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(I.K0),u.LFG(ho),u.LFG(u.FYo),u.LFG(u.R0b))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Jc=(()=>{class h{constructor(c){this._ngbConfig=c,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return h.\u0275fac=function(c){return new(c||h)(u.LFG(Da))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),cc=(()=>{class h{constructor(c,y,S,B){this._moduleCFR=c,this._injector=y,this._modalStack=S,this._config=B}open(c,y={}){const S=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),y);return this._modalStack.open(this._moduleCFR,this._injector,c,S)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(c){this._modalStack.dismissAll(c)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return h.\u0275fac=function(c){return new(c||h)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(ha),u.LFG(Jc))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),_u=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({providers:[cc]}),h})(),rd=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),St=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),gc=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),Zd=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),$f=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),Sa=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})();const yu=(h,_)=>{const{classList:c}=h;if(_)return c.remove("hide"),Z(h),c.add("showing"),()=>{c.remove("showing"),c.add("show")};c.add("show")},qf=({classList:h})=>(h.remove("show"),()=>{h.add("hide")});let Uu=(()=>{class h{constructor(c){this._ngbConfig=c,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return h.\u0275fac=function(c){return new(c||h)(u.LFG(Da))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),ad=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275dir=u.lG2({type:h,selectors:[["","ngbToastHeader",""]]}),h})(),Gh=(()=>{class h{constructor(c,y,S,B){this.ariaLive=c,this._zone=S,this._element=B,this.contentHeaderTpl=null,this.shown=new u.vpe,this.hidden=new u.vpe,null==this.ariaLive&&(this.ariaLive=y.ariaLive),this.delay=y.delay,this.autohide=y.autohide,this.animation=y.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,cr.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(c){"autohide"in c&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const c=We(this._zone,this._element.nativeElement,qf,{animation:this.animation,runningTransition:"stop"});return c.subscribe(()=>{this.hidden.emit()}),c}show(){const c=We(this._zone,this._element.nativeElement,yu,{animation:this.animation,runningTransition:"continue"});return c.subscribe(()=>{this.shown.emit()}),c}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return h.\u0275fac=function(c){return new(c||h)(u.$8M("aria-live"),u.Y36(Uu),u.Y36(u.R0b),u.Y36(u.SBq))},h.\u0275cmp=u.Xpm({type:h,selectors:[["ngb-toast"]],contentQueries:function(c,y,S){if(1&c&&u.Suo(S,ad,7,u.Rgc),2&c){let B;u.iGM(B=u.CRH())&&(y.contentHeaderTpl=B.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(c,y){2&c&&(u.uIk("aria-live",y.ariaLive),u.ekj("fade",y.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[u.TTD],ngContentSelectors:Cr,decls:5,vars:1,consts:function(){let _;return _=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",_,1,"btn-close",3,"click"]]},template:function(c,y){1&c&&(u.F$t(),u.YNc(0,Tl,2,1,"ng-template",null,0,u.W1O),u.YNc(2,qs,3,1,"ng-template",1),u.TgZ(3,"div",2),u.Hsn(4),u.qZA()),2&c&&(u.xp6(2),u.Q6J("ngIf",y.contentHeaderTpl||y.header))},directives:[I.O5,I.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),h})(),Jd=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})(),Aa=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({}),h})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Hl(){return 100}});let th=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[I.ez]]}),h})();const nh=[la,vi,rl,As,su,Ia,mu,_u,rd,St,gc,Zd,$f,Sa,Jd,Aa,th];let rh=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[nh,la,vi,rl,As,su,Ia,mu,_u,rd,St,gc,Zd,$f,Sa,Jd,Aa,th]}),h})()},5861:(Nt,He,G)=>{function u(z,Ce,ye,Ae,xe,Ie,Pe){try{var ce=z[Ie](Pe),he=ce.value}catch(De){return void ye(De)}ce.done?Ce(he):Promise.resolve(he).then(Ae,xe)}function I(z){return function(){var Ce=this,ye=arguments;return new Promise(function(Ae,xe){var Ie=z.apply(Ce,ye);function Pe(he){u(Ie,Ae,xe,Pe,ce,"next",he)}function ce(he){u(Ie,Ae,xe,Pe,ce,"throw",he)}Pe(void 0)})}}G.d(He,{Z:()=>I})}},Nt=>{Nt(Nt.s=1779)}]);
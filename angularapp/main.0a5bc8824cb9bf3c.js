"use strict";(self.webpackChunktp_sala_de_juegos_lcardozo=self.webpackChunktp_sala_de_juegos_lcardozo||[]).push([[179],{2011:(at,Ee,R)=>{R.d(Ee,{Dh:()=>fe,GT:()=>me,cc:()=>Se,hO:()=>ze,on:()=>j,pX:()=>X,xv:()=>ce});var c=R(5e3),Y=R(127),k=R(5813);at=R.hmd(at);const oe=["ngOnDestroy"],X=(De,tt,Ze,Te={})=>new Proxy(De,{get:(ve,be)=>Ze.runOutsideAngular(()=>{var He;if(De[be])return(null===(He=null==Te?void 0:Te.spy)||void 0===He?void 0:He.get)&&Te.spy.get(be,De[be]),De[be];if(oe.indexOf(be)>-1)return()=>{};const Ge=tt.toPromise().then(te=>{const z=te&&te[be];return"function"==typeof z?z.bind(te):z&&z.then?z.then(ne=>Ze.run(()=>ne)):Ze.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>Ge[z],apply:(te,z,ne)=>Ge.then(_e=>{var ie;const Me=_e&&_e(...ne);return(null===(ie=null==Te?void 0:Te.spy)||void 0===ie?void 0:ie.apply)&&Te.spy.apply(be,ne,Me),Me})})})}),me=(De,tt)=>{tt.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Te=>{Object.defineProperty(De.prototype,Te,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Te))})})};class re{constructor(tt){return tt}}const fe=new c.OlP("angularfire2.app.options"),ce=new c.OlP("angularfire2.app.name");function j(De,tt,Ze){const ve="object"==typeof Ze&&Ze||{};ve.name=ve.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const He=Y.Z.apps.filter(Ge=>Ge&&Ge.name===ve.name)[0]||tt.runOutsideAngular(()=>Y.Z.initializeApp(De,ve));try{JSON.stringify(De)!==JSON.stringify(He.options)&&H("error",`${He.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new re(He)}const H=(De,...tt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)},Q={provide:re,useFactory:j,deps:[fe,c.R0b,[new c.FiY,ce]]};let ze=(()=>{class De{constructor(Ze){Y.Z.registerVersion("angularfire",k.q4.full,"core"),Y.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Ze.toString())}static initializeApp(Ze,Te){return{ngModule:De,providers:[{provide:fe,useValue:Ze},{provide:ce,useValue:Te}]}}}return De.\u0275fac=function(Ze){return new(Ze||De)(c.LFG(c.Lbi))},De.\u0275mod=c.oAB({type:De}),De.\u0275inj=c.cJS({providers:[Q]}),De})();function Se(De,tt,Ze,Te,ve){const[,be,He]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===De)||[];if(be)return function xe(De,tt){try{return De.toString()===tt.toString()}catch(Ze){return De===tt}}(ve,He)||(pe("error",`${tt} was already initialized on the ${Ze} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ve,was:He})),be;{const Ge=Te();return globalThis.\u0275AngularfireInstanceCache.push([De,Ge,ve]),Ge}}const Le=!!at.hot,pe=(De,...tt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[De](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Ee,R)=>{R.d(Ee,{q4:()=>Vc,iC:()=>Sl,HU:()=>Yn,vb:()=>Bc,JM:()=>Xo});var c=R(5e3),Y=R(5867),k=R(5861),oe=R(9681),X=R(2090),me=R(4859),re=R(1877);const fe="@firebase/installations",H="w:0.5.7",Q="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Ze({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Te(C){return{token:C.token,requestStatus:2,expiresIn:ne(C.expiresIn),creationTime:Date.now()}}function ve(C,T){return be.apply(this,arguments)}function be(){return(be=(0,k.Z)(function*(C,T){const L=(yield T.json()).error;return De.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ge(C,{refreshToken:T}){const M=He(C);return M.append("Authorization",function _e(C){return`${Q} ${C}`}(T)),M}function te(C){return z.apply(this,arguments)}function z(){return(z=(0,k.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function ne(C){return Number(C.replace("s","000"))}function ie(C,T){return Me.apply(this,arguments)}function Me(){return(Me=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:M}){const L=Ze(C),q=He(C),ee=T.getImmediate({optional:!0});if(ee){const wt=yield ee.getHeartbeatsHeader();wt&&q.append("x-firebase-client",wt)}const Ye={method:"POST",headers:q,body:JSON.stringify({fid:M,authVersion:Q,appId:C.appId,sdkVersion:H})},rt=yield te(()=>fetch(L,Ye));if(rt.ok){const wt=yield rt.json();return{fid:wt.fid||M,registrationStatus:2,refreshToken:wt.refreshToken,authToken:Te(wt.authToken)}}throw yield ve("Create Installation",rt)})).apply(this,arguments)}function ae(C){return new Promise(T=>{setTimeout(T,C)})}const Xt=/^[cdef][\w-]{21}$/;function ut(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function vt(C){return function Ct(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(M)?M:""}catch(C){return""}}function cn(C){return`${C.appName}!${C.appId}`}const dn=new Map;function Ii(C,T){const M=cn(C);en(M,T),function jt(C,T){const M=function ii(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=C=>{en(C.data.key,C.data.fid)}),lr}();M&&M.postMessage({key:C,fid:T}),function Ss(){0===dn.size&&lr&&(lr.close(),lr=null)}()}(M,T)}function en(C,T){const M=dn.get(C);if(M)for(const L of M)L(T)}let lr=null;const Rr="firebase-installations-store";let is=null;function ss(){return is||(is=(0,X.X3)("firebase-installations-database",1,(C,T)=>{0===T&&C.createObjectStore(Rr)})),is}function dt(C,T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,k.Z)(function*(C,T){const M=cn(C),q=(yield ss()).transaction(Rr,"readwrite"),ee=q.objectStore(Rr),Oe=yield ee.get(M);return yield ee.put(T,M),yield q.complete,(!Oe||Oe.fid!==T.fid)&&Ii(C,T.fid),T})).apply(this,arguments)}function er(C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,k.Z)(function*(C){const T=cn(C),L=(yield ss()).transaction(Rr,"readwrite");yield L.objectStore(Rr).delete(T),yield L.complete})).apply(this,arguments)}function si(C,T){return to.apply(this,arguments)}function to(){return(to=(0,k.Z)(function*(C,T){const M=cn(C),q=(yield ss()).transaction(Rr,"readwrite"),ee=q.objectStore(Rr),Oe=yield ee.get(M),Ye=T(Oe);return void 0===Ye?yield ee.delete(M):yield ee.put(Ye,M),yield q.complete,Ye&&(!Oe||Oe.fid!==Ye.fid)&&Ii(C,Ye.fid),Ye})).apply(this,arguments)}function yn(C){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(C){let T;const M=yield si(C.appConfig,L=>{const q=As(L),ee=ca(C,q);return T=ee.registrationPromise,ee.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function As(C){return Gt(C||{fid:ut(),registrationStatus:0})}function ca(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(De.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function Ht(C,T){return st.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Dt(C)}:{installationEntry:T}}function st(){return(st=(0,k.Z)(function*(C,T){try{const M=yield ie(C,T);return dt(C.appConfig,M)}catch(M){throw tt(M)&&409===M.customData.serverCode?yield er(C.appConfig):yield dt(C.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Dt(C){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*(C){let T=yield ji(C.appConfig);for(;1===T.registrationStatus;)yield ae(100),T=yield ji(C.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield yn(C);return L||M}return T})).apply(this,arguments)}function ji(C){return si(C,T=>{if(!T)throw De.create("installation-not-found");return Gt(T)})}function Gt(C){return function no(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function br(C,T){return cr.apply(this,arguments)}function cr(){return(cr=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:T},M){const L=ft(C,M),q=Ge(C,M),ee=T.getImmediate({optional:!0});if(ee){const wt=yield ee.getHeartbeatsHeader();wt&&q.append("x-firebase-client",wt)}const Ye={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},rt=yield te(()=>fetch(L,Ye));if(rt.ok)return Te(yield rt.json());throw yield ve("Generate Auth Token",rt)})).apply(this,arguments)}function ft(C,{fid:T}){return`${Ze(C)}/${T}/authTokens:generate`}function Dr(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(C,T=!1){let M;const L=yield si(C.appConfig,ee=>{if(!Pt(ee))throw De.create("not-registered");const Oe=ee.authToken;if(!T&&G(Oe))return ee;if(1===Oe.requestStatus)return M=Ke(C,T),ee;{if(!navigator.onLine)throw De.create("app-offline");const Ye=$(ee);return M=pt(C,Ye),Ye}});return M?yield M:L.authToken})).apply(this,arguments)}function Ke(C,T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(C,T){let M=yield et(C.appConfig);for(;1===M.authToken.requestStatus;)yield ae(100),M=yield et(C.appConfig);const L=M.authToken;return 0===L.requestStatus?Dr(C,T):L})).apply(this,arguments)}function et(C){return si(C,T=>{if(!Pt(T))throw De.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function pt(C,T){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,k.Z)(function*(C,T){try{const M=yield br(C,T),L=Object.assign(Object.assign({},T),{authToken:M});return yield dt(C.appConfig,L),M}catch(M){if(!tt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield dt(C.appConfig,L)}else yield er(C.appConfig);throw M}})).apply(this,arguments)}function Pt(C){return void 0!==C&&2===C.registrationStatus}function G(C){return 2===C.requestStatus&&!function V(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function $(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function Ue(){return(Ue=(0,k.Z)(function*(C){const T=C,{installationEntry:M,registrationPromise:L}=yield yn(T);return L?L.catch(console.error):Dr(T).catch(console.error),M.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,k.Z)(function*(C,T=!1){const M=C;return yield wr(M),(yield Dr(M,T)).token})).apply(this,arguments)}function wr(C){return $t.apply(this,arguments)}function $t(){return($t=(0,k.Z)(function*(C){const{registrationPromise:T}=yield yn(C);T&&(yield T)})).apply(this,arguments)}function zn(C){return De.create("missing-app-config-values",{valueName:C})}const ha="installations",Re=C=>{const T=C.getProvider("app").getImmediate(),M=function os(C){if(!C||!C.options)throw zn("App Configuration");if(!C.name)throw zn("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!C.options[M])throw zn(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},kt=C=>{const T=C.getProvider("app").getImmediate(),M=(0,oe._getProvider)(T,ha).getImmediate();return{getId:()=>function J(C){return Ue.apply(this,arguments)}(M),getToken:q=>function bt(C){return Kt.apply(this,arguments)}(M,q)}};(function pn(){(0,oe._registerComponent)(new me.wA(ha,Re,"PUBLIC")),(0,oe._registerComponent)(new me.wA("installations-internal",kt,"PRIVATE"))})(),(0,oe.registerVersion)(fe,"0.5.7"),(0,oe.registerVersion)(fe,"0.5.7","esm2017");const dr="@firebase/remote-config",Nn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yc{constructor(T,M,L,q){this.client=T,this.storage=M,this.storageCache=L,this.logger=q}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,q=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${q}.`),q}fetch(T){var M=this;return(0,k.Z)(function*(){const[L,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(T.cacheMaxAgeMillis,L))return q;T.eTag=q&&q.eTag;const ee=yield M.client.fetch(T),Oe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Oe.push(M.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Oe),ee})()}}function Rs(C=navigator){return C.languages&&C.languages[0]||C.language}class rl{constructor(T,M,L,q,ee,Oe){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=L,this.projectId=q,this.apiKey=ee,this.appId=Oe}fetch(T){var M=this;return(0,k.Z)(function*(){const[L,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},rt={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:M.appId,language_code:Rs()},wt={method:"POST",headers:Ye,body:JSON.stringify(rt)},Bt=fetch(Oe,wt),Tt=new Promise((Fr,gs)=>{T.signal.addEventListener(()=>{const Zs=new Error("The operation was aborted.");Zs.name="AbortError",gs(Zs)})});let xn;try{yield Promise.race([Bt,Tt]),xn=yield Bt}catch(Fr){let gs="fetch-client-network";throw"AbortError"===Fr.name&&(gs="fetch-timeout"),Nn.create(gs,{originalErrorMessage:Fr.message})}let In=xn.status;const wo=xn.headers.get("ETag")||void 0;let Ea,hi;if(200===xn.status){let Fr;try{Fr=yield xn.json()}catch(gs){throw Nn.create("fetch-client-parse",{originalErrorMessage:gs.message})}Ea=Fr.entries,hi=Fr.state}if("INSTANCE_STATE_UNSPECIFIED"===hi?In=500:"NO_CHANGE"===hi?In=304:("NO_TEMPLATE"===hi||"EMPTY_CONFIG"===hi)&&(Ea={}),304!==In&&200!==In)throw Nn.create("fetch-status",{httpStatus:In});return{status:In,eTag:wo,config:Ea}})()}}class Xf{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,k.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:L}){var q=this;return(0,k.Z)(function*(){yield function Pn(C,T){return new Promise((M,L)=>{const q=Math.max(T-Date.now(),0),ee=setTimeout(M,q);C.addEventListener(()=>{clearTimeout(ee),L(Nn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const ee=yield q.client.fetch(T);return yield q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function vc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const Oe={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Oe),q.attemptFetch(T,Oe)}})()}}class bc{constructor(T,M,L,q,ee){this.app=T,this._client=M,this._storageCache=L,this._storage=q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lu(C,T){const M=C.target.error||void 0;return Nn.create(T,{originalErrorMessage:M&&M.message})}const ks="app_namespace_store";class rp{constructor(T,M,L,q=function np(){return new Promise((C,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{T(lu(L,"storage-open"))},M.onsuccess=L=>{C(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(M){T(Nn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=T,this.appName=M,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((q,ee)=>{const Ye=L.transaction([ks],"readonly").objectStore(ks),rt=M.createCompositeKey(T);try{const wt=Ye.get(rt);wt.onerror=Bt=>{ee(lu(Bt,"storage-get"))},wt.onsuccess=Bt=>{const Tt=Bt.target.result;q(Tt?Tt.value:void 0)}}catch(wt){ee(Nn.create("storage-get",{originalErrorMessage:wt&&wt.message}))}})})()}set(T,M){var L=this;return(0,k.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ee,Oe)=>{const rt=q.transaction([ks],"readwrite").objectStore(ks),wt=L.createCompositeKey(T);try{const Bt=rt.put({compositeKey:wt,value:M});Bt.onerror=Tt=>{Oe(lu(Tt,"storage-set"))},Bt.onsuccess=()=>{ee()}}catch(Bt){Oe(Nn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(T){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((q,ee)=>{const Ye=L.transaction([ks],"readwrite").objectStore(ks),rt=M.createCompositeKey(T);try{const wt=Ye.delete(rt);wt.onerror=Bt=>{ee(lu(Bt,"storage-delete"))},wt.onsuccess=()=>{q()}}catch(wt){ee(Nn.create("storage-delete",{originalErrorMessage:wt&&wt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class wc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const M=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),q=T.storage.getActiveConfig(),ee=yield M;ee&&(T.lastFetchStatus=ee);const Oe=yield L;Oe&&(T.lastSuccessfulFetchTimestampMillis=Oe);const Ye=yield q;Ye&&(T.activeConfig=Ye)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function so(){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,k.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function jo(){(0,oe._registerComponent)(new me.wA("remote-config",function C(T,{instanceIdentifier:M}){const L=T.getProvider("app").getImmediate(),q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,X.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:ee,apiKey:Oe,appId:Ye}=L.options;if(!ee)throw Nn.create("registration-project-id");if(!Oe)throw Nn.create("registration-api-key");if(!Ye)throw Nn.create("registration-app-id");const rt=new rp(Ye,L.name,M=M||"firebase"),wt=new wc(rt),Bt=new re.Yd(dr);Bt.logLevel=re.in.ERROR;const Tt=new rl(q,oe.SDK_VERSION,M,ee,Oe,Ye),xn=new Xf(Tt,rt),In=new yc(xn,rt,wt,Bt),wo=new bc(L,In,wt,rt,Bt);return function rr(C){const T=(0,X.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(wo),wo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(dr,"0.3.6"),(0,oe.registerVersion)(dr,"0.3.6","esm2017")}();const uu="/firebase-messaging-sw.js",Ps="/firebase-cloud-messaging-push-scope",qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oo="google.c.a.c_id",pa="google.c.a.c_l",Ec="google.c.a.ts",ip="google.c.a.e";var Fs=(()=>{return(C=Fs||(Fs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Fs;var C})();function li(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sl(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),q=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)q[ee]=L.charCodeAt(ee);return q}const ol="fcm_token_details_db",hr="fcm_token_object_Store";function Xd(C){return al.apply(this,arguments)}function al(){return al=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(ol))return null;let T=null;return(yield(0,X.X3)(ol,5,function(){var L=(0,k.Z)(function*(q,ee,Oe,Ye){var rt;if(ee<2||!q.objectStoreNames.contains(hr))return;const wt=Ye.objectStore(hr),Bt=yield wt.index("fcmSenderId").get(C);if(yield wt.clear(),Bt)if(2===ee){const Tt=Bt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;T={token:Tt.fcmToken,createTime:null!==(rt=Tt.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:li(Tt.vapidKey)}}}else if(3===ee){const Tt=Bt;T={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:li(Tt.auth),p256dh:li(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:li(Tt.vapidKey)}}}else if(4===ee){const Tt=Bt;T={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:li(Tt.auth),p256dh:li(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:li(Tt.vapidKey)}}}});return function(q,ee,Oe,Ye){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(ol),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Cc(T)?T:null}),al.apply(this,arguments)}function Cc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const cs="firebase-messaging-store";let ga=null;function cu(){return ga||(ga=(0,X.X3)("firebase-messaging-database",1,(C,T)=>{0===T&&C.createObjectStore(cs)})),ga}function _n(C){return $o.apply(this,arguments)}function $o(){return($o=(0,k.Z)(function*(C){const T=lo(C),L=yield(yield cu()).transaction(cs).objectStore(cs).get(T);if(L)return L;{const q=yield Xd(C.appConfig.senderId);if(q)return yield Ls(C,q),q}})).apply(this,arguments)}function Ls(C,T){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(C,T){const M=lo(C),q=(yield cu()).transaction(cs,"readwrite");return yield q.objectStore(cs).put(T,M),yield q.complete,T})).apply(this,arguments)}function Tc(C){return ao.apply(this,arguments)}function ao(){return(ao=(0,k.Z)(function*(C){const T=lo(C),L=(yield cu()).transaction(cs,"readwrite");yield L.objectStore(cs).delete(T),yield L.complete})).apply(this,arguments)}function lo({appConfig:C}){return C.appId}const On=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ma(C,T){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,k.Z)(function*(C,T){const M=yield Us(C),L=gt(T),q={method:"POST",headers:M,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(Zr(C.appConfig),q)).json()}catch(Oe){throw On.create("token-subscribe-failed",{errorInfo:Oe})}if(ee.error)throw On.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw On.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Cr(C,T){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,k.Z)(function*(C,T){const M=yield Us(C),L=gt(T.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${Zr(C.appConfig)}/${T.token}`,q)).json()}catch(Oe){throw On.create("token-update-failed",{errorInfo:Oe})}if(ee.error)throw On.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw On.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ds(C,T){return cl.apply(this,arguments)}function cl(){return(cl=(0,k.Z)(function*(C,T){const L={method:"DELETE",headers:yield Us(C)};try{const ee=yield(yield fetch(`${Zr(C.appConfig)}/${T}`,L)).json();if(ee.error)throw On.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(q){throw On.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function Zr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Us(C){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,k.Z)(function*({appConfig:C,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function gt({p256dh:C,auth:T,endpoint:M,vapidKey:L}){const q={web:{endpoint:M,auth:T,p256dh:C}};return L!==qr&&(q.web.applicationPubKey=L),q}const dl=6048e5;function _a(C){return hl.apply(this,arguments)}function hl(){return(hl=(0,k.Z)(function*(C){const T=yield fu(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:li(T.getKey("auth")),p256dh:li(T.getKey("p256dh"))},L=yield _n(C.firebaseDependencies);if(L){if(Wo(L.subscriptionOptions,M))return Date.now()>=L.createTime+dl?du(C,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield ds(C.firebaseDependencies,L.token)}catch(q){console.warn(q)}return we(C.firebaseDependencies,M)}return we(C.firebaseDependencies,M)})).apply(this,arguments)}function fl(C){return pl.apply(this,arguments)}function pl(){return(pl=(0,k.Z)(function*(C){const T=yield _n(C.firebaseDependencies);T&&(yield ds(C.firebaseDependencies,T.token),yield Tc(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function du(C,T){return hu.apply(this,arguments)}function hu(){return(hu=(0,k.Z)(function*(C,T){try{const M=yield Cr(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield Ls(C.firebaseDependencies,L),M}catch(M){throw yield fl(C),M}})).apply(this,arguments)}function we(C,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,k.Z)(function*(C,T){const L={token:yield ma(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Ls(C,L),L.token})).apply(this,arguments)}function fu(C,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sl(T)})})).apply(this,arguments)}function Wo(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function zo(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Kr(C,T){if(!T.notification)return;C.notification={};const M=T.notification.title;M&&(C.notification.title=M);const L=T.notification.body;L&&(C.notification.body=L);const q=T.notification.image;q&&(C.notification.image=q)}(T,C),function pu(C,T){!T.data||(C.data=T.data)}(T,C),function gu(C,T){if(!T.fcmOptions)return;C.fcmOptions={};const M=T.fcmOptions.link;M&&(C.fcmOptions.link=M);const L=T.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(T,C),T}function Ic(C){return"object"==typeof C&&!!C&&oo in C}function mu(C,T){const M=[];for(let L=0;L<C.length;L++)M.push(C.charAt(L)),L<T.length&&M.push(T.charAt(L));return M.join("")}function Gs(C){return On.create("missing-app-config-values",{valueName:C})}mu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fr{constructor(T,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function gl(C){if(!C||!C.options)throw Gs("App Configuration Object");if(!C.name)throw Gs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const L of T)if(!M[L])throw Gs(L);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:q,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ui(C){return ml.apply(this,arguments)}function ml(){return(ml=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(uu,{scope:Ps}),C.swRegistration.update().catch(()=>{})}catch(T){throw On.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function js(C,T){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,k.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield ui(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function _u(C,T){return _l.apply(this,arguments)}function _l(){return(_l=(0,k.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=qr)})).apply(this,arguments)}function yu(){return(yu=(0,k.Z)(function*(C,T){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield _u(C,null==T?void 0:T.vapidKey),yield js(C,null==T?void 0:T.serviceWorkerRegistration),_a(C)})).apply(this,arguments)}function ya(C,T,M){return va.apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(C,T,M){const L=vu(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[oo],message_name:M[pa],message_time:M[Ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vu(C){switch(C){case Fs.NOTIFICATION_CLICKED:return"notification_open";case Fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sc(){return(Sc=(0,k.Z)(function*(C,T){const M=T.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===Fs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(zo(M)):C.onMessageHandler.next(zo(M)));const L=M.data;Ic(L)&&"1"===L[ip]&&(yield ya(C,M.messageType,L))})).apply(this,arguments)}const Du="@firebase/messaging",Ac=C=>{const T=new fr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function bu(C,T){return Sc.apply(this,arguments)}(T,M)),T},co=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function yl(C,T){return yu.apply(this,arguments)}(T,L)}};function Oc(){return ho.apply(this,arguments)}function ho(){return(ho=(0,k.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nc(){(0,oe._registerComponent)(new me.wA("messaging",Ac,"PUBLIC")),(0,oe._registerComponent)(new me.wA("messaging-internal",co,"PRIVATE")),(0,oe.registerVersion)(Du,"0.9.11"),(0,oe.registerVersion)(Du,"0.9.11","esm2017")}();const Eu="analytics",Rm="firebase_id",ba="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vl="https://www.googletagmanager.com/gtag/js",Fn=new re.Yd("@firebase/analytics");function xc(C){return Promise.all(C.map(T=>T.catch(M=>M)))}function sp(C,T){const M=document.createElement("script");M.src=`${vl}?l=${C}&id=${T}`,M.async=!0,document.head.appendChild(M)}function qo(C,T,M,L,q,ee){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,k.Z)(function*(C,T,M,L,q,ee){const Oe=L[q];try{if(Oe)yield T[Oe];else{const rt=(yield xc(M)).find(wt=>wt.measurementId===q);rt&&(yield T[rt.appId])}}catch(Ye){Fn.error(Ye)}C("config",q,ee)})).apply(this,arguments)}function Tu(C,T,M,L,q){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(C,T,M,L,q){try{let ee=[];if(q&&q.send_to){let Oe=q.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Ye=yield xc(M);for(const rt of Oe){const wt=Ye.find(Tt=>Tt.measurementId===rt),Bt=wt&&T[wt.appId];if(!Bt){ee=[];break}ee.push(Bt)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),C("event",L,q||{})}catch(ee){Fn.error(ee)}})).apply(this,arguments)}function op(){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(vl))return T;return null}const tn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ct=new class vn{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function gn(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Oi(C){return St.apply(this,arguments)}function St(){return(St=(0,k.Z)(function*(C){var T;const{appId:M,apiKey:L}=C,q={method:"GET",headers:gn(L)},ee=ba.replace("{app-id}",M),Oe=yield fetch(ee,q);if(200!==Oe.status&&304!==Oe.status){let Ye="";try{const rt=yield Oe.json();(null===(T=rt.error)||void 0===T?void 0:T.message)&&(Ye=rt.error.message)}catch(rt){}throw tn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Ye})}return Oe.json()})).apply(this,arguments)}function th(C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,k.Z)(function*(C,T=ct,M){const{appId:L,apiKey:q,measurementId:ee}=C.options;if(!L)throw tn.create("no-app-id");if(!q){if(ee)return{measurementId:ee,appId:L};throw tn.create("no-api-key")}const Oe=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Iu;return setTimeout((0,k.Z)(function*(){Ye.abort()}),void 0!==M?M:6e4),mt({appId:L,apiKey:q,measurementId:ee},Oe,Ye,T)})).apply(this,arguments)}function mt(C,T,M){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,k.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:M},L,q=ct){const{appId:ee,measurementId:Oe}=C;try{yield lp(L,T)}catch(Ye){if(Oe)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Ye.message}]`),{appId:ee,measurementId:Oe};throw Ye}try{const Ye=yield Oi(C);return q.deleteThrottleMetadata(ee),Ye}catch(Ye){if(!bl(Ye)){if(q.deleteThrottleMetadata(ee),Oe)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Ye.message}]`),{appId:ee,measurementId:Oe};throw Ye}const rt=503===Number(Ye.customData.httpStatus)?(0,X.$s)(M,q.intervalMillis,30):(0,X.$s)(M,q.intervalMillis),wt={throttleEndTimeMillis:Date.now()+rt,backoffCount:M+1};return q.setThrottleMetadata(ee,wt),Fn.debug(`Calling attemptFetch again in ${rt} millis`),mt(C,wt,L,q)}})).apply(this,arguments)}function lp(C,T){return new Promise((M,L)=>{const q=Math.max(T-Date.now(),0),ee=setTimeout(M,q);C.addEventListener(()=>{clearTimeout(ee),L(tn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function bl(C){if(!(C instanceof X.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Iu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function nh(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,k.Z)(function*(){if(!(0,X.hl)())return Fn.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return Fn.warn(tn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Wi(){return(Wi=(0,k.Z)(function*(C,T,M,L,q,ee,Oe){var Ye;const rt=th(C);rt.then(In=>{M[In.measurementId]=In.appId,C.options.measurementId&&In.measurementId!==C.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${In.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(In=>Fn.error(In)),T.push(rt);const wt=nh().then(In=>{if(In)return L.getId()}),[Bt,Tt]=yield Promise.all([rt,wt]);op()||sp(ee,Bt.measurementId),q("js",new Date);const xn=null!==(Ye=null==Oe?void 0:Oe.config)&&void 0!==Ye?Ye:{};return xn.origin="firebase",xn.update=!0,null!=Tt&&(xn[Rm]=Tt),q("config",Bt.measurementId,xn),Bt.measurementId})).apply(this,arguments)}class Ko{constructor(T){this.app=T}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},po=[];const Da={};let mo,_o,go="dataLayer",Dl=!1;function zi(C,T,M){!function wl(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,q)=>`(${q+1}) ${L}`).join(" "),M=tn.create("invalid-analytics-context",{errorInfo:T});Fn.warn(M.message)}}();const L=C.options.appId;if(!L)throw tn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw tn.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[L])throw tn.create("already-exists",{id:L});if(!Dl){!function fs(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(go);const{wrappedGtag:ee,gtagCore:Oe}=function eh(C,T,M,L,q){let ee=function(...Oe){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ee=window[q]),window[q]=function kc(C,T,M,L){function ee(){return(ee=(0,k.Z)(function*(Oe,Ye,rt){try{"event"===Oe?yield Tu(C,T,M,Ye,rt):"config"===Oe?yield qo(C,T,M,L,Ye,rt):C("set",Ye)}catch(wt){Fn.error(wt)}})).apply(this,arguments)}return function q(Oe,Ye,rt){return ee.apply(this,arguments)}}(ee,C,T,M),{gtagCore:ee,wrappedGtag:window[q]}}(ci,po,Da,go,"gtag");_o=ee,mo=Oe,Dl=!0}return ci[L]=function Mn(C,T,M,L,q,ee,Oe){return Wi.apply(this,arguments)}(C,po,Da,T,mo,go,M),new Ko(C)}function El(){return(El=(0,k.Z)(function*(C,T,M,L,q){if(q&&q.global)C("event",M,L);else{const ee=yield T;C("event",M,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function bo(){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const Yo="@firebase/analytics";!function Ir(){(0,oe._registerComponent)(new me.wA(Eu,(T,{options:M})=>zi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new me.wA("analytics-internal",function C(T){try{const M=T.getProvider(Eu).getImmediate();return{logEvent:(L,q,ee)=>function up(C,T,M,L){C=(0,X.m9)(C),function Zn(C,T,M,L,q){return El.apply(this,arguments)}(_o,ci[C.app.options.appId],T,M,L).catch(q=>Fn.error(q))}(M,L,q,ee)}}catch(M){throw tn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(Yo,"0.7.7"),(0,oe.registerVersion)(Yo,"0.7.7","esm2017")}();var Kn=R(4408),Sr=R(7565);const Jo=new class hn extends Sr.v{}(class wn extends Kn.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,M,L):T.flush(this)}});var gr=R(4986),ir=R(8505),sr=R(9468),di=R(5363);const Vc=new c.GfV("7.3.0"),ps="__angularfire_symbol__analyticsIsSupportedValue",xi="__angularfire_symbol__analyticsIsSupported",Zi="__angularfire_symbol__remoteConfigIsSupportedValue",wa="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",zs="__angularfire_symbol__messagingIsSupported";function Xo(C,T,M){if(T){if(1===T.length)return T[0];const ee=T.filter(Oe=>Oe.app===M);if(1===ee.length)return ee[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[xi]||(globalThis[xi]=bo().then(C=>globalThis[ps]=C).catch(()=>globalThis[ps]=!1)),globalThis[zs]||(globalThis[zs]=Oc().then(C=>globalThis[Tl]=C).catch(()=>globalThis[Tl]=!1)),globalThis[wa]||(globalThis[wa]=so().then(C=>globalThis[Zi]=C).catch(()=>globalThis[Zi]=!1));const Bc=(C,T)=>{const M=T?[T]:(0,Y.C6)(),L=[];return M.forEach(q=>{q.container.getProvider(C).instances.forEach(Oe=>{L.includes(Oe)||L.push(Oe)})}),L};function Ki(){}class Ri{constructor(T,M=Jo){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,L){const q=this.zone;return this.delegate.schedule(function(Oe){q.runGuarded(()=>{T.apply(this,[Oe])})},M,L)}}class Gc{constructor(T){this.zone=T,this.task=null}call(T,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)),M.pipe((0,ir.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yn=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ri(Zone.current)),this.insideAngular=M.run(()=>new Ri(Zone.current,gr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function mr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Sl(C){return mr(),function qs(C){return function(M){return(M=M.lift(new Gc(C.ngZone))).pipe((0,sr.R)(C.outsideAngular),(0,di.Q)(C.insideAngular))}}(mr())(C)}},2090:(at,Ee,R)=>{R.d(Ee,{$s:()=>no,BH:()=>Se,G6:()=>te,L:()=>ce,LL:()=>Ct,Lj:()=>Ut,Mn:()=>He,Sg:()=>xe,UG:()=>De,US:()=>re,X3:()=>pt,ZB:()=>Q,ZR:()=>ae,b$:()=>Te,d:()=>ve,eu:()=>ne,hl:()=>z,jU:()=>tt,m9:()=>ft,ne:()=>dt,pd:()=>is,r3:()=>en,ru:()=>Ze,tV:()=>j,uI:()=>pe,vZ:()=>Ss,w1:()=>be,xO:()=>Gi,xb:()=>lr,z$:()=>Le,zI:()=>_e,zd:()=>Rr});var c=R(5861);const X=function(G){const V=[];let $=0;for(let de=0;de<G.length;de++){let J=G.charCodeAt(de);J<128?V[$++]=J:J<2048?(V[$++]=J>>6|192,V[$++]=63&J|128):55296==(64512&J)&&de+1<G.length&&56320==(64512&G.charCodeAt(de+1))?(J=65536+((1023&J)<<10)+(1023&G.charCodeAt(++de)),V[$++]=J>>18|240,V[$++]=J>>12&63|128,V[$++]=J>>6&63|128,V[$++]=63&J|128):(V[$++]=J>>12|224,V[$++]=J>>6&63|128,V[$++]=63&J|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,V){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let J=0;J<G.length;J+=3){const Ue=G[J],bt=J+1<G.length,Kt=bt?G[J+1]:0,wr=J+2<G.length,$t=wr?G[J+2]:0;let fn=(15&Kt)<<2|$t>>6,nr=63&$t;wr||(nr=64,bt||(fn=64)),de.push($[Ue>>2],$[(3&Ue)<<4|Kt>>4],$[fn],$[nr])}return de.join("")},encodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(G):this.encodeByteArray(X(G),V)},decodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(G):function(G){const V=[];let $=0,de=0;for(;$<G.length;){const J=G[$++];if(J<128)V[de++]=String.fromCharCode(J);else if(J>191&&J<224){const Ue=G[$++];V[de++]=String.fromCharCode((31&J)<<6|63&Ue)}else if(J>239&&J<365){const wr=((7&J)<<18|(63&G[$++])<<12|(63&G[$++])<<6|63&G[$++])-65536;V[de++]=String.fromCharCode(55296+(wr>>10)),V[de++]=String.fromCharCode(56320+(1023&wr))}else{const Ue=G[$++],bt=G[$++];V[de++]=String.fromCharCode((15&J)<<12|(63&Ue)<<6|63&bt)}}return V.join("")}(this.decodeStringToByteArray(G,V))},decodeStringToByteArray(G,V){this.init_();const $=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let J=0;J<G.length;){const Ue=$[G.charAt(J++)],Kt=J<G.length?$[G.charAt(J)]:0;++J;const $t=J<G.length?$[G.charAt(J)]:64;++J;const Mt=J<G.length?$[G.charAt(J)]:64;if(++J,null==Ue||null==Kt||null==$t||null==Mt)throw Error();de.push(Ue<<2|Kt>>4),64!==$t&&(de.push(Kt<<4&240|$t>>2),64!==Mt&&de.push($t<<6&192|Mt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ce=function(G){return function(G){const V=X(G);return re.encodeByteArray(V,!0)}(G).replace(/\./g,"")},j=function(G){try{return re.decodeString(G,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(G,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return V}for(const $ in V)!V.hasOwnProperty($)||!ze($)||(G[$]=Q(G[$],V[$]));return G}function ze(G){return"__proto__"!==G}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,$)=>{this.resolve=V,this.reject=$})}wrapCallback(V){return($,de)=>{$?this.reject($):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V($):V($,de))}}}function xe(G,V){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",J=G.iat||0,Ue=G.sub||G.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:J,exp:J+3600,auth_time:J,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(bt)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function tt(){return"object"==typeof self&&self.self===self}function Ze(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Le().indexOf("Electron/")>=0}function be(){const G=Le();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function He(){return Le().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function ne(){return new Promise((G,V)=>{try{let $=!0;const de="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(de);J.onsuccess=()=>{J.result.close(),$||self.indexedDB.deleteDatabase(de),G(!0)},J.onupgradeneeded=()=>{$=!1},J.onerror=()=>{var Ue;V((null===(Ue=J.error)||void 0===Ue?void 0:Ue.message)||"")}}catch($){V($)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(V,$,de){super($),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(V,$,de){this.service=V,this.serviceName=$,this.errors=de}create(V,...$){const de=$[0]||{},J=`${this.service}/${V}`,Ue=this.errors[V],bt=Ue?function Xt(G,V){return G.replace(An,($,de)=>{const J=V[de];return null!=J?String(J):`<${de}?>`})}(Ue,de):"Error";return new ae(J,`${this.serviceName}: ${bt} (${J}).`,de)}}const An=/\{\$([^}]+)}/g;function en(G,V){return Object.prototype.hasOwnProperty.call(G,V)}function lr(G){for(const V in G)if(Object.prototype.hasOwnProperty.call(G,V))return!1;return!0}function Ss(G,V){if(G===V)return!0;const $=Object.keys(G),de=Object.keys(V);for(const J of $){if(!de.includes(J))return!1;const Ue=G[J],bt=V[J];if(xr(Ue)&&xr(bt)){if(!Ss(Ue,bt))return!1}else if(Ue!==bt)return!1}for(const J of de)if(!$.includes(J))return!1;return!0}function xr(G){return null!==G&&"object"==typeof G}function Gi(G){const V=[];for(const[$,de]of Object.entries(G))Array.isArray(de)?de.forEach(J=>{V.push(encodeURIComponent($)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent($)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function Rr(G){const V={};return G.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[J,Ue]=de.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Ue)}}),V}function is(G){const V=G.indexOf("?");if(!V)return"";const $=G.indexOf("#",V);return G.substring(V,$>0?$:void 0)}function dt(G,V){const $=new Wr(G,V);return $.subscribe.bind($)}class Wr{constructor(V,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver($=>{$.next(V)})}error(V){this.forEachObserver($=>{$.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,$,de){let J;if(void 0===V&&void 0===$&&void 0===de)throw new Error("Missing Observer.");J=function Wn(G,V){if("object"!=typeof G||null===G)return!1;for(const $ of V)if($ in G&&"function"==typeof G[$])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:$,complete:de},void 0===J.next&&(J.next=si),void 0===J.error&&(J.error=si),void 0===J.complete&&(J.complete=si);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(bt){}}),this.observers.push(J),Ue}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,V)}sendOne(V,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{$(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function si(){}function no(G,V=1e3,$=2){const de=V*Math.pow($,G),J=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+J)}function ft(G){return G&&G._delegate?G._delegate:G}function Dr(G,V){return new Promise(($,de)=>{G.onsuccess=J=>{$(J.target.result)},G.onerror=J=>{var Ue;de(`${V}: ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class Vt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,$){return new Ke(this._db.transaction.call(this._db,V,$))}createObjectStore(V,$){return new Ie(this._db.createObjectStore(V,$))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise(($,de)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new et(this._store.index(V))}createIndex(V,$,de){return new et(this._store.createIndex(V,$,de))}get(V){return Dr(this._store.get(V),"Error reading from IndexedDB")}put(V,$){return Dr(this._store.put(V,$),"Error writing to IndexedDB")}delete(V){return Dr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Dr(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(V){this._index=V}get(V){return Dr(this._index.get(V),"Error reading from IndexedDB")}}function pt(G,V,$){return new Promise((de,J)=>{try{const Ue=indexedDB.open(G,V);Ue.onsuccess=bt=>{de(new Vt(bt.target.result))},Ue.onerror=bt=>{var Kt;J(`Error opening indexedDB: ${null===(Kt=bt.target.error)||void 0===Kt?void 0:Kt.message}`)},Ue.onupgradeneeded=bt=>{$(new Vt(Ue.result),bt.oldVersion,bt.newVersion,new Ke(Ue.transaction))}}catch(Ue){J(`Error opening indexedDB: ${Ue.message}`)}})}function Ut(G){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(G){return new Promise((V,$)=>{try{const de=indexedDB.deleteDatabase(G);de.onsuccess=()=>{V()},de.onerror=J=>{var Ue;$(`Error deleting indexedDB database "${G}": ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(de){$(`Error deleting indexedDB database "${G}": ${de.message}`)}})})).apply(this,arguments)}},8613:(at,Ee,R)=>{var c=R(5e3);let Y=null;function k(){return Y}const re=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const j=new c.OlP("Location Initialized");let H=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new H((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(n){const e=(0,c.LFG)(re).location;return new Ze((0,c.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const tt=new c.OlP("appBaseHref");let Ze=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+Le(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+Le(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(tt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+Le(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+Le(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(tt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Ge(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function He(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Se,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new ve((0,c.LFG)(pe),(0,c.LFG)(fe))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}class Ms{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ms(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,d),as(m,i)}});for(let i=0,l=r.length;i<l;i++){const m=r.get(i).context;m.index=i,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{as(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function as(n,e){n.context.$implicit=e.item}let rr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new on,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){el("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){el("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class on{constructor(){this.$implicit=null,this.ngIf=null}}function el(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let yc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Rs=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})(),qn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function hr(n){return"server"===n}let ll=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ul((0,c.LFG)(re),window)}),n})();class ul{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ga(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function cs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ls extends class $o extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Ls)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Tc(){return an=an||document.querySelector("base"),an?an.getAttribute("href"):null}();return null==t?null:function lo(n){ao=ao||document.createElement("a"),ao.setAttribute("href",n);const e=ao.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){an=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Go(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ao,an=null;const Er=new c.OlP("TRANSITION_ID"),ma=[{provide:c.ip1,useFactory:function On(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Er,re,c.zs3],multi:!0}];class Ai{static init(){(0,c.VLi)(new Ai)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const m=function(v){d=d||v,l--,0==l&&r(d)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Cr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=new c.OlP("EventManagerPlugins");let ds=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Us=(()=>{class n extends Zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Bs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Bs(n){k().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dl=/%COMP%/g;function we(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?we(n,i,t):(i=i.replace(dl,n),t.push(i))}return t}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Wo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new pu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new gu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=we(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ds),c.LFG(Us),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Wo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=gt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(r)):this.eventManager.addEventListener(e,t,Ft(r))}}class pu extends Wo{constructor(e,t,r,i){super(e),this.component=r;const l=we(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function du(n){return"_ngcontent-%COMP%".replace(dl,n)}(i+"-"+r.id),this.hostAttr=function hu(n){return"_nghost-%COMP%".replace(dl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class gu extends Wo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=we(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ic=(()=>{class n extends cl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mu=["alt","control","meta","shift"],Gs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ui={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ml=(()=>{class n extends cl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(mu.forEach(v=>{const w=r.indexOf(v);w>-1&&(r.splice(w,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static getEventFullKey(t){let r="",i=function js(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&fr.hasOwnProperty(e)&&(e=fr[e]))}return Gs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mu.forEach(l=>{l!=i&&ui[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Ni(){Ls.makeCurrent(),Ai.init()},multi:!0},{provide:re,useFactory:function _l(){return(0,c.RDi)(document),document},deps:[]}]),ya=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function _u(){return new c.qLn},deps:[]},{provide:Vs,useClass:Ic,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:Vs,useClass:ml,multi:!0,deps:[re]},{provide:Dn,useClass:Dn,deps:[ds,Us,c.AFp]},{provide:c.FYo,useExisting:Dn},{provide:Zr,useExisting:Us},{provide:Us,useClass:Us,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ds,useClass:ds,deps:[Vs,c.R0b]},{provide:class _n{},useClass:Cr,deps:[]}];let va=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Er,useExisting:c.AFp},ma]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:ya,imports:[qn,c.hGG]}),n})();"undefined"!=typeof window&&window;let ap=(()=>{class n{constructor(){this.toasts=[]}show(t,r={}){this.toasts.push(Object.assign({textOrTpl:t},r))}remove(t){this.toasts=this.toasts.filter(r=>r!==t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var tn=R(8306),$i=R(515),pr=R(3269),vn=R(8996);function ct(...n){const e=(0,pr.yG)(n);return(0,vn.D)(n,e)}var gn=R(7579),Oi=R(8421),St=R(5577),th=R(1144),Ln=R(576),mt=R(4004);const{isArray:Ws}=Array;function bl(n){return(0,mt.U)(e=>function lp(n,e){return Ws(e)?n(...e):n(e)}(n,e))}const Iu=["addListener","removeListener"],nh=["addEventListener","removeEventListener"],Zo=["on","off"];function Mn(n,e,t,r){if((0,Ln.m)(t)&&(r=t,t=void 0),r)return Mn(n,e,t).pipe(bl(r));const[i,l]=function po(n){return(0,Ln.m)(n.addEventListener)&&(0,Ln.m)(n.removeEventListener)}(n)?nh.map(d=>m=>n[d](e,m,t)):function Ko(n){return(0,Ln.m)(n.addListener)&&(0,Ln.m)(n.removeListener)}(n)?Iu.map(Wi(n,e)):function ci(n){return(0,Ln.m)(n.on)&&(0,Ln.m)(n.off)}(n)?Zo.map(Wi(n,e)):[];if(!i&&(0,th.z)(n))return(0,St.z)(d=>Mn(d,e,t))((0,Oi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new tn.y(d=>{const m=(...v)=>d.next(1<v.length?v:v[0]);return i(m),()=>l(m)})}function Wi(n,e){return t=>r=>n[t](e,r)}var Da=R(4986),go=R(3532);const{isArray:_o}=Array;function Dl(n){return 1===n.length&&_o(n[0])?n[0]:n}var Vn=R(5403);class Zn extends gn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:El}=Array,{getPrototypeOf:Pc,prototype:qi,keys:Fc}=Object;function yo(n){if(1===n.length){const e=n[0];if(El(e))return{args:e,keys:null};if(function Cl(n){return n&&"object"==typeof n&&Pc(n)===qi}(e)){const t=Fc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Yr=R(4671);function vo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Mi=R(9672);function bo(n,e,t){n?(0,Mi.f)(t,n,e):e()}var Do=R(5032);function Ou(...n){const e=(0,pr.jO)(n),t=Dl(n);return t.length?new tn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,Oi.Xf)(t[d]).subscribe((0,Vn.x)(r,m=>{if(i[d].push(m),i.every(v=>v.length)){const v=i.map(w=>w.shift());r.next(e?e(...v):v),i.some((w,A)=>!w.length&&l[A])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):$i.E}new tn.y(Do.Z);var Lc=R(8189);function Yo(...n){return function up(){return(0,Lc.J)(1)}()((0,vn.D)(n,(0,pr.yG)(n)))}var Ir=R(4482);function Kn(n){return(0,Ir.e)((e,t)=>{(0,Oi.Xf)(n).subscribe((0,Vn.x)(t,()=>t.complete(),Do.Z)),!t.closed&&e.subscribe(t)})}function wn(n,e){return(0,Ir.e)((t,r)=>{let i=0;t.subscribe((0,Vn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Sr=R(5698);function hn(...n){const e=(0,pr.yG)(n);return(0,Ir.e)((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function Qo(n,e){return n===e}function gr(n,e){return(0,Ir.e)((t,r)=>{let i=null,l=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,Vn.x)(r,v=>{null==i||i.unsubscribe();let w=0;const A=l++;(0,Oi.Xf)(n(v,A)).subscribe(i=(0,Vn.x)(r,O=>r.next(e?e(v,O,A,w++):O),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var ir=R(8505);function sr(...n){const e=(0,pr.jO)(n);return(0,Ir.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),m=!1;for(let v=0;v<i;v++)(0,Oi.Xf)(n[v]).subscribe((0,Vn.x)(r,w=>{l[v]=w,!m&&!d[v]&&(d[v]=!0,(m=d.every(Yr.y))&&(d=null))},Do.Z));t.subscribe((0,Vn.x)(r,v=>{if(m){const w=[v,...l];r.next(e?e(...w):w)}}))})}let Tl=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),zs=(()=>{class n extends Tl{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Jr=new c.OlP("NgValueAccessor"),Uc={provide:Jr,useExisting:(0,c.Gpc)(()=>Ki),multi:!0},Bc=new c.OlP("CompositionEventMode");let Ki=(()=>{class n extends Tl{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xo(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Bc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([Uc]),c.qOj]}),n})();const Yn=new c.OlP("NgValidators"),mr=new c.OlP("NgAsyncValidators");function L(n){return null!=n}function q(n){const e=(0,c.QGY)(n)?(0,vn.D)(n):n;return(0,c.CqO)(e),e}function ee(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Oe(n,e){return e.map(t=>t(n))}function rt(n){return n.map(e=>function Ye(n){return!n.validate}(e)?e:t=>e.validate(t))}function Bt(n){return null!=n?function wt(n){if(!n)return null;const e=n.filter(L);return 0==e.length?null:function(t){return ee(Oe(t,e))}}(rt(n)):null}function xn(n){return null!=n?function Tt(n){if(!n)return null;const e=n.filter(L);return 0==e.length?null:function(t){return function wa(...n){const e=(0,pr.jO)(n),{args:t,keys:r}=yo(n),i=new tn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let v=d,w=d;for(let A=0;A<d;A++){let O=!1;(0,Oi.Xf)(t[A]).subscribe((0,Vn.x)(l,F=>{O||(O=!0,w--),m[A]=F},()=>v--,void 0,()=>{(!v||!O)&&(w||l.next(r?vo(r,m):m),l.complete())}))}});return e?i.pipe(bl(e)):i}(Oe(t,e).map(q)).pipe((0,mt.U)(ee))}}(rt(n)):null}function In(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hi(n){return n?Array.isArray(n)?n:[n]:[]}function Fr(n,e){return Array.isArray(n)?n.includes(e):n===e}function gs(n,e){const t=hi(e);return hi(n).forEach(i=>{Fr(t,i)||t.push(i)}),t}function Zs(n,e){return hi(e).filter(t=>!Fr(n,t))}class oh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Eo extends oh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _r extends oh{get formDirective(){return null}get path(){return null}}class Ca{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let cp=(()=>{class n extends Ca{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Eo,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Co=(()=>{class n extends Ca{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Ml(n,e){uh(n,e),e.valueAccessor.writeValue(n.value),function Fm(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pp(n,e)})}(n,e),function Ks(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ch(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fp(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uh(n,e){const t=function wo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(In(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Ea(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(In(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xl(e._rawValidators,i),xl(e._rawAsyncValidators,i)}function pp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ku="VALID",To="INVALID",Ia="PENDING",Lr="DISABLED";function qc(n){return(Lu(n)?n.validators:n)||null}function Fu(n){return Array.isArray(n)?Bt(n):n||null}function Zc(n,e){return(Lu(e)?e.asyncValidators:n)||null}function Vm(n){return Array.isArray(n)?xn(n):n||null}function Lu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Vu=n=>n instanceof ph;function Kc(n){return(n=>n instanceof wp)(n)?n.value:n.getRawValue()}function Bm(n,e){const t=Vu(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function Dp(n,e){Vu(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class Pl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Fu(this._rawValidators),this._composedAsyncValidatorFn=Vm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ku}get invalid(){return this.status===To}get pending(){return this.status==Ia}get disabled(){return this.status===Lr}get enabled(){return this.status!==Lr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Fu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Vm(e)}addValidators(e){this.setValidators(gs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zs(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zs(e,this._rawAsyncValidators))}hasValidator(e){return Fr(this._rawValidators,e)}hasAsyncValidator(e){return Fr(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ia,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lr,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ku,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===Ia)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lr:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator=!0;const t=q(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Pu(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Vu(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof gh)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Lr:this.errors?To:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(To)?To:ku}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wp extends Pl{constructor(e=null,t,r){super(qc(t),Zc(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lu(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ph extends Pl{constructor(e,t,r){super(qc(t),Zc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Dp(this,e),Object.keys(e).forEach(r=>{Bm(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Kc(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gh extends Pl{constructor(e,t,r){super(qc(t),Zc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Dp(this,e),e.forEach((r,i)=>{Bm(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Kc(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const mh={provide:_r,useExisting:(0,c.Gpc)(()=>Sa)},Fl=(()=>Promise.resolve(null))();let Sa=(()=>{class n extends _r{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ph({},Bt(t),xn(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ml(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fl.then(()=>{const r=this._findContainer(t.path),i=new ph({});(function Rl(n,e){uh(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function yp(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yn,10),c.Y36(mr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([mh]),c.qOj]}),n})();const Cp={provide:Eo,useExisting:(0,c.Gpc)(()=>Ll)},Tp=(()=>Promise.resolve(null))();let Ll=(()=>{class n extends Eo{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new wp,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hh(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Ki?t=l:function _p(n){return Object.getPrototypeOf(n.constructor)===zs}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function dh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ml(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Tp.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Tp.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Ol(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,9),c.Y36(Yn,10),c.Y36(mr,10),c.Y36(Jr,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Cp]),c.qOj,c.TTD]}),n})(),Ip=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Vl]]}),n})(),Hu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ju]}),n})();Math,Math,Math;const T0=["*"],m_=["dialog"];function G0(n,e){if(1&n&&(c.TgZ(0,"strong",3),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.header)}}function j0(n,e){}function H0(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",4),c.YNc(1,j0,0,0,"ng-template",5),c.TgZ(2,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw().hide()}),c.qZA()()}if(2&n){const t=c.oxw(),r=c.MAs(1);c.xp6(1),c.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function qu(n){return null!=n}function Zu(n){return(n||document.body).getBoundingClientRect()}const Z0={animation:!0,transitionTimerDelayMs:5},K0=()=>{},{transitionTimerDelayMs:vO}=Z0,pd=new Map,Qr=(n,e,t,r)=>{let i=r.context||{};const l=pd.get(e);if(l)switch(r.runningTransition){case"continue":return $i.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),pd.delete(e)}const d=t(e,r.animation,i)||K0;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),ct(void 0).pipe(function Y1(n){return e=>new tn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new gn.x,v=new gn.x,w=m.pipe(function ih(...n){return e=>Yo(e,ct(...n))}(!0));pd.set(e,{transition$:m,complete:()=>{v.next(),v.complete()},context:i});const A=function J1(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const O=Mn(e,"transitionend").pipe(Kn(w),wn(({target:U})=>U===e));(function wl(...n){return 1===(n=Dl(n)).length?(0,Oi.Xf)(n[0]):new tn.y(function zi(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Oi.Xf)(n[r]).subscribe((0,Vn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function mo(n=0,e,t=Da.P){let r=-1;return null!=e&&((0,go.K)(e)?t=e:r=e),new tn.y(i=>{let l=function Su(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(A+vO).pipe(Kn(w)),O,v).pipe(Kn(w)).subscribe(()=>{pd.delete(e),n.run(()=>{d(),m.next(),m.complete()})})}),m.asObservable()};let Ku=(()=>{class n{constructor(){this.animation=Z0.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),eb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),Ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var ar=(()=>{return(n=ar||(ar={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",ar;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ab=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function M_(n){const e=Array.from(n.querySelectorAll(ab)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Xs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn,Hu]]}),n})(),Qp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class ec{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let YC=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{Qr(this._zone,this._el.nativeElement,(t,r)=>{r&&Zu(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class L_{close(e){}dismiss(e){}}class Ob{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new gn.x,this._dismissed=new gn.x,this._hidden=new gn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Kn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Kn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Oo(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ct(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ou(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Kl=(()=>{return(n=Kl||(Kl={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Kl;var n})();let JC=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new gn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new gn.x,this.hidden=new gn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=Ou(Qr(this._zone,t,()=>t.classList.remove("show"),r),Qr(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};Ou(Qr(this._zone,this._elRef.nativeElement,(l,d)=>{d&&Zu(l),l.classList.add("show")},t),Qr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Mn(t,"keydown").pipe(Kn(this._closed$),wn(i=>i.which===ar.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Kl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Mn(this._dialogEl.nativeElement,"mousedown").pipe(Kn(this._closed$),(0,ir.b)(()=>r=!1),gr(()=>Mn(t,"mouseup").pipe(Kn(this._closed$),(0,Sr.q)(1))),wn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Mn(t,"click").pipe(Kn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Kl.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=M_(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(re),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(m_,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:T0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Mb=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const m=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${m+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xb=(()=>{class n{constructor(t,r,i,l,d,m){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=m,this._activeWindowCmptHasChanged=new gn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Mn(e,"focusin").pipe(Kn(t),(0,mt.U)(l=>l.target));Mn(e,"keydown").pipe(Kn(t),wn(l=>l.which===ar.Tab),sr(i)).subscribe(([l,d])=>{const[m,v]=M_(e);(d===m||d===e)&&l.shiftKey&&(v.focus(),l.preventDefault()),d===v&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&Mn(e,"click").pipe(Kn(t),sr(i),(0,mt.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,l){const d=l.container instanceof HTMLElement?l.container:qu(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),v=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!d)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const w=new L_,A=this._getContentRef(t,l.injector||r,i,w,l);let O=!1!==l.backdrop?this._attachBackdrop(t,d):void 0,F=this._attachWindowComponent(t,d,A),U=new Ob(F,A,O,l.beforeDismiss);return this._registerModalRef(U),this._registerWindowCmpt(F),U.result.then(v,v),w.close=K=>{U.close(K)},w.dismiss=K=>{U.dismiss(K)},this._applyWindowOptions(F.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),O&&O.instance&&(this._applyBackdropOptions(O.instance,l),O.changeDetectorRef.detectChanges()),F.changeDetectorRef.detectChanges(),U}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let l=t.resolveComponentFactory(YC).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,r,i){let d=t.resolveComponentFactory(JC).create(this._injector,i.nodes);return this._applicationRef.attachView(d.hostView),r.appendChild(d.location.nativeElement),d}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{qu(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{qu(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l,d){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,l):function W0(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,d):new ec([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new ec([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ec([[r]])}_createFromComponent(t,r,i,l,d){const m=t.resolveComponentFactory(i),v=c.zs3.create({providers:[{provide:L_,useValue:l}],parent:r}),w=m.create(v),A=w.location.nativeElement;return d.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new ec([[A]],w.hostView,w)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(re),c.LFG(Mb),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V_=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ku))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tg=(()=>{class n{constructor(t,r,i,l){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=l}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(xb),c.LFG(V_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tg]}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),Hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),tc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),aT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})();const Jn=(n,e)=>{const{classList:t}=n;if(e)return t.remove("hide"),Zu(n),t.add("showing"),()=>{t.remove("showing"),t.add("show")};t.add("show")},YO=({classList:n})=>(n.remove("show"),()=>{n.add("hide")});let Yb=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ku))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbToastHeader",""]]}),n})(),hT=(()=>{class n{constructor(t,r,i,l){this.ariaLive=t,this._zone=i,this._element=l,this.contentHeaderTpl=null,this.shown=new c.vpe,this.hidden=new c.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Qr(this._zone,this._element.nativeElement,YO,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Qr(this._zone,this._element.nativeElement,Jn,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("aria-live"),c.Y36(Yb),c.Y36(c.R0b),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,dT,7,c.Rgc),2&t){let l;c.iGM(l=c.CRH())&&(r.contentHeaderTpl=l.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(c.uIk("aria-live",r.ariaLive),c.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[c.TTD],ngContentSelectors:T0,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(c.F$t(),c.YNc(0,G0,2,1,"ng-template",null,0,c.W1O),c.YNc(2,H0,3,1,"ng-template",1),c.TgZ(3,"div",2),c.Hsn(4),c.qZA()),2&t&&(c.xp6(2),c.Q6J("ngIf",r.contentHeaderTpl||r.header))},directives:[rr,Rs],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),Jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function mT(){return 100}});let Qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})();const Kh=[Q0,eb,nb,ws,Ju,Xs,bd,U_,Pb,Hb,Yl,tc,aT,Zh,z_,Jb,Qb];let Yh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Kh,Q0,eb,nb,ws,Ju,Xs,bd,U_,Pb,Hb,Yl,tc,aT,Zh,z_,Jb,Qb]}),n})();function bT(n,e){}function DT(n,e){if(1&n&&c.YNc(0,bT,0,0,"ng-template",4),2&n){const t=c.oxw().$implicit;c.Q6J("ngTemplateOutlet",t.textOrTpl)}}function wT(n,e){if(1&n&&c._uU(0),2&n){const t=c.oxw().$implicit;c.Oqu(t.textOrTpl)}}function Xb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngb-toast",1),c.NdJ("hidden",function(){const l=c.CHM(t).$implicit;return c.oxw().toastService.remove(l)}),c.YNc(1,DT,1,1,"ng-template",2),c.YNc(2,wT,1,1,"ng-template",null,3,c.W1O),c.qZA()}if(2&n){const t=e.$implicit,r=c.MAs(3),i=c.oxw();c.Tol(t.classname),c.Q6J("autohide",!0)("delay",t.delay||3e3),c.xp6(1),c.Q6J("ngIf",i.isTemplate(t))("ngIfElse",r)}}let eD=(()=>{class n{constructor(t){this.toastService=t}ngOnInit(){}isTemplate(t){return t.textOrTpl instanceof c.Rgc}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ap))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-toast"]],decls:1,vars:1,consts:[["style","position: absolute;\n      left:auto; right: auto; margin-left: auto; margin-right: auto;\n      top: 15px; z-index: 999; text-align: center;",3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[2,"position","absolute","left","auto","right","auto","margin-left","auto","margin-right","auto","top","15px","z-index","999","text-align","center",3,"autohide","delay","hidden"],[3,"ngIf","ngIfElse"],["text",""],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&c.YNc(0,Xb,4,6,"ngb-toast",0),2&t&&c.Q6J("ngForOf",r.toastService.toasts)},directives:[Cn,hT,rr,Rs],styles:[""]}),n})();function Jh(n,e){const t=(0,Ln.m)(n)?n:()=>n,r=i=>i.error(t());return new tn.y(e?i=>e.schedule(r,0,i):r)}const Qh=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function tD(n){return new tn.y(e=>{(0,Oi.Xf)(n()).subscribe(e)})}var nD=R(727);function CT(){return(0,Ir.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class tM extends tn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nD.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Vn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nD.w0.EMPTY)}return e}refCount(){return CT()(this)}}function nM(n,e,t,r,i){return(l,d)=>{let m=t,v=e,w=0;l.subscribe((0,Vn.x)(d,A=>{const O=w++;v=m?n(v,A,O):(m=!0,A),r&&d.next(v)},i&&(()=>{m&&d.next(v),d.complete()})))}}function og(n,e){return(0,Ir.e)(nM(n,e,arguments.length>=2,!0))}function Ba(n){return(0,Ir.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Vn.x)(t,void 0,void 0,d=>{l=(0,Oi.Xf)(n(d,Ba(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Jl(n,e){return(0,Ln.m)(e)?(0,St.z)(n,e,1):(0,St.z)(n,1)}function Z_(n){return n<=0?()=>$i.E:(0,Ir.e)((e,t)=>{let r=[];e.subscribe((0,Vn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rD(n=iD){return(0,Ir.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function iD(){return new Qh}function Dd(n){return(0,Ir.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wn((i,l)=>n(i,l,r)):Yr.y,(0,Sr.q)(1),t?Dd(e):rD(()=>new Qh))}class Ga{constructor(e,t){this.id=e,this.url=t}}class K_ extends Ga{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wd extends Ga{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sD extends Ga{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ST extends Ga{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ed extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AT extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oD extends Ga{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NT extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aD extends Ga{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lD{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y_{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OT{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J_{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MT{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uD{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wt="primary";class xT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cd(n){return new xT(n)}const ag="ngNavigationCancelingError";function X_(n){const e=Error("NavigationCancelingError: "+n);return e[ag]=!0,e}function RT(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ia(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!dD(n[i],e[i]))return!1;return!0}function dD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function hD(n){return Array.prototype.concat.apply([],n)}function fD(n){return n.length>0?n[n.length-1]:null}function Xr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ko(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,vn.D)(Promise.resolve(n)):ct(n)}const gD={exact:function yD(n,e,t){if(!rc(n.segments,e.segments)||!Xh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!yD(n.children[r],e.children[r],t))return!1;return!0},subset:ug},mD={exact:function _D(n,e){return ia(n,e)},subset:function PT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dD(n[t],e[t]))},ignored:()=>!0};function lg(n,e,t){return gD[t.paths](n.root,e.root,t.matrixParams)&&mD[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ug(n,e,t){return cg(n,e,e.segments,t)}function cg(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rc(i,t)||e.hasChildren()||!Xh(i,t,r))}if(n.segments.length===t.length){if(!rc(n.segments,t)||!Xh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ug(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(rc(n.segments,i)&&Xh(n.segments,i,r)&&n.children[Wt])&&cg(n.children[Wt],e,l,r)}}function Xh(n,e,t){return e.every((r,i)=>mD[t](n[i].parameters,r.parameters))}class ja{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cd(this.queryParams)),this._queryParamMap}toString(){return FT.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tf(this)}}class ef{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cd(this.parameters)),this._parameterMap}toString(){return VT(this)}}function rc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class bD{}class ty{parse(e){const t=new fg(e);return new ja(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${dg(e.root,!0)}`,r=function UT(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ic(t)}=${ic(i)}`).join("&"):`${ic(t)}=${ic(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function LT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const FT=new ty;function tf(n){return n.segments.map(e=>VT(e)).join("/")}function dg(n,e){if(!n.hasChildren())return tf(n);if(e){const t=n.children[Wt]?dg(n.children[Wt],!1):"",r=[];return Xr(n.children,(i,l)=>{l!==Wt&&r.push(`${l}:${dg(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function vD(n,e){let t=[];return Xr(n.children,(r,i)=>{i===Wt&&(t=t.concat(e(r,i)))}),Xr(n.children,(r,i)=>{i!==Wt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Wt?[dg(n.children[Wt],!1)]:[`${i}:${dg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${tf(n)}/${t[0]}`:`${tf(n)}/(${t.join("//")})`}}function DD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ic(n){return DD(n).replace(/%3B/gi,";")}function Ql(n){return DD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function wD(n){return Xl(n.replace(/\+/g,"%20"))}function VT(n){return`${Ql(n.path)}${function ED(n){return Object.keys(n).map(e=>`;${Ql(e)}=${Ql(n[e])}`).join("")}(n.parameters)}`}const BT=/^[^\/()?;=#]+/;function hg(n){const e=n.match(BT);return e?e[0]:""}const GT=/^[^=?&#]+/,TD=/^[^&#]+/;class fg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new Yt(e,t)),r}parseSegment(){const e=hg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ef(Xl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=hg(this.remaining);i&&(r=i,this.capture(r))}e[Xl(t)]=Xl(r)}parseQueryParam(e){const t=function CD(n){const e=n.match(GT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function ny(n){const e=n.match(TD);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=wD(t),l=wD(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Wt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Wt]:new Yt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Td{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ry(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ry(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pg(e,this._root).map(t=>t.value)}}function ry(n,e){if(n===e.value)return e;for(const t of e.children){const r=ry(n,t);if(r)return r}return null}function pg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pg(n,t);if(r.length)return r.unshift(e),r}return[]}class sa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Id(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ID extends Td{constructor(e,t){super(e),this.snapshot=t,eu(this,e)}toString(){return this.snapshot.toString()}}function gg(n,e){const t=function jT(n,e){const d=new Ha([],{},{},"",{},Wt,e,null,n.root,-1,{});return new iy("",new sa(d,[]))}(n,e),r=new Zn([new ef("",{})]),i=new Zn({}),l=new Zn({}),d=new Zn({}),m=new Zn(""),v=new nf(r,i,d,m,l,Wt,e,t.root);return v.snapshot=t.root,new ID(new sa(v,[]),t)}class nf{constructor(e,t,r,i,l,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>Cd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>Cd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SD(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function HT(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ha{constructor(e,t,r,i,l,d,m,v,w,A,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=A,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iy extends Td{constructor(e,t){super(t),this.url=e,eu(this,t)}toString(){return $T(this._root)}}function eu(n,e){e.value._routerState=n,e.children.forEach(t=>eu(n,t))}function $T(n){const e=n.children.length>0?` { ${n.children.map($T).join(", ")} } `:"";return`${n.value}${e}`}function mg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ia(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ia(e.params,t.params)||n.params.next(t.params),function kT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ia(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ia(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sy(n,e){const t=ia(n.params,e.params)&&function ey(n,e){return rc(n,e)&&n.every((t,r)=>ia(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sy(n.parent,e.parent))}function Sd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function sM(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Sd(n,r,i);return Sd(n,r)})}(n,e,t);return new sa(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Sd(n,m)),d}}const r=function AD(n){return new nf(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Sd(n,l));return new sa(r,i)}}function rf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ad(n){return"object"==typeof n&&null!=n&&n.outlets}function _g(n,e,t,r,i){let l={};if(r&&Xr(r,(m,v)=>{l[v]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),n===e)return new ja(t,l,i);const d=ay(n,e,t);return new ja(d,l,i)}function ay(n,e,t){const r={};return Xr(n.children,(i,l)=>{r[l]=i===e?t:ay(i,e,t)}),new Yt(n.segments,r)}class ND{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ad);if(i&&i!==fD(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ly{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Nd(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return sf(n,e,t);const r=function OD(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],m=t[r];if(Ad(m))break;const v=`${m}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!xD(v,w,d))return l;r+=2}else{if(!xD(v,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Yt(n.segments.slice(0,r.pathIndex),{});return l.children[Wt]=new Yt(n.segments.slice(r.pathIndex),n.children),sf(l,0,i)}return r.match&&0===i.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?yg(n,e,t):r.match?sf(n,0,i):yg(n,e,t)}function sf(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function ZT(n){return Ad(n[0])?n[0].outlets:{[Wt]:n}}(t),i={};return Xr(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=Nd(n.children[d],e,l))}),Xr(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Yt(n.segments,i)}}function yg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Ad(l)){const v=MD(l.outlets);return new Yt(r,v)}if(0===i&&rf(t[0])){r.push(new ef(n.segments[e].path,uy(t[0]))),i++;continue}const d=Ad(l)?l.outlets[Wt]:`${l}`,m=i<t.length-1?t[i+1]:null;d&&m&&rf(m)?(r.push(new ef(d,uy(m))),i+=2):(r.push(new ef(d,{})),i++)}return new Yt(r,{})}function MD(n){const e={};return Xr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=yg(new Yt([],{}),0,t))}),e}function uy(n){const e={};return Xr(n,(t,r)=>e[r]=`${t}`),e}function xD(n,e,t){return n==t.path&&ia(e,t.parameters)}class YT{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Id(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Xr(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Id(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Id(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Id(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new uD(l.value.snapshot))}),e.children.length&&this.forwardEvent(new J_(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(mg(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),mg(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function JT(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=v,d.outlet&&d.outlet.activateWith(i,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class cy{constructor(e,t){this.routes=e,this.module=t}}function tu(n){return"function"==typeof n}function Po(n){return n instanceof ja}const sc=Symbol("INITIAL_VALUE");function $a(){return gr(n=>function Au(...n){const e=(0,pr.yG)(n),t=(0,pr.jO)(n),{args:r,keys:i}=yo(n);if(0===r.length)return(0,vn.D)([],e);const l=new tn.y(function Nu(n,e,t=Yr.y){return r=>{bo(e,()=>{const{length:i}=n,l=new Array(i);let d=i,m=i;for(let v=0;v<i;v++)bo(e,()=>{const w=(0,vn.D)(n[v],e);let A=!1;w.subscribe((0,Vn.x)(r,O=>{l[v]=O,A||(A=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>vo(i,d):Yr.y));return t?l.pipe(bl(t)):l}(n.map(e=>e.pipe((0,Sr.q)(1),hn(sc)))).pipe(og((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==sc?i:(l===sc&&(r=!0),r||!1!==l&&d!==t.length-1&&!Po(l)?i:l),e)},sc),wn(e=>e!==sc),(0,mt.U)(e=>Po(e)?e:!0===e),(0,Sr.q)(1)))}class tI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new af,this.attachRef=null}}class af{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new tI,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let hy=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new vg(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(af),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===nf?this.route:e===af?this.childContexts:this.parent.get(e,t)}}let lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[hy],encapsulation:2}),n})();function RD(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];nI(r,kD(e,r))}}function nI(n,e){n.children&&RD(n.children,e)}function kD(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function bg(n){const e=n.children&&n.children.map(bg),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=lf),t}function Qi(n){return n.outlet||Wt}function fy(n,e){const t=n.filter(r=>Qi(r)===e);return t.push(...n.filter(r=>Qi(r)!==e)),t}const PD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},PD):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||RT)(t,n,e);if(!l)return Object.assign({},PD);const d={};Xr(l.posParams,(v,w)=>{d[w]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function py(n,e,t,r,i="corrected"){if(t.length>0&&function FD(n,e,t){return t.some(r=>Od(n,e,r)&&Qi(r)!==Wt)}(n,t,r)){const d=new Yt(e,function my(n,e,t,r){const i={};i[Wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Qi(l)!==Wt){const d=new Yt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Qi(l)]=d}return i}(n,e,r,new Yt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function _y(n,e,t){return t.some(r=>Od(n,e,r))}(n,t,r)){const d=new Yt(n.segments,function gy(n,e,t,r,i,l){const d={};for(const m of r)if(Od(n,t,m)&&!i[Qi(m)]){const v=new Yt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Qi(m)]=v}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Yt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Od(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function LD(n,e,t,r){return!!(Qi(n)===r||r!==Wt&&Od(e,t,n))&&("**"===n.path||Dg(e,n,t).matched)}function VD(n,e,t){return 0===e.length&&!n.children[t]}class wg{constructor(e){this.segmentGroup=e||null}}class UD{constructor(e){this.urlTree=e}}function Md(n){return Jh(new wg(n))}function Eg(n){return Jh(new UD(n))}class HD{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=py(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Wt).pipe((0,mt.U)(l=>this.createUrlTree(Cg(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ba(l=>{if(l instanceof UD)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof wg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wt).pipe((0,mt.U)(i=>this.createUrlTree(Cg(i),e.queryParams,e.fragment))).pipe(Ba(i=>{throw i instanceof wg?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Yt([],{[Wt]:e}):e;return new ja(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(l=>new Yt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,vn.D)(i).pipe(Jl(l=>{const d=r.children[l],m=fy(t,l);return this.expandSegmentGroup(e,m,d,l).pipe((0,mt.U)(v=>({segment:v,outlet:l})))}),og((l,d)=>(l[d.outlet]=d.segment,l),{}),function TT(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wn((i,l)=>n(i,l,r)):Yr.y,Z_(1),t?Dd(e):rD(()=>new Qh))}())}expandSegment(e,t,r,i,l,d){return(0,vn.D)(r).pipe(Jl(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,d).pipe(Ba(w=>{if(w instanceof wg)return ct(null);throw w}))),nc(m=>!!m),Ba((m,v)=>{if(m instanceof Qh||"EmptyError"===m.name)return VD(t,i,l)?ct(new Yt([],{})):Md(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,d,m){return LD(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Md(t):Md(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Eg(l):this.lineralizeSegments(r,l).pipe((0,St.z)(d=>{const m=new Yt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:m,consumedSegments:v,remainingSegments:w,positionalParamSegments:A}=Dg(t,i,l);if(!m)return Md(t);const O=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?Eg(O):this.lineralizeSegments(i,O).pipe((0,St.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,mt.U)(O=>(r._loadedConfig=O,new Yt(i,{})))):ct(new Yt(i,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=Dg(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,St.z)(A=>{const O=A.module,F=A.routes,{segmentGroup:U,slicedSegments:K}=py(t,m,v,F),le=new Yt(U.segments,U.children);if(0===K.length&&le.hasChildren())return this.expandChildren(O,F,le).pipe((0,mt.U)(yt=>new Yt(m,yt)));if(0===F.length&&0===K.length)return ct(new Yt(m,{}));const Ne=Qi(r)===l;return this.expandSegment(O,le,F,K,Ne?Wt:l,!0).pipe((0,mt.U)(ke=>new Yt(m.concat(ke.segments),ke.children)))})):Md(t)}getChildConfig(e,t,r){return t.children?ct(new cy(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,St.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,mt.U)(l=>(t._loadedConfig=l,l))):function GD(n){return Jh(X_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ct(new cy([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ct(i.map(d=>{const m=e.get(d);let v;if(function XT(n){return n&&tu(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!tu(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return ko(v)})).pipe($a(),(0,ir.b)(d=>{if(!Po(d))return;const m=X_(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,mt.U)(d=>!0===d)):ct(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ct(r);if(i.numberOfChildren>1||!i.children[Wt])return Jh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new ja(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Xr(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,i)}),new Yt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Cg(n){const e={};for(const r of Object.keys(n.children)){const l=Cg(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function rI(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}class WD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uf{constructor(e,t){this.component=e,this.route=t}}function zD(n,e,t){const r=n._root;return cf(r,e?e._root:null,t,[r.value])}function Wa(n,e,t){const r=function iI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function cf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Id(e);return n.children.forEach(d=>{(function oM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function df(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rc(n.url,e.url)||!ia(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sy(n,e)||!ia(n.queryParams,e.queryParams);default:return!sy(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new WD(r)):(l.data=d.data,l._resolvedData=d._resolvedData),cf(n,e,l.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new uf(m.outlet.component,d))}else d&&hf(e,m,i),i.canActivateChecks.push(new WD(r)),cf(n,null,l.component?m?m.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Xr(l,(d,m)=>hf(d,t.getContext(m),i)),i}function hf(n,e,t){const r=Id(n),i=n.value;Xr(r,(l,d)=>{hf(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new uf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Tg{}function Ig(n){return new tn.y(e=>e.error(n))}class YD{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=py(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Wt);if(null===t)return null;const r=new Ha([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new sa(r,t),l=new iy(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=SD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],m=fy(e,l),v=this.processSegmentGroup(m,d,l);if(null===v)return null;r.push(...v)}const i=by(r);return function lI(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return VD(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!LD(e,t,r,i))return null;let l,d=[],m=[];if("**"===e.path){const U=r.length>0?fD(r).parameters:{};l=new Ha(r,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uI(e),Qi(e),e.component,e,Ag(t),Ng(t)+r.length,QD(e))}else{const U=Dg(t,e,r);if(!U.matched)return null;d=U.consumedSegments,m=U.remainingSegments,l=new Ha(d,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uI(e),Qi(e),e.component,e,Ag(t),Ng(t)+d.length,QD(e))}const v=function JD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:A}=py(t,d,m,v.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);if(0===A.length&&w.hasChildren()){const U=this.processChildren(v,w);return null===U?null:[new sa(l,U)]}if(0===v.length&&0===A.length)return[new sa(l,[])];const O=Qi(e)===i,F=this.processSegment(v,w,A,O?Wt:i);return null===F?null:[new sa(l,F)]}}function Sg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function by(n){const e=[],t=new Set;for(const r of n){if(!Sg(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=by(r.children);e.push(new sa(r.value,i))}return e.filter(r=>!t.has(r))}function Ag(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ng(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function uI(n){return n.data||{}}function QD(n){return n.resolve||{}}function Dy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wy(n){return gr(e=>{const t=n(e);return t?(0,vn.D)(t).pipe((0,mt.U)(()=>e)):ct(e)})}class fI extends class nw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Og=new c.OlP("ROUTES");class Ey{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,mt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new cy(hD(d.injector.get(Og,void 0,c.XFs.Self|c.XFs.Optional)).map(bg),d)}),Ba(l=>{throw t._loader$=void 0,l}));return t._loader$=new tM(i,()=>new gn.x).pipe(CT()),t._loader$}loadModuleFactory(e){return ko(e()).pipe((0,St.z)(t=>t instanceof c.YKP?ct(t):(0,vn.D)(this.compiler.compileModuleAsync(t))))}}class iw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pI(n){throw n}function gI(n,e,t){return e.parse("/")}function mI(n,e){return ct(null)}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class n{constructor(t,r,i,l,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gn.x,this.errorHandler=pI,this.malformedUriErrorHandler=gI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mI,afterPreactivation:mI},this.urlHandlingStrategy=new iw,this.routeReuseStrategy=new fI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const O=d.get(c.R0b);this.isNgZoneEnabled=O instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function pD(){return new ja(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ey(d,m,F=>this.triggerEvent(new lD(F)),F=>this.triggerEvent(new Y_(F))),this.routerState=gg(this.currentUrlTree,this.rootComponentType),this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(wn(i=>0!==i.id),(0,mt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),gr(i=>{let l=!1,d=!1;return ct(i).pipe((0,ir.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gr(m=>{const v=this.browserUrlTree.toString(),w=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return _I(m.source)&&(this.browserUrlTree=m.extractedUrl),ct(m).pipe(gr(O=>{const F=this.transitions.getValue();return r.next(new K_(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),F!==this.transitions.getValue()?$i.E:Promise.resolve(O)}),function $D(n,e,t,r){return gr(i=>function jD(n,e,t,r,i){return new HD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,mt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ir.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function cI(n,e,t,r,i){return(0,St.z)(l=>function aM(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new YD(n,e,t,r,i,l).recognize();return null===d?Ig(new Tg):ct(d)}catch(d){return Ig(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,mt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ir.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(U,O)}this.browserUrlTree=O.urlAfterRedirects}const F=new Ed(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:U,source:K,restoredState:le,extras:Ne}=m,Xe=new K_(F,this.serializeUrl(U),K,le);r.next(Xe);const ke=gg(U,this.rootComponentType).snapshot;return ct(Object.assign(Object.assign({},m),{targetSnapshot:ke,urlAfterRedirects:U,extras:Object.assign(Object.assign({},Ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),$i.E}),wy(m=>{const{targetSnapshot:v,id:w,extractedUrl:A,rawUrl:O,extras:{skipLocationChange:F,replaceUrl:U}}=m;return this.hooks.beforePreactivation(v,{navigationId:w,appliedUrlTree:A,rawUrlTree:O,skipLocationChange:!!F,replaceUrl:!!U})}),(0,ir.b)(m=>{const v=new AT(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,mt.U)(m=>Object.assign(Object.assign({},m),{guards:zD(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function yy(n,e){return(0,St.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function sI(n,e,t,r){return(0,vn.D)(n).pipe((0,St.z)(i=>function KD(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ct(l.map(m=>{const v=Wa(m,e,i);let w;if(function eI(n){return n&&tu(n.canDeactivate)}(v))w=ko(v.canDeactivate(n,e,t,r));else{if(!tu(v))throw new Error("Invalid CanDeactivate guard");w=ko(v(n,e,t,r))}return w.pipe(nc())})).pipe($a()):ct(!0)}(i.component,i.route,t,e,r)),nc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,St.z)(m=>m&&function QT(n){return"boolean"==typeof n}(m)?function qD(n,e,t,r){return(0,vn.D)(e).pipe(Jl(i=>Yo(function aI(n,e){return null!==n&&e&&e(new OT(n)),ct(!0)}(i.route.parent,r),function oI(n,e){return null!==n&&e&&e(new MT(n)),ct(!0)}(i.route,r),function ZD(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Fi(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>tD(()=>ct(d.guards.map(v=>{const w=Wa(v,d.node,t);let A;if(function oa(n){return n&&tu(n.canActivateChild)}(w))A=ko(w.canActivateChild(r,n));else{if(!tu(w))throw new Error("Invalid CanActivateChild guard");A=ko(w(r,n))}return A.pipe(nc())})).pipe($a())));return ct(l).pipe($a())}(n,i.path,t),function vy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const i=r.map(l=>tD(()=>{const d=Wa(l,e,t);let m;if(function dy(n){return n&&tu(n.canActivate)}(d))m=ko(d.canActivate(e,n));else{if(!tu(d))throw new Error("Invalid CanActivate guard");m=ko(d(e,n))}return m.pipe(nc())}));return ct(i).pipe($a())}(n,i.route,t))),nc(i=>!0!==i,!0))}(r,l,n,e):ct(m)),(0,mt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ir.b)(m=>{if(Po(m.guardsResult)){const w=X_(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw w.url=m.guardsResult,w}const v=new oD(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),wn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),wy(m=>{if(m.guards.canActivateChecks.length)return ct(m).pipe((0,ir.b)(v=>{const w=new NT(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),gr(v=>{let w=!1;return ct(v).pipe(function XD(n,e){return(0,St.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let l=0;return(0,vn.D)(i).pipe(Jl(d=>function ew(n,e,t,r){return function dI(n,e,t,r){const i=Dy(n);if(0===i.length)return ct({});const l={};return(0,vn.D)(i).pipe((0,St.z)(d=>function tw(n,e,t,r){const i=Wa(n,e,r);return ko(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,ir.b)(m=>{l[d]=m}))),Z_(1),(0,St.z)(()=>Dy(l).length===i.length?ct(l):$i.E))}(n._resolve,n,e,r).pipe((0,mt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),SD(n,t).resolve),null)))}(d.route,r,n,e)),(0,ir.b)(()=>l++),Z_(1),(0,St.z)(d=>l===i.length?ct(t):$i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ir.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,ir.b)(v=>{const w=new aD(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),wy(m=>{const{targetSnapshot:v,id:w,extractedUrl:A,rawUrl:O,extras:{skipLocationChange:F,replaceUrl:U}}=m;return this.hooks.afterPreactivation(v,{navigationId:w,appliedUrlTree:A,rawUrlTree:O,skipLocationChange:!!F,replaceUrl:!!U})}),(0,mt.U)(m=>{const v=function iM(n,e,t){const r=Sd(n,e._root,t?t._root:void 0);return new ID(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,ir.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new YT(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ir.b)({next(){l=!0},complete(){l=!0}}),function IT(n){return(0,Ir.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),Ba(m=>{if(d=!0,function cD(n){return n&&n[ag]}(m)){const v=Po(m.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const w=new sD(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(w),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_I(i.source)};this.scheduleNavigation(A,"imperative",null,O,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new ST(i.id,this.serializeUrl(i.extractedUrl),m);r.next(v);try{i.resolve(this.errorHandler(m))}catch(w){i.reject(w)}}return $i.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){RD(t),this.config=t.map(bg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,w=i||this.routerState.root,A=v?this.currentUrlTree.fragment:d;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function oy(n,e,t,r,i){if(0===t.length)return _g(e.root,e.root,e.root,r,i);const l=function WT(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ND(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Xr(l.outlets,(v,w)=>{m[w]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new ND(t,e,r)}(t);if(l.toRoot())return _g(e.root,e.root,new Yt([],{}),r,i);const d=function zT(n,e,t){if(n.isAbsolute)return new ly(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new ly(l,l===e.root,0)}const r=rf(n.commands[0])?0:1;return function qT(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ly(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=d.processChildren?sf(d.segmentGroup,d.index,l.commands):Nd(d.segmentGroup,d.index,l.commands);return _g(e.root,d.segmentGroup,m,r,i)}(w,this.currentUrlTree,t,O,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Po(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function cM(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},sw):!1===r?Object.assign({},uM):r,Po(t))return lg(this.currentUrlTree,t,i);const l=this.parseUrl(t);return lg(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var m,v;if(this.disposed)return Promise.resolve(!1);let w,A,O;d?(w=d.resolve,A=d.reject,O=d.promise):O=new Promise((K,le)=>{w=K,A=le});const F=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),U=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):U=0,this.setTransition({id:F,targetPageId:U,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:w,reject:A,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new sD(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _I(n){return"imperative"!==n}let Mg=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new gn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ff(this.skipLocationChange),replaceUrl:ff(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ff(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi),c.Y36(nf),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function ff(n){return""===n||!!n}class yI{}class Rg{preload(e,t){return ct(null)}}let Cy=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new Ey(i,r,v=>t.triggerEvent(new lD(v)),v=>t.triggerEvent(new Y_(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(wn(t=>t instanceof wd),Jl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,vn.D)(i).pipe((0,Lc.J)(),(0,mt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,St.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(yI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof K_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Q_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Q_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const za=new c.OlP("ROUTER_CONFIGURATION"),Ty=new c.OlP("ROUTER_FORROOT_GUARD"),lw=[ve,{provide:bD,useClass:ty},{provide:Xi,useFactory:function hM(n,e,t,r,i,l,d={},m,v){const w=new Xi(null,n,e,t,r,i,hD(l));return m&&(w.urlHandlingStrategy=m),v&&(w.routeReuseStrategy=v),function fM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(A=>{var O,F;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),w},deps:[bD,af,ve,c.zs3,c.Sil,Og,za,[class rw{},new c.FiY],[class hI{},new c.FiY]]},af,{provide:nf,useFactory:function pM(n){return n.routerState.root},deps:[Xi]},Cy,Rg,class aw{preload(e,t){return t().pipe(Ba(()=>ct(null)))}},{provide:za,useValue:{enableTracing:!1}}];function uw(){return new c.PXZ("Router",Xi)}let vI=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[lw,dw(t),{provide:Ty,useFactory:Iy,deps:[[Xi,new c.FiY,new c.tp0]]},{provide:za,useValue:r||{}},{provide:pe,useFactory:bI,deps:[fe,[new c.tBr(tt),new c.FiY],za]},{provide:kg,useFactory:cw,deps:[Xi,ll,za]},{provide:yI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Rg},{provide:c.PXZ,multi:!0,useFactory:uw},[Sy,{provide:c.ip1,multi:!0,useFactory:DI,deps:[Sy]},{provide:EI,useFactory:wI,deps:[Sy]},{provide:c.tb,multi:!0,useExisting:EI}]]}}static forChild(t){return{ngModule:n,providers:[dw(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ty,8),c.LFG(Xi,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function cw(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new kg(n,e,t)}function bI(n,e,t={}){return t.useHash?new Te(n,e):new Ze(n,e)}function Iy(n){return"guarded"}function dw(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Og,multi:!0,useValue:n}]}let Sy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(Xi),d=this.injector.get(za);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(za),i=this.injector.get(Cy),l=this.injector.get(kg),d=this.injector.get(Xi),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function DI(n){return n.appInitializer.bind(n)}function wI(n){return n.bootstrapListener.bind(n)}const EI=new c.OlP("Router Initializer");let TI=(()=>{class n{constructor(){this.title="tp-sala-de-juegos-lcardozo"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[["aria-live","polite","aria-atomic","true",1,"d-flex","justify-content-center","align-items-center"]],template:function(t,r){1&t&&c._UZ(0,"app-toast",0)(1,"router-outlet")},directives:[eD,hy],styles:[""]}),n})();var ue=R(5861);class II{constructor(){this.email="",this.password=""}}var Ay=R(127),gi=R(5813);function Ny(){return(0,Ir.e)((n,e)=>{let t,r=!1;n.subscribe((0,Vn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var We,Es=R(2011),fw=(R(4087),R(3942)),oc=R(9681),pf=R(4859),qa=R(1877),zt=R(2090),AI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Fo={},Oy=Oy||{},xt=AI||self;function Pg(){}function Fg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lg="closure_uid_"+(1e9*Math.random()>>>0),OI=0;function gM(n,e,t){return n.call.apply(n.bind,arguments)}function pw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ur(n,e,t){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gM:pw).apply(null,arguments)}function Vg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ei(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Za(){this.s=this.s,this.o=this.o}var xy={};Za.prototype.s=!1,Za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function NI(n){return Object.prototype.hasOwnProperty.call(n,Lg)&&n[Lg]||(n[Lg]=++OI)}(this);delete xy[n]}},Za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ry=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function ky(n){return Array.prototype.concat.apply([],arguments)}function Py(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ug(n){return/^[\s\xa0]*$/.test(n)}var Li,MI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function es(n,e){return-1!=n.indexOf(e)}function Bg(n,e){return n<e?-1:n>e?1:0}e:{var _w=xt.navigator;if(_w){var yw=_w.userAgent;if(yw){Li=yw;break e}}Li=""}function vw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function xI(n){const e={};for(const t in n)e[t]=n[t];return e}var RI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<RI.length;l++)t=RI[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function bw(n){return bw[" "](n),n}bw[" "]=Pg;var Rd,n,Gg=es(Li,"Opera"),xd=es(Li,"Trident")||es(Li,"MSIE"),Dw=es(Li,"Edge"),jg=Dw||xd,nu=es(Li,"Gecko")&&!(es(Li.toLowerCase(),"webkit")&&!es(Li,"Edge"))&&!(es(Li,"Trident")||es(Li,"MSIE"))&&!es(Li,"Edge"),ww=es(Li.toLowerCase(),"webkit")&&!es(Li,"Edge");function Hg(){var n=xt.document;return n?n.documentMode:void 0}e:{var Fy="",mf=(n=Li,nu?/rv:([^\);]+)(\)|;)/.exec(n):Dw?/Edge\/([\d\.]+)/.exec(n):xd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ww?/WebKit\/(\S+)/.exec(n):Gg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mf&&(Fy=mf?mf[1]:""),xd){var _f=Hg();if(null!=_f&&_f>parseFloat(Fy)){Rd=String(_f);break e}}Rd=Fy}var $g={};var _M=xt.document&&xd&&(Hg()||parseInt(Rd,10))||void 0,Cw=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",Pg,e),xt.removeEventListener("test",Pg,e)}catch(t){}return n}();function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function yf(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nu){e:{try{bw(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yf.Z.h.call(this)}}mi.prototype.h=function(){this.defaultPrevented=!0},ei(yf,mi);var LI={2:"touch",3:"pen",4:"mouse"};yf.prototype.h=function(){yf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vf="closure_listenable_"+(1e6*Math.random()|0),Tw=0;function Iw(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Tw,this.ca=this.fa=!1}function bf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Wg(n){this.src=n,this.g={},this.h=0}function Ly(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Ry(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(bf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zg(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Wg.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=zg(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new Iw(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Df="closure_lm_"+(1e6*Math.random()|0),Sw={};function Vy(n,e,t,r,i){if(r&&r.once)return Aw(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Vy(n,e[l],t,r,i);return null}return t=Mw(t),n&&n[vf]?n.N(e,t,gf(r)?!!r.capture:!!r,i):qg(n,e,t,!1,r,i)}function qg(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=gf(i)?!!i.capture:!!i,m=Uy(n);if(m||(n[Df]=m=new Wg(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function VI(){var e=GI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Cw||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(BI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Aw(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Aw(n,e[l],t,r,i);return null}return t=Mw(t),n&&n[vf]?n.O(e,t,gf(r)?!!r.capture:!!r,i):qg(n,e,t,!0,r,i)}function UI(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)UI(n,e[l],t,r,i);else r=gf(r)?!!r.capture:!!r,t=Mw(t),n&&n[vf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zg(l=n.g[e],t,r,i))&&(bf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Uy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zg(e,t,r,i)),(t=-1<n?e[n]:null)&&Nw(t))}function Nw(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[vf])Ly(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(BI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Uy(e))?(Ly(t,n),0==t.h&&(t.src=null,e[Df]=null)):bf(n)}}}function BI(n){return n in Sw?Sw[n]:Sw[n]="on"+n}function GI(n,e){if(n.ca)n=!0;else{e=new yf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Nw(n),n=t.call(r,e)}return n}function Uy(n){return(n=n[Df])instanceof Wg?n:null}var Ow="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mw(n){return"function"==typeof n?n:(n[Ow]||(n[Ow]=function(e){return n.handleEvent(e)}),n[Ow])}function ti(){Za.call(this),this.i=new Wg(this),this.P=this,this.I=null}function _i(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var i=e;kI(e=new mi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=By(d,r,!0,e)&&i}if(i=By(d=e.g=n,r,!0,e)&&i,i=By(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=By(d=e.g=t[l],r,!1,e)&&i}function By(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,v=d.ia||d.src;d.fa&&Ly(n.i,d),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}ei(ti,Za),ti.prototype[vf]=!0,ti.prototype.removeEventListener=function(n,e,t,r){UI(this,n,e,t,r)},ti.prototype.M=function(){if(ti.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bf(t[r]);delete n.g[e],n.h--}}this.I=null},ti.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ti.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Gy=xt.JSON.stringify;function yM(){var n=p;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var a,jI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bM,n=>n.reset());class bM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function s(n){xt.setTimeout(()=>{throw n},0)}function o(n,e){a||function u(){var n=xt.Promise.resolve(void 0);a=function(){n.then(y)}}(),h||(a(),h=!0),p.add(n,e)}var h=!1,p=new class vM{constructor(){this.h=this.g=null}add(e,t){const r=jI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function y(){for(var n;n=yM();){try{n.h.call(n.g)}catch(t){s(t)}var e=jI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}h=!1}function D(n,e){ti.call(this),this.h=n||1,this.g=e||xt,this.j=Ur(this.kb,this),this.l=Date.now()}function E(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function I(n,e,t){if("function"==typeof n)t&&(n=Ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function N(n){n.g=I(()=>{n.g=null,n.i&&(n.i=!1,N(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ei(D,ti),(We=D.prototype).da=!1,We.S=null,We.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_i(this,"tick"),this.da&&(E(this),this.start()))}},We.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.M=function(){D.Z.M.call(this),E(this),delete this.g};class P extends Za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:N(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B(n){Za.call(this),this.h=n,this.g={}}ei(B,Za);var Z=[];function ye(n,e,t,r){Array.isArray(t)||(t&&(Z[0]=t.toString()),t=Z);for(var i=0;i<t.length;i++){var l=Vy(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Pe(n){vw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Nw(e)},n),n.g={}}function Be(){this.g=!0}function lt(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mn(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return Gy(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}B.prototype.M=function(){B.Z.M.call(this),Pe(this)},B.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Be.prototype.Aa=function(){this.g=!1},Be.prototype.info=function(){};var Nr={},ru=null;function kd(){return ru=ru||new ti}function Zg(n){mi.call(this,Nr.Ma,n)}function ac(n){const e=kd();_i(e,new Zg(e,n))}function Kg(n,e){mi.call(this,Nr.STAT_EVENT,n),this.stat=e}function ni(n){const e=kd();_i(e,new Kg(e,n))}function Yg(n,e){mi.call(this,Nr.Na,n),this.size=e}function lc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}Nr.Ma="serverreachability",ei(Zg,mi),Nr.STAT_EVENT="statevent",ei(Kg,mi),Nr.Na="timingevent",ei(Yg,mi);var Pd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HI(){}function wM(){}HI.prototype.h=null;var zI,jy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $I(){mi.call(this,"d")}function WI(){mi.call(this,"c")}function xw(){}function Hy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new B(this),this.P=DF,this.W=new D(n=jg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new EM}function EM(){this.i=null,this.g="",this.h=!1}ei($I,mi),ei(WI,mi),ei(xw,HI),xw.prototype.g=function(){return new XMLHttpRequest},xw.prototype.i=function(){return{}},zI=new xw;var DF=45e3,qI={},Rw={};function ZI(n,e,t){n.K=1,n.v=Vw(uc(e)),n.s=t,n.U=!0,CM(n,null)}function CM(n,e){n.F=Date.now(),$y(n),n.A=uc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),RM(t.h,"t",r),n.C=0,t=n.l.H,n.h=new EM,n.g=nx(n.l,t?e:null,!n.s),0<n.O&&(n.L=new P(Ur(n.Ia,n,n.g),n.O)),ye(n.V,n.g,"readystatechange",n.gb),e=n.H?xI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ac(1),function it(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),v=0;v<m.length;v++){var w=m[v].split("=");if(1<w.length){var A=w[0];w=w[1];var O=A.split("_");d=2<=O.length&&"type"==O[1]?d+(A+"=")+w+"&":d+(A+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function TM(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function IM(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=wF(n,t),i==Rw){4==e&&(n.o=4,ni(14),r=!1),lt(n.j,n.m,null,"[Incomplete Response]");break}if(i==qI){n.o=4,ni(15),lt(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}lt(n.j,n.m,i,null),KI(n,i)}TM(n)&&i!=Rw&&i!=qI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ni(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),oS(e),e.L=!0,ni(11))):(lt(n.j,n.m,t,"[Invalid Chunked Response]"),wf(n),Wy(n))}function wF(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rw:(t=Number(e.substring(t,r)),isNaN(t)?qI:(r+=1)+t>e.length?Rw:(e=e.substr(r,t),n.C=r+t,e))}function $y(n){n.Y=Date.now()+n.P,SM(n,n.P)}function SM(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lc(Ur(n.eb,n),e)}function kw(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function Wy(n){0==n.l.G||n.I||QM(n.l,n)}function wf(n){kw(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,E(n.W),Pe(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function KI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QI(t.i,n)))if(t.I=n.N,!n.J&&QI(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=lc(Ur(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;$w(t),jw(t)}sS(t),ni(18)}if(1>=FM(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Tf(t,11)}else if((n.J||t.g==n)&&$w(t),!Ug(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const A=w[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const O=w[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const K=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var l=r.i;!l.g&&(es(K,"spdy")||es(K,"quic")||es(K,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(XI(l,l.h),l.h=null))}if(r.D){const le=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.sa=le,Qn(r.F,r.D,le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=tx(r,r.H?r.la:null,r.W),d.J){LM(r.i,d);var m=d,v=r.K;v&&m.setTimeout(v),m.B&&(kw(m),$y(m)),r.g=d}else YM(r);0<t.l.length&&Hw(t)}else"stop"!=w[0]&&"close"!=w[0]||Tf(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Tf(t,7):rS(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}ac(4)}catch(w){}}function YI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fg(n)||"string"==typeof n)gw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Fg(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function EF(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Fg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Qg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Qg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function JI(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ef(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ef(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ef(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(We=Hy.prototype).setTimeout=function(n){this.P=n},We.gb=function(n){n=n.target;const e=this.L;e&&3==cc(n)?e.l():this.Ia(n)},We.Ia=function(n){try{if(n==this.g)e:{const A=cc(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>A)&&(3!=A||jg||this.g&&(this.h.h||this.g.ga()||WM(this.g)))){this.I||4!=A||7==e||ac(8==e||0>=O?3:2),kw(this);var t=this.g.ba();this.N=t;t:if(TM(this)){var r=WM(this.g);n="";var i=r.length,l=4==cc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wf(this),Wy(this);var d="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Ce(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ug(m)){var w=m;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ni(12),wf(this),Wy(this);break e}lt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KI(this,t)}this.U?(IM(this,A,d),jg&&this.i&&3==A&&(ye(this.V,this.W,"tick",this.fb),this.W.start())):(lt(this.j,this.m,d,null),KI(this,d)),4==A&&wf(this),this.i&&!this.I&&(4==A?QM(this.l,this):(this.i=!1,$y(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),wf(this),Wy(this)}}}catch(A){}},We.fb=function(){if(this.g){var n=cc(this.g),e=this.g.ga();this.C<e.length&&(kw(this),IM(this,n,e),this.i&&4!=n&&$y(this))}},We.cancel=function(){this.I=!0,wf(this)},We.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Zt(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ac(3),ni(17)),wf(this),this.o=2,Wy(this)):SM(this,this.Y-n)},(We=Qg.prototype).R=function(){JI(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},We.T=function(){return JI(this),this.g.concat()},We.get=function(n,e){return Ef(this.h,n)?this.h[n]:e},We.set=function(n,e){Ef(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},We.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var AM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Cf){this.g=void 0!==e?e:n.g,Pw(this,n.j),this.s=n.s,Fw(this,n.i),Lw(this,n.m),this.l=n.l,e=n.h;var t=new Zy;t.i=e.i,e.g&&(t.g=new Qg(e.g),t.h=e.h),NM(this,t),this.o=n.o}else n&&(t=String(n).match(AM))?(this.g=!!e,Pw(this,t[1]||"",!0),this.s=zy(t[2]||""),Fw(this,t[3]||"",!0),Lw(this,t[4]),this.l=zy(t[5]||"",!0),NM(this,t[6]||"",!0),this.o=zy(t[7]||"")):(this.g=!!e,this.h=new Zy(null,this.g))}function uc(n){return new Cf(n)}function Pw(n,e,t){n.j=t?zy(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fw(n,e,t){n.i=t?zy(e,!0):e}function Lw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function NM(n,e,t){e instanceof Zy?(n.h=e,function xF(n,e){e&&!n.j&&(Fd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(MM(this,r),RM(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=qy(e,OF)),n.h=new Zy(e,n.g))}function Qn(n,e,t){n.h.set(e,t)}function Vw(n){return Qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zy(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SF),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SF(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qy(e,OM,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qy(e,OM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(qy(t,"/"==t.charAt(0)?NF:AF,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qy(t,MF)),n.join("")};var OM=/[#\/\?@]/g,AF=/[#\?:]/g,NF=/[#\?]/g,OF=/[#\?@]/g,MF=/#/g;function Zy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fd(n){n.g||(n.g=new Qg,n.h=0,n.i&&function CF(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MM(n,e){Fd(n),e=Xg(n,e),Ef(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ef((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&JI(n)))}function xM(n,e){return Fd(n),e=Xg(n,e),Ef(n.g.h,e)}function RM(n,e,t){MM(n,e),0<t.length&&(n.i=null,n.g.set(Xg(n,e),Py(t)),n.h+=t.length)}function Xg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kM(n){this.l=n||kF,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=Zy.prototype).add=function(n,e){Fd(this),this.i=null,n=Xg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},We.forEach=function(n,e){Fd(this),this.g.forEach(function(t,r){gw(t,function(i){n.call(e,i,r,this)},this)},this)},We.T=function(){Fd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},We.R=function(n){Fd(this);var e=[];if("string"==typeof n)xM(this,n)&&(e=ky(e,this.g.get(Xg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=ky(e,n[t])}return e},We.set=function(n,e){return Fd(this),this.i=null,xM(this,n=Xg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},We.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var kF=10;function PM(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FM(n){return n.h?1:n.g?n.g.size:0}function QI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function XI(n,e){n.g?n.g.add(e):n.h=e}function LM(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function VM(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Py(n.i)}function eS(){}function PF(){this.g=new eS}function FF(n,e,t){const r=t||"";try{YI(n,function(i,l){let d=i;gf(i)&&(d=Gy(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uw(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Ky(n){this.l=n.$b||null,this.j=n.ib||!1}function Bw(n,e){ti.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kM.prototype.cancel=function(){if(this.i=VM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},eS.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},eS.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},ei(Ky,HI),Ky.prototype.g=function(){return new Bw(this.l,this.j)},Ky.prototype.i=function(n){return function(){return n}}({}),ei(Bw,ti);var tS=0;function UM(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jy(n)}function Jy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(We=Bw.prototype).open=function(n,e){if(this.readyState!=tS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jy(this)},We.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yy(this)),this.readyState=tS},We.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jy(this)),this.g&&(this.readyState=3,Jy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UM(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},We.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yy(this):Jy(this),3==this.readyState&&UM(this)}},We.Ua=function(n){this.g&&(this.response=this.responseText=n,Yy(this))},We.Ta=function(n){this.g&&(this.response=n,Yy(this))},We.ha=function(){this.g&&Yy(this)},We.setRequestHeader=function(n,e){this.v.append(n,e)},We.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var VF=xt.JSON.parse;function Br(n){ti.call(this),this.headers=new Qg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BM,this.K=this.L=!1}ei(Br,ti);var BM="",UF=/^https?$/i,BF=["POST","PUT"];function jF(n){return"content-type"==n.toLowerCase()}function GM(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jM(n),Gw(n)}function jM(n){n.D||(n.D=!0,_i(n,"complete"),_i(n,"error"))}function HM(n){if(n.h&&void 0!==Oy&&(!n.C[1]||4!=cc(n)||2!=n.ba()))if(n.v&&4==cc(n))I(n.Fa,0,n);else if(_i(n,"readystatechange"),4==cc(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(AM)[1]||null;if(!i&&xt.self&&xt.self.location){var l=xt.self.location.protocol;i=l.substr(0,l.length-1)}r=!UF.test(i?i.toLowerCase():"")}t=r}if(t)_i(n,"complete"),_i(n,"success");else{n.m=6;try{var d=2<cc(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",jM(n)}}finally{Gw(n)}}}function Gw(n,e){if(n.g){$M(n);const t=n.g,r=n.C[0]?Pg:null;n.g=null,n.C=null,e||_i(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function $M(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function cc(n){return n.g?n.g.readyState:0}function WM(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function HF(n){let e="";return vw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qn(n,e,t))}function Qy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zM(n){this.za=0,this.l=[],this.h=new Be,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qy("baseRetryDelayMs",5e3,n),this.$a=Qy("retryDelaySeedMs",1e4,n),this.Ya=Qy("forwardChannelMaxRetries",2,n),this.ra=Qy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new kM(n&&n.concurrentRequestLimit),this.Ca=new PF,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function rS(n){if(qM(n),3==n.G){var e=n.V++,t=uc(n.F);Qn(t,"SID",n.J),Qn(t,"RID",e),Qn(t,"TYPE","terminate"),Xy(n,t),(e=new Hy(n,n.h,e,void 0)).K=2,e.v=Vw(uc(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=nx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$y(e)}ex(n)}function jw(n){n.g&&(oS(n),n.g.cancel(),n.g=null)}function qM(n){jw(n),n.u&&(xt.clearTimeout(n.u),n.u=null),$w(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function iS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Hw(n)}function Hw(n){PM(n.i)||n.m||(n.m=!0,o(n.Ha,n),n.C=0)}function ZM(n,e){var t;t=e?e.m:n.V++;const r=uc(n.F);Qn(r,"SID",n.J),Qn(r,"RID",t),Qn(r,"AID",n.U),Xy(n,r),n.o&&n.s&&nS(r,n.o,n.s),t=new Hy(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=KM(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),XI(n.i,t),ZI(t,r,e)}function Xy(n,e){n.j&&YI({},function(t,r){Qn(e,r,t)})}function KM(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ur(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let w=i[v].h;const A=i[v].g;if(w-=l,0>w)l=Math.max(0,i[v].h-100),m=!1;else try{FF(A,d,"req"+w+"_")}catch(O){r&&r(A)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function YM(n){n.g||n.u||(n.Y=1,o(n.Ga,n),n.A=0)}function sS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=lc(Ur(n.Ga,n),XM(n,n.A)),n.A++,0))}function oS(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function JM(n){n.g=new Hy(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=uc(n.oa);Qn(e,"RID","rpc"),Qn(e,"SID",n.J),Qn(e,"CI",n.N?"0":"1"),Qn(e,"AID",n.U),Xy(n,e),Qn(e,"TYPE","xmlhttp"),n.o&&n.s&&nS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Vw(uc(e)),t.s=null,t.U=!0,CM(t,n)}function $w(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function QM(n,e){var t=null;if(n.g==e){$w(n),oS(n),n.g=null;var r=2}else{if(!QI(n.i,e))return;t=e.D,LM(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;_i(r=kd(),new Yg(r,t,e,i)),Hw(n)}else YM(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function $F(n,e){return!(FM(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=lc(Ur(n.Ha,n,e),XM(n,n.C)),n.C++,0)))}(n,e)||2==r&&sS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Tf(n,5);break;case 4:Tf(n,10);break;case 3:Tf(n,6);break;default:Tf(n,2)}}function XM(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Tf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ur(n.jb,n);t||(t=new Cf("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||Pw(t,"https"),Vw(t)),function LF(n,e){const t=new Be;if(xt.Image){const r=new Image;r.onload=Vg(Uw,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Vg(Uw,t,r,"TestLoadImage: error",!1,e),r.onabort=Vg(Uw,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vg(Uw,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ni(2);n.G=0,n.j&&n.j.va(e),ex(n),qM(n)}function ex(n){n.G=0,n.I=-1,n.j&&((0!=VM(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Py(n.l),n.l.length=0),n.j.ua())}function tx(n,e,t){let r=function TF(n){return n instanceof Cf?uc(n):new Cf(n,void 0)}(t);if(""!=r.i)e&&Fw(r,e+"."+r.i),Lw(r,r.m);else{const i=xt.location;r=function IF(n,e,t,r){var i=new Cf(null,void 0);return n&&Pw(i,n),e&&Fw(i,e),t&&Lw(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&vw(n.aa,function(i,l){Qn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Qn(r,e,t),Qn(r,"VER",n.ma),Xy(n,r),r}function nx(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ba&&!n.qa?new Ky({ib:!0}):n.qa)).L=n.H,e}function rx(){}function Ww(){if(xd&&!(10<=Number(_M)))throw Error("Environmental error: no available transport.")}function Lo(n,e){ti.call(this),this.g=new zM(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ug(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ug(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new em(this)}function ix(n){$I.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function sx(){WI.call(this),this.status=1}function em(n){this.g=n}(We=Br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zI.g(),this.C=function DM(n){return n.h||(n.h=n.i())}(this.u?this.u:zI),this.g.onreadystatechange=Ur(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void GM(this,l)}n=t||"";const i=new Qg(this.headers);r&&YI(r,function(l,d){i.set(d,l)}),r=function mw(n){e:{var e=jF;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=Ry(BF,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$M(this),0<this.B&&((this.K=function GF(n){return xd&&function mM(){return function PI(n){var e=$g;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=MI(String(Rd)).split("."),t=MI("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Bg(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Bg(0==i[2].length,0==l[2].length)||Bg(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.pa,this)):this.A=I(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){GM(this,l)}},We.pa=function(){void 0!==Oy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},We.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_i(this,"complete"),_i(this,"abort"),Gw(this))},We.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gw(this,!0)),Br.Z.M.call(this)},We.Fa=function(){this.s||(this.F||this.v||this.l?HM(this):this.cb())},We.cb=function(){HM(this)},We.ba=function(){try{return 2<cc(this)?this.g.status:-1}catch(n){return-1}},We.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},We.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),VF(e)}},We.Da=function(){return this.m},We.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=zM.prototype).ma=8,We.G=1,We.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},We.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Hy(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=xI(l),kI(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=KM(this,i,e),Qn(t=uc(this.F),"RID",n),Qn(t,"CVER",22),this.D&&Qn(t,"X-HTTP-Session-Id",this.D),Xy(this,t),this.o&&l&&nS(t,this.o,l),XI(this.i,i),this.Ra&&Qn(t,"TYPE","init"),this.ja?(Qn(t,"$req",e),Qn(t,"SID","null"),i.$=!0,ZI(i,t,null)):ZI(i,t,e),this.G=2}}else 3==this.G&&(n?ZM(this,n):0==this.l.length||PM(this.i)||ZM(this))},We.Ga=function(){if(this.u=null,JM(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=lc(Ur(this.bb,this),n)}},We.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ni(10),jw(this),JM(this))},We.ab=function(){null!=this.v&&(this.v=null,jw(this),sS(this),ni(19))},We.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ni(2)):(this.h.info("Failed to ping google.com"),ni(1))},(We=rx.prototype).xa=function(){},We.wa=function(){},We.va=function(){},We.ua=function(){},We.Oa=function(){},Ww.prototype.g=function(n,e){return new Lo(n,e)},ei(Lo,ti),Lo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),o(Ur(n.hb,n,e))),ni(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=tx(n,null,n.W),Hw(n)},Lo.prototype.close=function(){rS(this.g)},Lo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,iS(this.g,e)}else this.v?((e={}).__data__=Gy(n),iS(this.g,e)):iS(this.g,n)},Lo.prototype.M=function(){this.g.j=null,delete this.j,rS(this.g),delete this.g,Lo.Z.M.call(this)},ei(ix,$I),ei(sx,WI),ei(em,rx),em.prototype.xa=function(){_i(this.g,"a")},em.prototype.wa=function(n){_i(this.g,new ix(n))},em.prototype.va=function(n){_i(this.g,new sx(n))},em.prototype.ua=function(){_i(this.g,"b")},Ww.prototype.createWebChannel=Ww.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,Pd.NO_ERROR=0,Pd.TIMEOUT=8,Pd.HTTP_ERROR=6,Jg.COMPLETE="complete",wM.EventType=jy,jy.OPEN="a",jy.CLOSE="b",jy.ERROR="c",jy.MESSAGE="d",ti.prototype.listen=ti.prototype.N,Br.prototype.listenOnce=Br.prototype.O,Br.prototype.getLastError=Br.prototype.La,Br.prototype.getLastErrorCode=Br.prototype.Da,Br.prototype.getStatus=Br.prototype.ba,Br.prototype.getResponseJson=Br.prototype.Qa,Br.prototype.getResponseText=Br.prototype.ga,Br.prototype.send=Br.prototype.ea;var WF=Fo.createWebChannelTransport=function(){return new Ww},zF=Fo.getStatEventTarget=function(){return kd()},aS=Fo.ErrorCode=Pd,qF=Fo.EventType=Jg,ZF=Fo.Event=Nr,ox=Fo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},KF=Fo.FetchXmlHttpFactory=Ky,zw=Fo.WebChannel=wM,YF=Fo.XhrIo=Br;const ax="@firebase/firestore";class Vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let tm="9.6.10";const Ld=new qa.Yd("@firebase/firestore");function lS(){return Ld.logLevel}function Fe(n,...e){if(Ld.logLevel<=qa.in.DEBUG){const t=e.map(uS);Ld.debug(`Firestore (${tm}): ${n}`,...t)}}function Gr(n,...e){if(Ld.logLevel<=qa.in.ERROR){const t=e.map(uS);Ld.error(`Firestore (${tm}): ${n}`,...t)}}function ev(n,...e){if(Ld.logLevel<=qa.in.WARN){const t=e.map(uS);Ld.warn(`Firestore (${tm}): ${n}`,...t)}}function uS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${tm}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Ot(n,e){n||ot()}function qe(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vi.UNAUTHENTICATED))}shutdown(){}}class eL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tL{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new yi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const w=d;e.enqueueRetryable((0,ue.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},v=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new yi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new lx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new Vi(e)}}class nL{constructor(e,t,r){this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rL{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new nL(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iL{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.p=t.token,new ux(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Vo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function sL(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Vo.A=-1;class cx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sL(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function nm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function dx(n){return n+"\0"}class Or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Or(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Or(0,0))}static max(){return new It(new Or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function hx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function If(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tv{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends tv{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const oL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends tv{construct(e,t,r){return new vi(e,t,r)}static isValidIdentifier(e){return oL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(l(),i++)}if(l(),d)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class rm{constructor(e){this.fields=e,e.sort(vi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const lL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vd(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=lL.exec(n);if(Ot(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sf(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function cS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function px(n){const e=n.mapValue.fields.__previous_value__;return cS(e)?px(e):e}function nv(n){const e=Vd(n.mapValue.fields.__local_write_time__.timestampValue);return new Or(e.seconds,e.nanos)}class uL{constructor(e,t,r,i,l,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class dc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}function Af(n){return null==n}function rv(n){return 0===n&&1/n==-1/0}function gx(n){return"number"==typeof n&&Number.isInteger(n)&&!rv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(ln.fromString(e))}static fromName(e){return new $e(ln.fromString(e).popFirst(5))}static empty(){return new $e(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new ln(e.slice()))}}const mx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_x={nullValue:"NULL_VALUE"};function Nf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cS(n)?4:Dx(n)?9:10:ot()}function iu(n,e){if(n===e)return!0;const t=Nf(n);if(t!==Nf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nv(n).isEqual(nv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Vd(r.timestampValue),d=Vd(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Sf(n.bytesValue).isEqual(Sf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return vr(r.geoPointValue.latitude)===vr(i.geoPointValue.latitude)&&vr(r.geoPointValue.longitude)===vr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vr(r.integerValue)===vr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=vr(r.doubleValue),d=vr(i.doubleValue);return l===d?rv(l)===rv(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return nm(n.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(hx(l)!==hx(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!iu(l[m],d[m])))return!1;return!0}(n,e);default:return ot()}var i}function iv(n,e){return void 0!==(n.values||[]).find(t=>iu(t,e))}function Ud(n,e){if(n===e)return 0;const t=Nf(n),r=Nf(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=vr(i.integerValue||i.doubleValue),m=vr(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return yx(n.timestampValue,e.timestampValue);case 4:return yx(nv(n),nv(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=Sf(i),m=Sf(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),m=l.split("/");for(let v=0;v<d.length&&v<m.length;v++){const w=Jt(d[v],m[v]);if(0!==w)return w}return Jt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Jt(vr(i.latitude),vr(l.latitude));return 0!==d?d:Jt(vr(i.longitude),vr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],m=l.values||[];for(let v=0;v<d.length&&v<m.length;++v){const w=Ud(d[v],m[v]);if(w)return w}return Jt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},m=Object.keys(d),v=l.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let A=0;A<m.length&&A<w.length;++A){const O=Jt(m[A],w[A]);if(0!==O)return O;const F=Ud(d[m[A]],v[w[A]]);if(0!==F)return F}return Jt(m.length,w.length)}(n.mapValue,e.mapValue);default:throw ot()}}function yx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=Vd(n),r=Vd(e),i=Jt(t.seconds,r.seconds);return 0!==i?i:Jt(t.nanos,r.nanos)}function im(n){return dS(n)}function dS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Vd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sf(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=dS(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of i)d?d=!1:l+=",",l+=`${m}:${dS(r.fields[m])}`;return l+"}"}(n.mapValue):ot();var e}function sm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hS(n){return!!n&&"integerValue"in n}function sv(n){return!!n&&"arrayValue"in n}function vx(n){return!!n&&"nullValue"in n}function bx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qw(n){return!!n&&"mapValue"in n}function ov(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return If(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ov(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ov(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Dx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wx(n,e){return void 0===n?e:void 0===e||Ud(n,e)>0?n:e}function Ex(n,e){return void 0===n?e:void 0===e||Ud(n,e)<0?n:e}class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ov(t)}setAll(e){let t=vi.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=ov(d):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());qw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return iu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){If(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new ts(ov(this.value))}}function Cx(n){const e=[];return If(n.fields,(t,r)=>{const i=new vi([t]);if(qw(r)){const l=Cx(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new rm(e)}class Gn{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Gn(e,0,It.min(),It.min(),ts.empty(),0)}static newFoundDocument(e,t,r){return new Gn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new Gn(e,2,t,It.min(),ts.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,It.min(),ts.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zw{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function fS(n){return n.fields.find(e=>2===e.kind)}function om(n){return n.fields.filter(e=>2!==e.kind)}Zw.UNKNOWN_ID=-1;class Kw{constructor(e,t){this.fieldPath=e,this.kind=t}}class av{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new av(0,hc.min())}}function Tx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new Or(t+1,0):new Or(t,r));return new hc(i,$e.empty(),e)}function cL(n){return new hc(n.readTime,n.key,-1)}class hc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hc(It.min(),$e.empty(),-1)}static max(){return new hc(It.max(),$e.empty(),-1)}}function dL(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}class hL{constructor(e,t=null,r=[],i=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=m,this.P=null}}function Ix(n,e=null,t=[],r=[],i=null,l=null,d=null){return new hL(n,e,t,r,i,l,d)}function Of(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+im(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>im(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>im(r)).join(",")),e.P=t}return e.P}function lv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!DL(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!iu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Nx(n.startAt,e.startAt)&&Nx(n.endAt,e.endAt)}function Yw(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Jw(n,e){return n.filters.filter(t=>t instanceof Ui&&t.field.isEqual(e))}class Ui extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new pL(e,t,r):"array-contains"===t?new _L(e,r):"in"===t?new yL(e,r):"not-in"===t?new vL(e,r):"array-contains-any"===t?new bL(e,r):new Ui(e,t,r)}static V(e,t,r){return"in"===t?new gL(e,r):new mL(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ud(t,this.value)):null!==t&&Nf(this.value)===Nf(t)&&this.v(Ud(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pL extends Ui{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.v(t)}}class gL extends Ui{constructor(e,t){super(e,"in",t),this.keys=Sx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mL extends Ui{constructor(e,t){super(e,"not-in",t),this.keys=Sx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class _L extends Ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sv(t)&&iv(t.arrayValue,this.value)}}class yL extends Ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&iv(this.value.arrayValue,t)}}class vL extends Ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(iv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!iv(this.value.arrayValue,t)}}class bL extends Ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>iv(this.value.arrayValue,r))}}class Bd{constructor(e,t){this.position=e,this.inclusive=t}}class am{constructor(e,t="asc"){this.field=e,this.dir=t}}function DL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ax(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?$e.comparator($e.fromName(d.referenceValue),t.key):Ud(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Nx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!iu(n.position[t],e.position[t]))return!1;return!0}class fc{constructor(e,t=null,r=[],i=[],l=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=v,this.D=null,this.C=null}}function Ox(n,e,t,r,i,l,d,m){return new fc(n,e,t,r,i,l,d,m)}function lm(n){return new fc(n)}function Qw(n){return!Af(n.limit)&&"F"===n.limitType}function Xw(n){return!Af(n.limit)&&"L"===n.limitType}function pS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gS(n){for(const e of n.filters)if(e.S())return e.field;return null}function mS(n){return null!==n.collectionGroup}function um(n){const e=qe(n);if(null===e.D){e.D=[];const t=gS(e),r=pS(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new am(t)),e.D.push(new am(vi.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new am(vi.keyField(),l))}}}return e.D}function aa(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=Ix(e.path,e.collectionGroup,um(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of um(e))t.push(new am(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Bd(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Bd(e.startAt.position,!e.startAt.inclusive):null;e.C=Ix(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Mx(n,e,t){return new fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uv(n,e){return lv(aa(n),aa(e))&&n.limitType===e.limitType}function xx(n){return`${Of(aa(n))}|lt:${n.limitType}`}function _S(n){return`Query(target=${function fL(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${im(r.value)}`;var r}).join(", ")}]`),Af(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>im(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>im(t)).join(",")),`Target(${e})`}(aa(n))}; limitType=${n.limitType})`}function yS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const m=Ax(i,l,d);return i.inclusive?m<=0:m<0}(t.startAt,um(t),r)||t.endAt&&!function(i,l,d){const m=Ax(i,l,d);return i.inclusive?m>=0:m>0}(t.endAt,um(t),r)));var t,r}function Rx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kx(n){return(e,t)=>{let r=!1;for(const i of um(n)){const l=wL(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function wL(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,l,d){const m=l.data.field(i),v=d.data.field(i);return null!==m&&null!==v?Ud(m,v):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function Px(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rv(e)?"-0":e}}function Fx(n){return{integerValue:""+n}}function Lx(n,e){return gx(e)?Fx(e):Px(n,e)}class eE{constructor(){this._=void 0}}function EL(n,e,t){return n instanceof cm?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Mf?Ux(n,e):n instanceof xf?Bx(n,e):function(r,i){const l=Vx(r,i),d=Gx(l)+Gx(r.k);return hS(l)&&hS(r.k)?Fx(d):Px(r.M,d)}(n,e)}function CL(n,e,t){return n instanceof Mf?Ux(n,e):n instanceof xf?Bx(n,e):t}function Vx(n,e){return n instanceof dm?hS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class cm extends eE{}class Mf extends eE{constructor(e){super(),this.elements=e}}function Ux(n,e){const t=jx(e);for(const r of n.elements)t.some(i=>iu(i,r))||t.push(r);return{arrayValue:{values:t}}}class xf extends eE{constructor(e){super(),this.elements=e}}function Bx(n,e){let t=jx(e);for(const r of n.elements)t=t.filter(i=>!iu(i,r));return{arrayValue:{values:t}}}class dm extends eE{constructor(e,t){super(),this.M=e,this.k=t}}function Gx(n){return vr(n.integerValue||n.doubleValue)}function jx(n){return sv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cv{constructor(e,t){this.field=e,this.transform=t}}class IL{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nE{}function SL(n,e,t){n instanceof dv?function(r,i,l){const d=r.value.clone(),m=zx(r.fieldTransforms,i,l.transformResults);d.setAll(m),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Rf?function(r,i,l){if(!tE(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=zx(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(Wx(r)),m.setAll(d),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vS(n,e,t){var i;n instanceof dv?function(r,i,l){if(!tE(r.precondition,i))return;const d=r.value.clone(),m=qx(r.fieldTransforms,l,i);d.setAll(m),i.convertToFoundDocument($x(i),d).setHasLocalMutations()}(n,e,t):n instanceof Rf?function(r,i,l){if(!tE(r.precondition,i))return;const d=qx(r.fieldTransforms,l,i),m=i.data;m.setAll(Wx(r)),m.setAll(d),i.convertToFoundDocument($x(i),m).setHasLocalMutations()}(n,e,t):tE(n.precondition,i=e)&&i.convertToNoDocument(It.min())}function AL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Vx(r.transform,i||null);null!=l&&(null==t&&(t=ts.empty()),t.set(r.field,l))}return t||null}function Hx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&nm(t,r,(i,l)=>function TL(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Mf&&r instanceof Mf||t instanceof xf&&r instanceof xf?nm(t.elements,r.elements,iu):t instanceof dm&&r instanceof dm?iu(t.k,r.k):t instanceof cm&&r instanceof cm);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function $x(n){return n.isFoundDocument()?n.version:It.min()}class dv extends nE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Rf extends nE{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function Wx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function zx(n,e,t){const r=new Map;Ot(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,m=e.data.field(l.field);r.set(l.field,CL(d,m,t[i]))}return r}function qx(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,EL(l,d,e))}return r}class hv extends nE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class bS extends nE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class NL{constructor(e){this.count=e}}var Hr,un;function Zx(n){switch(n){default:return ot();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function Kx(n){if(void 0===n)return Gr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Hr.OK:return he.OK;case Hr.CANCELLED:return he.CANCELLED;case Hr.UNKNOWN:return he.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return he.INTERNAL;case Hr.UNAVAILABLE:return he.UNAVAILABLE;case Hr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Hr.NOT_FOUND:return he.NOT_FOUND;case Hr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Hr.ABORTED:return he.ABORTED;case Hr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Hr.DATA_LOSS:return he.DATA_LOSS;default:return ot()}}(un=Hr||(Hr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Gd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){If(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return fx(this.inner)}size(){return this.innerSize}}class Mr{constructor(e,t){this.comparator=e,this.root=t||Bi.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rE(this.root,e,this.comparator,!1)}getReverseIterator(){return new rE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rE(this.root,e,this.comparator,!0)}}class rE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Bi.RED,this.left=null!=i?i:Bi.EMPTY,this.right=null!=l?l:Bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Bi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1,Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yx(this.data.getIterator())}getIteratorFrom(e){return new Yx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class Yx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hm(n){return n.hasNext()?n.getNext():void 0}const OL=new Mr($e.comparator);function la(){return OL}const ML=new Mr($e.comparator);function DS(){return ML}function fv(){return new Gd(n=>n.toString(),(n,e)=>n.isEqual(e))}const xL=new Mr($e.comparator),RL=new jn($e.comparator);function bn(...n){let e=RL;for(const t of n)e=e.add(t);return e}const kL=new jn(Jt);function iE(){return kL}class pv{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,gv.createSynthesizedTargetChangeForCurrentChange(e,t)),new pv(It.min(),r,iE(),la(),bn())}}class gv{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gv(ri.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class sE{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Jx{constructor(e,t){this.targetId=e,this.$=t}}class Qx{constructor(e,t,r=ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Xx{constructor(){this.B=0,this.L=tR(),this.U=ri.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=bn(),t=bn(),r=bn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new gv(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=tR()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class PL{constructor(e){this.nt=e,this.st=new Map,this.it=la(),this.rt=eR(),this.ot=new jn(Jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(Yw(l))if(0===r){const d=new $e(l.path);this.ct(t,d,Gn.newNoDocument(d,It.min()))}else Ot(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const m=this.wt(d);if(m){if(l.current&&Yw(m.target)){const v=new $e(m.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,Gn.newNoDocument(v,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=bn();this.rt.forEach((l,d)=>{let m=!0;d.forEachWhile(v=>{const w=this.wt(v);return!w||2===w.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new pv(e,t,this.ot,this.it,r);return this.it=la(),this.rt=eR(),this.ot=new jn(Jt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Xx,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jn(Jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Xx),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function eR(){return new Mr($e.comparator)}function tR(){return new Mr($e.comparator)}const FL={asc:"ASCENDING",desc:"DESCENDING"},LL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VL{constructor(e,t){this.databaseId=e,this.N=t}}function mv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nR(n,e){return n.N?e.toBase64():e.toUint8Array()}function UL(n,e){return mv(n,e.toTimestamp())}function bi(n){return Ot(!!n),It.fromTimestamp(function(e){const t=Vd(e);return new Or(t.seconds,t.nanos)}(n))}function wS(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rR(n){const e=ln.fromString(n);return Ot(hR(e)),e}function _v(n,e){return wS(n.databaseId,e.path)}function su(n,e){const t=rR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(sR(t))}function ES(n,e){return wS(n.databaseId,e)}function iR(n){const e=rR(n);return 4===e.length?ln.emptyPath():sR(e)}function yv(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sR(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function oR(n,e,t){return{name:_v(n,e),fields:t.value.mapValue.fields}}function aR(n,e,t){const r=su(n,e.name),i=bi(e.updateTime),l=new ts({mapValue:{fields:e.fields}}),d=Gn.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function vv(n,e){let t;if(e instanceof dv)t={update:oR(n,e.key,e.value)};else if(e instanceof hv)t={delete:_v(n,e.key)};else if(e instanceof Rf)t={update:oR(n,e.key,e.data),updateMask:ZL(e.fieldMask)};else{if(!(e instanceof bS))return ot();t={verify:_v(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof cm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dm)return{fieldPath:l.field.canonicalString(),increment:d.k};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:UL(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function CS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?jr.updateTime(bi(i.updateTime)):void 0!==i.exists?jr.exists(i.exists):jr.none():jr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let m=null;"setToServerValue"in d?(Ot("REQUEST_TIME"===d.setToServerValue),m=new cm):"appendMissingElements"in d?m=new Mf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new xf(d.removeAllFromArray.values||[]):"increment"in d?m=new dm(l,d.increment):ot();const v=vi.fromServerFormat(d.fieldPath);return new cv(v,m)}(n,i)):[];var i;if(e.update){const i=su(n,e.update.name),l=new ts({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new rm((e.updateMask.fieldPaths||[]).map(w=>vi.fromServerFormat(w)));return new Rf(i,l,d,t,r)}return new dv(i,l,t,r)}if(e.delete){const i=su(n,e.delete);return new hv(i,t)}if(e.verify){const i=su(n,e.verify);return new bS(i,t)}return ot()}function lR(n,e){return{documents:[ES(n,e.path)]}}function uR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ES(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ES(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const w=v.map(A=>function(O){if("=="===O.op){if(bx(O.value))return{unaryFilter:{field:fm(O.field),op:"IS_NAN"}};if(vx(O.value))return{unaryFilter:{field:fm(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(bx(O.value))return{unaryFilter:{field:fm(O.field),op:"IS_NOT_NAN"}};if(vx(O.value))return{unaryFilter:{field:fm(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fm(O.field),op:WL(O.op),value:O.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(v){if(0!==v.length)return v.map(w=>{return{field:fm((A=w).field),direction:$L(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.N||Af(w)?w:{value:w});var w,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function cR(n){let e=iR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ot(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=dR(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new am(pm((O=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(A){let O;return O="object"==typeof A?A.value:A,Af(O)?null:O}(t.limit));let v=null;var A;t.startAt&&(v=new Bd((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new Bd(A.values||[],!A.before)}(t.endAt)),Ox(e,i,d,l,m,"F",v,w)}function dR(n){return n?void 0!==n.unaryFilter?[qL(n)]:void 0!==n.fieldFilter?[zL(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dR(e)).reduce((e,t)=>e.concat(t)):ot():[]}function $L(n){return FL[n]}function WL(n){return LL[n]}function fm(n){return{fieldPath:n.canonicalString()}}function pm(n){return vi.fromServerFormat(n.fieldPath)}function zL(n){return Ui.create(pm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function qL(n){switch(n.unaryFilter.op){case"IS_NAN":const e=pm(n.unaryFilter.field);return Ui.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=pm(n.unaryFilter.field);return Ui.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pm(n.unaryFilter.field);return Ui.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pm(n.unaryFilter.field);return Ui.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function ZL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Di(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fR(e)),e=KL(n.get(t),e);return fR(e)}function KL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function fR(n){return n+"\x01\x01"}function Ka(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&ot(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:ot()}l=d+2}return new ln(r)}const pR=["userId","batchId"];function oE(n,e){return[n,Di(e)]}function gR(n,e,t){return[n,Di(e),t]}const YL={},JL=["prefixPath","collectionGroup","readTime","documentId"],QL=["prefixPath","collectionGroup","documentId"],XL=["collectionGroup","readTime","prefixPath","documentId"],e2=["canonicalId","targetId"],t2=["targetId","path"],n2=["path","targetId"],r2=["collectionId","parent"],s2=["indexId","uid"],o2=["uid","sequenceNumber"],a2=["indexId","uid","arrayValue","directionalValue","documentKey"],l2=["indexId","uid","documentKey"],u2=["userId","collectionPath","documentId"],c2=["userId","collectionPath","largestBatchId"],d2=["userId","collectionGroup","largestBatchId"],mR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],h2=[...mR,"documentOverlays"],_R=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f2=[..._R,"indexConfiguration","indexState","indexEntries"],yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,l=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++l,d&&l===i&&t()},v=>r(v))}),d=!0,l===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class aE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new yi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new bv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=TS(r.target.error);this.At.reject(new bv(e,i))}}static open(e,t,r,i){try{return new aE(t,e.transaction(i,r))}catch(l){throw new bv(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new g2(t)}}class Ya{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ya.Vt((0,zt.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Pf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,zt.hl)())return!1;if(Ya.St())return!0;const e=(0,zt.z$)(),t=Ya.Vt(e),r=0<t&&t<10,i=Ya.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ue.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new bv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Ae(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new bv(e,m))},l.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ue.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const v=aE.open(l.db,e,d?"readonly":"readwrite",r),w=i(v).next(A=>(v.bt(),A)).catch(A=>(v.abort(A),ge.reject(A))).toPromise();return w.catch(()=>{}),yield v.Rt,w}catch(v){const w="FirebaseError"!==v.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",w),l.close(),!w)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class p2{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Pf(this.Ft.delete())}}class bv extends Ae{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function kf(n){return"IndexedDbTransactionError"===n.name}class g2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pf(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Pf(this.store.add(e))}get(e){return Pf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Pf(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Pf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Gt(i,(d,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ge((l,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(l,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new ge((r,i)=>{t.onerror=l=>{const d=TS(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new ge((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const v=new p2(m),w=t(m.primaryKey,m.value,v);if(w instanceof ge){const A=w.catch(O=>(v.done(),ge.reject(O)));r.push(A)}v.isDone?i():null===v.Lt?m.continue():m.continue(v.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pf(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=TS(r.target.error);t(i)}})}let bR=!1;function TS(n){const e=Ya.Vt((0,zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bR||(bR=!0,setTimeout(()=>{throw r},0)),r}}return n}class DR extends vR{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function wi(n,e){const t=qe(n);return Ya.xt(t.Ht,e)}class IS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&SL(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&vS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&vS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&nm(this.mutations,e.mutations,(t,r)=>Hx(t,r))&&nm(this.baseMutations,e.baseMutations,(t,r)=>Hx(t,r))}}class SS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ot(e.mutations.length===r.length);let i=xL;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new SS(e,t,r,i)}}class AS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jd{constructor(e,t,r,i,l=It.min(),d=It.min(),m=ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new jd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wR{constructor(e){this.Jt=e}}function ER(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_v(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:mv(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ff(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Ff(e.version)}}var i,l;return r}function lE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ff(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Lf(n){const e=new Or(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function gm(n,e){const t=(e.baseMutations||[]).map(l=>CS(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>CS(n.Jt,l)),i=Or.fromMillis(e.localWriteTimeMs);return new IS(e.batchId,i,t,r)}function Dv(n){const e=Lf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Lf(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=aa(lm(iR(i.documents[0])))):r=aa(cR(n.query)),new jd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ri.fromBase64String(n.resumeToken))}function CR(n,e){const t=Ff(e.snapshotVersion),r=Ff(e.lastLimboFreeSnapshotVersion);let i;i=Yw(e.target)?lR(n.Jt,e.target):uR(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Of(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NS(n){const e=cR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mx(e,e.limit,"L"):e}function OS(n,e){return new AS(e.largestBatchId,CS(n.Jt,e.overlayMutation))}function TR(n,e){const t=e.path.lastSegment();return[n,Di(e.path.popLast()),t]}class _2{getBundleMetadata(e,t){return IR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Lf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return IR(e).put({bundleId:(r=t).id,createTime:Ff(bi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return SR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:NS(i.bundledQuery),readTime:Lf(i.readTime)};var i})}saveNamedQuery(e,t){return SR(e).put({name:(r=t).name,readTime:Ff(bi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function IR(n){return wi(n,"bundles")}function SR(n){return wi(n,"namedQueries")}class MS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new MS(e,t.uid||"")}getOverlay(e,t){return wv(e).get(TR(this.userId,t)).next(r=>r?OS(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const m=new AS(t,d);i.push(this.Xt(e,m))}),ge.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Di(d.getCollectionPath())));const l=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(wv(e).Qt("collectionPathOverlayIndex",m))}),ge.waitFor(l)}getOverlaysForCollection(e,t,r){const i=fv(),l=Di(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return wv(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const w=OS(this.M,v);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=fv();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wv(e).Wt({index:"collectionGroupOverlayIndex",range:m},(v,w,A)=>{const O=OS(this.M,w);l.size()<i||O.largestBatchId===d?(l.set(O.getKey(),O),d=O.largestBatchId):A.done()}).next(()=>l)}Xt(e,t){return wv(e).put(function(r,i,l){const[d,m,v]=TR(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:vv(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function wv(n){return wi(n,"documentOverlays")}class mm{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(vr(e.integerValue));else if("doubleValue"in e){const r=vr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),rv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Sf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Dx(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ot()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),$e.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function y2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function AR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=y2(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}mm.fe=new mm;class v2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=AR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=AR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class b2{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class D2{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class uE{constructor(){this.De=new v2,this.Ce=new b2(this.De),this.xe=new D2(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Hd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hd(this.indexId,this.documentKey,this.arrayValue,r)}}function Vf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=NR(n.arrayValue,e.arrayValue),0!==t?t:(t=NR(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function NR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class w2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=fS(e);if(void 0!==t&&!this.Be(t))return!1;const r=om(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class E2{constructor(){this.qe=new xS}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class xS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(ln.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(ln.comparator)).toArray()}}const cE=new Uint8Array(0);class C2{constructor(e){this.user=e,this.Ge=new xS,this.Ke=new Gd(t=>Of(t),(t,r)=>lv(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:Di(i)};return OR(e).put(l)}return ge.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[dx(t),""],!1,!0);return OR(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Ka(d.parent))}return r})}addFieldIndex(e,t){const r=dE(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=dE(e),i=hE(e),l=Ev(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ev(e);let i=!0;const l=new Map;return ge.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{i&&(i=!!m),l.set(d,m)})).next(()=>{if(i){let d=bn();return ge.forEach(l,(m,v)=>{var w;Fe("IndexedDbIndexManager",`Using index ${w=m,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(ke=>`${ke.fieldPath}:${ke.kind}`).join(",")}`} to execute ${Of(t)}`);const A=function(ke,yt){const je=fS(yt);if(void 0===je)return null;for(const Je of Jw(ke,je.fieldPath))switch(Je.op){case"array-contains-any":return Je.value.arrayValue.values||[];case"array-contains":return[Je.value]}return null}(v,m),O=function(ke,yt){const je=new Map;for(const Je of om(yt))for(const Qe of Jw(ke,Je.fieldPath))switch(Qe.op){case"==":case"in":je.set(Je.fieldPath.canonicalString(),Qe.value);break;case"not-in":case"!=":return je.set(Je.fieldPath.canonicalString(),Qe.value),Array.from(je.values())}return null}(v,m),F=function(ke,yt){const je=[];let Je=!0;for(const qt of om(yt)){let Lt,$n=!0;for(const Qt of Jw(ke,qt.fieldPath)){let Rt,Ti=!0;switch(Qt.op){case"<":case"<=":Rt="nullValue"in(Qe=Qt.value)?_x:"booleanValue"in Qe?{booleanValue:!1}:"integerValue"in Qe||"doubleValue"in Qe?{doubleValue:NaN}:"timestampValue"in Qe?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Qe?{stringValue:""}:"bytesValue"in Qe?{bytesValue:""}:"referenceValue"in Qe?sm(dc.empty(),$e.empty()):"geoPointValue"in Qe?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Qe?{arrayValue:{}}:"mapValue"in Qe?{mapValue:{}}:ot();break;case"==":case"in":case">=":Rt=Qt.value;break;case">":Rt=Qt.value,Ti=!1;break;case"!=":case"not-in":Rt=_x}wx(Lt,Rt)===Rt&&(Lt=Rt,$n=Ti)}if(null!==ke.startAt)for(let Qt=0;Qt<ke.orderBy.length;++Qt)if(ke.orderBy[Qt].field.isEqual(qt.fieldPath)){const Rt=ke.startAt.position[Qt];wx(Lt,Rt)===Rt&&(Lt=Rt,$n=ke.startAt.inclusive);break}if(void 0===Lt)return null;je.push(Lt),Je&&(Je=$n)}var Qe;return new Bd(je,Je)}(v,m),U=function(ke,yt){const je=[];let Je=!0;for(const qt of om(yt)){let Lt,$n=!0;for(const Qt of Jw(ke,qt.fieldPath)){let Rt,Ti=!0;switch(Qt.op){case">=":case">":Rt="nullValue"in(Qe=Qt.value)?{booleanValue:!1}:"booleanValue"in Qe?{doubleValue:NaN}:"integerValue"in Qe||"doubleValue"in Qe?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Qe?{stringValue:""}:"stringValue"in Qe?{bytesValue:""}:"bytesValue"in Qe?sm(dc.empty(),$e.empty()):"referenceValue"in Qe?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Qe?{arrayValue:{}}:"arrayValue"in Qe?{mapValue:{}}:"mapValue"in Qe?mx:ot(),Ti=!1;break;case"==":case"in":case"<=":Rt=Qt.value;break;case"<":Rt=Qt.value,Ti=!1;break;case"!=":case"not-in":Rt=mx}Ex(Lt,Rt)===Rt&&(Lt=Rt,$n=Ti)}if(null!==ke.endAt)for(let Qt=0;Qt<ke.orderBy.length;++Qt)if(ke.orderBy[Qt].field.isEqual(qt.fieldPath)){const Rt=ke.endAt.position[Qt];Ex(Lt,Rt)===Rt&&(Lt=Rt,$n=ke.endAt.inclusive);break}if(void 0===Lt)return null;je.push(Lt),Je&&(Je=$n)}var Qe;return new Bd(je,Je)}(v,m),K=this.je(m,v,F),le=this.je(m,v,U),Ne=this.We(m,v,O),Xe=this.ze(m.indexId,A,K,!!F&&F.inclusive,le,!!U&&U.inclusive,Ne);return ge.forEach(Xe,ke=>r.Kt(ke,t.limit).next(yt=>{yt.forEach(je=>{d=d.add(new $e(Ka(je.documentKey)))})}))}).next(()=>d)}return ge.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,l,d,m){const v=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),w=v/(null!=t?t.length:1),A=[];for(let O=0;O<v;++O){const F=t?this.He(t[O/w]):cE,U=r?this.Je(e,F,r[O%w],i):this.Ye(e),K=l?this.Xe(e,F,l[O%w],d):this.Ye(e+1);A.push(...this.createRange(U,K,m.map(le=>this.Je(e,F,le,!0))))}return A}Je(e,t,r,i){const l=new Hd(e,$e.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Hd(e,$e.empty(),t,r);return i?l.ke():l}Ye(e){return new Hd(e,$e.empty(),cE,cE)}getFieldIndex(e,t){const r=new w2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const d=l.filter(m=>r.$e(m));return d.sort((m,v)=>v.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new uE;for(const i of om(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);mm.fe.Zt(l,d)}return r.Se()}He(e){const t=new uE;return mm.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new uE);let l=0;for(const d of om(e)){const m=r[l++];for(const v of i)if(this.tn(t,d.fieldPath)&&sv(m))i=this.en(i,d,m);else{const w=v.Ne(d.kind);mm.fe.Zt(m,w)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of i){const v=new uE;v.seed(m.Se()),mm.fe.Zt(d,v.Ne(t.kind)),l.push(v)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof Ui&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=dE(e),i=hE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return ge.forEach(l,m=>i.get([m.indexId,this.uid]).next(v=>{d.push(function(w,A){const O=A?new av(A.sequenceNumber,new hc(Lf(A.readTime),new $e(Ka(A.documentKey)),A.largestBatchId)):av.empty(),F=w.fields.map(([U,K])=>new Kw(vi.fromServerFormat(U),K));return new Zw(w.indexId,w.collectionGroup,F,O)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=dE(e),l=hE(e);return this.sn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ge.forEach(m,v=>{return l.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Ff((F=r).readTime),documentKey:Di(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?ge.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),ge.forEach(m,v=>this.rn(e,i,v).next(w=>{const A=this.on(l,v);return w.isEqual(A)?ge.resolve():this.un(e,l,w,A)}))))})}an(e,t,r){return Ev(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Di(t.key.path)})}cn(e,t,r){return Ev(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Di(t.key.path)])}rn(e,t,r){const i=Ev(e);let l=new jn(Vf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Di(t.path)])},(d,m)=>{l=l.add(new Hd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new jn(Vf);const i=this.Ze(t,e);if(null==i)return r;const l=fS(t);if(null!=l){const d=e.data.field(l.fieldPath);if(sv(d))for(const m of d.arrayValue.values||[])r=r.add(new Hd(t.indexId,e.key,this.He(m),i))}else r=r.add(new Hd(t.indexId,e.key,cE,i));return r}un(e,t,r,i){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,m,v,w,A){const O=d.getIterator(),F=m.getIterator();let U=hm(O),K=hm(F);for(;U||K;){let le=!1,Ne=!1;if(U&&K){const Xe=v(U,K);Xe<0?Ne=!0:Xe>0&&(le=!0)}else null!=U?Ne=!0:le=!0;le?(w(K),K=hm(F)):Ne?(A(U),U=hm(O)):(U=hm(O),K=hm(F))}}(r,i,Vf,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),ge.waitFor(l)}sn(e){let t=1;return hE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Vf(d,m)).filter((d,m,v)=>!m||0!==Vf(d,v[m-1]));const i=[];i.push(e);for(const d of r){const m=Vf(d,e),v=Vf(d,t);if(0===m)i[0]=e.ke();else if(m>0&&v<0)i.push(d),i.push(d.ke());else if(v>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,""],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,""]));return l}}function OR(n){return wi(n,"collectionParents")}function Ev(n){return wi(n,"indexEntries")}function dE(n){return wi(n,"indexConfiguration")}function hE(n){return wi(n,"indexState")}const MR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class eo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new eo(e,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.Wt({range:d},(A,O,F)=>(m++,F.delete()));l.push(v.next(()=>{Ot(1===m)}));const w=[];for(const A of t.mutations){const O=gR(e,A.key.path,t.batchId);l.push(i.delete(O)),w.push(A.key)}return ge.waitFor(l).next(()=>w)}function fE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}eo.DEFAULT_COLLECTION_PERCENTILE=10,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eo.DEFAULT=new eo(41943040,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eo.DISABLED=new eo(-1,0,0);class RS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Ot(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new RS(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $d(e).Wt({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=_m(e),d=$d(e);return d.add({}).next(m=>{Ot("number"==typeof m);const v=new IS(m,t,r,i),w=function(F,U,K){const le=K.baseMutations.map(Xe=>vv(F.Jt,Xe)),Ne=K.mutations.map(Xe=>vv(F.Jt,Xe));return{userId:U,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:le,mutations:Ne}}(this.M,this.userId,v),A=[];let O=new jn((F,U)=>Jt(F.canonicalString(),U.canonicalString()));for(const F of i){const U=gR(this.userId,F.key.path,m);O=O.add(F.key.path.popLast()),A.push(d.put(w)),A.push(l.put(U,YL))}return O.forEach(F=>{A.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[m]=v.keys()}),ge.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return $d(e).get(t).next(r=>r?(Ot(r.userId===this.userId),gm(this.M,r)):null)}ln(e,t){return this.hn[t]?ge.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return $d(e).Wt({index:"userMutationsIndex",range:i},(d,m,v)=>{m.userId===this.userId&&(Ot(m.batchId>=r),l=gm(this.M,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $d(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $d(e).qt("userMutationsIndex",t).next(r=>r.map(i=>gm(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=oE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return _m(e).Wt({range:i},(d,m,v)=>{const[w,A,O]=d,F=Ka(A);if(w===this.userId&&t.path.isEqual(F))return $d(e).get(O).next(U=>{if(!U)throw ot();Ot(U.userId===this.userId),l.push(gm(this.M,U))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Jt);const i=[];return t.forEach(l=>{const d=oE(this.userId,l.path),m=IDBKeyRange.lowerBound(d),v=_m(e).Wt({range:m},(w,A,O)=>{const[F,U,K]=w,le=Ka(U);F===this.userId&&l.path.isEqual(le)?r=r.add(K):O.done()});i.push(v)}),ge.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=oE(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new jn(Jt);return _m(e).Wt({range:d},(v,w,A)=>{const[O,F,U]=v,K=Ka(F);O===this.userId&&r.isPrefixOf(K)?K.length===i&&(m=m.add(U)):A.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],i=[];return t.forEach(l=>{i.push($d(e).get(l).next(d=>{if(null===d)throw ot();Ot(d.userId===this.userId),r.push(gm(this.M,d))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return xR(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return _m(e).Wt({range:r},(l,d,m)=>{if(l[0]===this.userId){const v=Ka(l[1]);i.push(v)}else m.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,t){return RR(e,this.userId,t)}_n(e){return kR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RR(n,e,t){const r=oE(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return _m(n).Wt({range:l,jt:!0},(m,v,w)=>{const[A,O,F]=m;A===e&&O===i&&(d=!0),w.done()}).next(()=>d)}function $d(n){return wi(n,"mutations")}function _m(n){return wi(n,"documentMutations")}function kR(n){return wi(n,"mutationQueues")}class Uf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Uf(0)}static gn(){return new Uf(-1)}}class T2{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Uf(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>It.fromTimestamp(new Or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ym(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return ym(e).Wt((d,m)=>{const v=Dv(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>ge.waitFor(l)).next(()=>i)}forEachTarget(e,t){return ym(e).Wt((r,i)=>{const l=Dv(i);t(l)})}yn(e){return PR(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}pn(e,t){return PR(e).put("targetGlobalKey",t)}In(e,t){return ym(e).put(CR(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Of(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return ym(e).Wt({range:i,index:"queryTargetsIndex"},(d,m,v)=>{const w=Dv(m);lv(t,w.target)&&(l=w,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Wd(e);return t.forEach(d=>{const m=Di(d.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),ge.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wd(e);return ge.forEach(t,l=>{const d=Di(l.path);return ge.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Wd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wd(e);let l=bn();return i.Wt({range:r,jt:!0},(d,m,v)=>{const w=Ka(d[1]),A=new $e(w);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=Di(t.path),i=IDBKeyRange.bound([r],[dx(r)],!1,!0);let l=0;return Wd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,m],v,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return ym(e).get(t).next(r=>r?Dv(r):null)}}function ym(n){return wi(n,"targets")}function PR(n){return wi(n,"targetGlobal")}function Wd(n){return wi(n,"targetDocuments")}function Bf(n){return kS.apply(this,arguments)}function kS(){return kS=(0,ue.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==yR)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),kS.apply(this,arguments)}function FR([n,e],[t,r]){const i=Jt(n,t);return 0===i?Jt(e,r):i}class I2{constructor(e){this.En=e,this.buffer=new jn(FR),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();FR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S2{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ue.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){kf(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Bf(i)}yield t.vn(e)}))}}class A2{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(Vo.A);const r=new I2(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(MR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MR):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,l,d,m,v,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,d=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(w=Date.now(),lS()<=qa.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${O} documents in `+(w-v)+`ms\nTotal Duration: ${w-A}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:O})))}}class N2{constructor(e,t){this.db=e,this.garbageCollector=new A2(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return pE(e,r)}removeReference(e,t,r){return pE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return pE(e,t)}Mn(e,t){return function(r,i){let l=!1;return kR(r).zt(d=>RR(r,d,i).next(m=>(m&&(l=!0),ge.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.kn(e,(d,m)=>{if(m<=t){const v=this.Mn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,It.min()),Wd(e).delete([0,Di(d.path)])))});i.push(v)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return pE(e,t)}kn(e,t){const r=Wd(e);let i,l=Vo.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:w})=>{0===d?(l!==Vo.A&&t(new $e(Ka(i)),l),l=w,i=v):l=Vo.A}).next(()=>{l!==Vo.A&&t(new $e(Ka(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pE(n,e){return Wd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Di(e.path),sequenceNumber:r}));var r}class LR{constructor(){this.changes=new Gd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class O2{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gf(e).put(r)}removeEntry(e,t,r){return Gf(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],lE(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Gn.newInvalidDocument(t);return Gf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cv(t))},(i,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Gn.newInvalidDocument(t)};return Gf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cv(t))},(i,l)=>{r={document:this.Fn(t,l),size:fE(l)}}).next(()=>r)}getEntries(e,t){let r=la();return this.Bn(e,t,(i,l)=>{const d=this.Fn(i,l);r=r.insert(i,d)}).next(()=>r)}Ln(e,t){let r=la(),i=new Mr($e.comparator);return this.Bn(e,t,(l,d)=>{const m=this.Fn(l,d);r=r.insert(l,m),i=i.insert(l,fE(d))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return ge.resolve();let i=new jn(BR);t.forEach(v=>i=i.add(v));const l=IDBKeyRange.bound(Cv(i.first()),Cv(i.last())),d=i.getIterator();let m=d.getNext();return Gf(e).Wt({index:"documentKeyIndex",range:l},(v,w,A)=>{const O=$e.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;m&&BR(m,O)<0;)r(m,null),m=d.getNext();m&&m.isEqual(O)&&(r(m,w),m=d.hasNext()?d.getNext():null),m?A.Ut(Cv(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),lE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gf(e).qt(IDBKeyRange.bound(i,l,!0)).next(d=>{let m=la();for(const v of d){const w=this.Fn($e.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(w.key,w)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=la();const d=UR(t,r),m=UR(t,hc.max());return Gf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,w,A)=>{const O=this.Fn($e.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(O.key,O),l.size===i&&A.done()}).next(()=>l)}newChangeBuffer(e){return new M2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return VR(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}On(e,t){return VR(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function m2(n,e){let t;if(e.document)t=aR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),i=Lf(e.noDocument.readTime);t=Gn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=$e.fromSegments(e.unknownDocument.path),i=Lf(e.unknownDocument.version);t=Gn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Or(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Gn.newInvalidDocument(e)}}class M2 extends LR{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Gd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((l,d)=>Jt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const v=ER(this.qn.M,d);i=i.add(l.path.popLast()),r+=fE(v)-m.size,t.push(this.qn.addEntry(e,l,v))}else if(r-=m.size,this.trackRemovals){const v=ER(this.qn.M,d.convertToNoDocument(It.min()));t.push(this.qn.addEntry(e,l,v))}}),i.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function VR(n){return wi(n,"remoteDocumentGlobal")}function Gf(n){return wi(n,"remoteDocumentsV14")}function Cv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UR(n,e){const t=e.documentKey.path.toArray();return[n,lE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function BR(n,e){const t=n.path.length-e.path.length;return 0!==t?t:$e.comparator(n,e)}class x2{constructor(e){this.M=e}kt(e,t,r,i){const l=new aE("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pR,{unique:!0}),m.createObjectStore("documentMutations"),GR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),GR(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").qt().next(w=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pR,{unique:!0});const A=v.store("mutations"),O=w.map(F=>A.put(F));return ge.waitFor(O)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Kn(l))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&i>=7&&(d=d.next(()=>this.jn(l))),r<8&&i>=8&&(d=d.next(()=>this.Wn(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.zn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:u2});v.createIndex("collectionPathOverlayIndex",c2,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",d2,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:JL});v.createIndex("documentKeyIndex",QL),v.createIndex("collectionGroupIndex",XL)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:s2}).createIndex("sequenceNumberIndex",o2,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:a2}).createIndex("documentKeyIndex",l2,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=fE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ge.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>ge.forEach(m,v=>{Ot(v.userId===l.userId);const w=gm(this.M,v);return xR(e,l.userId,w).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((d,m)=>{const v=new ln(d),w=[0,Di(v)];l.push(t.get(w).next(A=>A?ge.resolve():t.put({targetId:0,path:Di(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:r2});const r=t.store("collectionParents"),i=new xS,l=d=>{if(i.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:Di(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const v=new ln(d);return l(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,v],w)=>{const A=Ka(m);return l(A.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Dv(i),d=CR(this.M,l);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,d)=>{const m=t.store("remoteDocumentsV14"),v=(w=d,w.document?new $e(ln.fromString(w.document.name).popFirst(5)):w.noDocument?$e.fromSegments(w.noDocument.path):w.unknownDocument?$e.fromSegments(w.unknownDocument.path):ot()).path.toArray();var w;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(A))}).next(()=>ge.waitFor(i))}}function GR(n){n.createObjectStore("targetDocuments",{keyPath:t2}).createIndex("documentTargetsIndex",n2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",e2,{unique:!0}),n.createObjectStore("targetGlobal")}const PS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FS{constructor(e,t,r,i,l,d,m,v,w,A,O=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=d,this.document=m,this.Yn=w,this.Xn=A,this.Zn=O,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!FS.vt())throw new Ae(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new N2(this,i),this.cs=t+"main",this.M=new wR(v),this.hs=new Ya(this.cs,this.Zn,new x2(this.M)),this.ls=new T2(this.referenceDelegate,this.M),this.fs=new O2(this.M),this.ds=new _2,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===A&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(he.FAILED_PRECONDITION,PS);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Vo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ue.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ue.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ue.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(kf(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Tv(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Ps(e){return gE(e).delete(this.clientId)}Vs(){var e=this;return(0,ue.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wi(r,"clientMetadata");return i.qt().next(l=>{const d=e.Ss(l,18e5),m=l.filter(v=>-1===d.indexOf(v));return ge.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ge.resolve(!0):Tv(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(he.FAILED_PRECONDITION,PS);return!1}}return!(!this.networkEnabled||!this.inForeground)||gE(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ue.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new DR(t,Vo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>gE(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return RS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new C2(e)}getDocumentOverlayCache(e){return MS.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?f2:13===d?_R:12===d?h2:11===d?mR:void ot();var d;let m;return this.hs.runTransaction(e,i,l,v=>(m=new DR(v,this.ts?this.ts.next():Vo.A),"readwrite-primary"===t?this.Ts(m).next(w=>!!w||this.Es(m)).next(w=>{if(!w)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(he.FAILED_PRECONDITION,yR);return r(m)}).next(w=>this.Rs(m).next(()=>w)):this.Fs(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Fs(e){return Tv(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(he.FAILED_PRECONDITION,PS)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tv(e).put("owner",t)}static vt(){return Ya.vt()}As(e){const t=Tv(e);return t.get("owner").next(r=>this.bs(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tv(n){return wi(n,"owner")}function gE(n){return wi(n,"clientMetadata")}function LS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class R2{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):mS(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new $e(t)).next(r=>{let i=DS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let l=DS();return this.indexManager.getCollectionParents(e,i).next(d=>ge.forEach(d,m=>{const v=(w=t,A=m.child(i),new fc(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,A;return this.Ws(e,v,r).next(w=>{w.forEach((A,O)=>{l=l.insert(A,O)})})}).next(()=>l))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const m of d.mutations){const v=m.key;let w=i.get(v);null==w&&(w=Gn.newInvalidDocument(v),i=i.insert(v,w)),vS(m,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(v))}}).next(()=>(i.forEach((l,d)=>{yS(t,d)||(i=i.remove(l))}),i))}}class VS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=bn(),i=bn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new VS(e,t.fromCache,r,i)}}class jR{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.Zs(e,t):this.Xs.qs(e,i).next(l=>{const d=this.ti(t,l);return(Qw(t)||Xw(t))&&this.ei(t.limitType,d,i,r)?this.Zs(e,t):(lS()<=qa.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_S(t)),this.Xs.Ks(e,t,Tx(r,-1)).next(m=>(d.forEach(v=>{m=m.insert(v.key,v)}),m)))});var l}ti(e,t){let r=new jn(kx(e));return t.forEach((i,l)=>{yS(e,l)&&(r=r.add(l))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Zs(e,t){return lS()<=qa.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",_S(t)),this.Xs.Ks(e,t,hc.min())}}class k2{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Mr(Jt),this.ii=new Gd(l=>Of(l),lv),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new R2(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function HR(n,e,t,r){return new k2(n,e,t,r)}function $R(n,e){return US.apply(this,arguments)}function US(){return US=(0,ue.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(l=>(i=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let v=bn();for(const w of i){d.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}for(const w of l){m.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}return t.ai.qs(r,v).next(w=>({ci:w,removedBatchIds:d,addedBatchIds:m}))})})}),US.apply(this,arguments)}function P2(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,v,w){const A=v.batch,O=A.keys();let F=ge.resolve();return O.forEach(U=>{F=F.next(()=>w.getEntry(m,U)).next(K=>{const le=v.docVersions.get(U);Ot(null!==le),K.version.compareTo(le)<0&&(A.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),w.addEntry(K)))})}),F.next(()=>d.$s.removeMutationBatch(m,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function WR(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function F2(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const m=[];e.targetChanges.forEach((w,A)=>{const O=i.get(A);if(!O)return;m.push(t.ls.removeMatchingKeys(l,w.removedDocuments,A).next(()=>t.ls.addMatchingKeys(l,w.addedDocuments,A)));let F=O.withSequenceNumber(l.currentSequenceNumber);var U,K,le;e.targetMismatches.has(A)?F=F.withResumeToken(ri.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,r)),i=i.insert(A,F),K=F,le=w,(0===(U=O).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,F))});let v=la();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),m.push(zR(l,d,e.documentUpdates).next(w=>{v=w})),!r.isEqual(It.min())){const w=t.ls.getLastRemoteSnapshotVersion(l).next(A=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(w)}return ge.waitFor(m).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,v)).next(()=>v)}).then(l=>(t.si=i,l))}function zR(n,e,t){let r=bn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=la();return t.forEach((d,m)=>{const v=i.get(d);m.isNoDocument()&&m.version.isEqual(It.min())?(e.removeEntry(d,m.readTime),l=l.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(d,m)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)}),l})}function L2(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function vm(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(l=>l?(i=l,ge.resolve(i)):t.ls.allocateTargetId(r).next(d=>(i=new jd(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function bm(n,e,t){return BS.apply(this,arguments)}function BS(){return BS=(0,ue.Z)(function*(n,e,t){const r=qe(n),i=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!kf(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),BS.apply(this,arguments)}function mE(n,e,t){const r=qe(n);let i=It.min(),l=bn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,w){const A=qe(m),O=A.ii.get(w);return void 0!==O?ge.resolve(A.si.get(O)):A.ls.getTargetData(v,w)}(r,d,aa(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,m.targetId).next(v=>{l=v})}).next(()=>r.ni.Ks(d,e,t?i:It.min(),t?l:bn())).next(m=>(KR(r,Rx(e),m),{documents:m,hi:l})))}function qR(n,e){const t=qe(n),r=qe(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function ZR(n,e){const t=qe(n),r=t.ri.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,Tx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(KR(t,e,i),i))}function KR(n,e,t){let r=It.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function GS(){return GS=(0,ue.Z)(function*(n,e,t,r){const i=qe(n);let l=bn(),d=la();for(const w of t){const A=e.li(w.metadata.name);w.document&&(l=l.add(A));const O=e.fi(w);O.setReadTime(e.di(w.metadata.readTime)),d=d.insert(A,O)}const m=i.oi.newChangeBuffer({trackRemovals:!0}),v=yield vm(i,(w=r,aa(lm(ln.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>zR(w,m,d).next(A=>(m.apply(w),A)).next(A=>i.ls.removeMatchingKeysForTargetId(w,v.targetId).next(()=>i.ls.addMatchingKeys(w,l,v.targetId)).next(()=>i.ai.Gs(w,A)).next(()=>A)))}),GS.apply(this,arguments)}function U2(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,ue.Z)(function*(n,e,t=bn()){const r=yield vm(n,aa(NS(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=bi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.ds.saveNamedQuery(l,e);const m=r.withResumeToken(ri.EMPTY_BYTE_STRING,d);return i.si=i.si.insert(m.targetId,m),i.ls.updateTargetData(l,m).next(()=>i.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.ls.addMatchingKeys(l,t,r.targetId)).next(()=>i.ds.saveNamedQuery(l,e))})}),jS.apply(this,arguments)}class B2{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ge.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:bi(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:NS(r.bundledQuery),readTime:bi(r.readTime)}),ge.resolve();var r}}class G2{constructor(){this.overlays=new Mr($e.comparator),this.mi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=fv(),l=t.length+1,d=new $e(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&v.largestBatchId>r&&i.set(v.getKey(),v)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Mr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let A=l.get(w.largestBatchId);null===A&&(A=fv(),l=l.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const m=fv(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,A)=>m.set(w,A)),!(m.size()>=i)););return ge.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new AS(t,r));let l=this.mi.get(t);void 0===l&&(l=bn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class HS{constructor(){this.gi=new jn(Ei.yi),this.pi=new jn(Ei.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ei(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ei(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new $e(new ln([])),r=new Ei(t,e),i=new Ei(t,e+1),l=[];return this.pi.forEachInRange([r,i],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new $e(new ln([])),r=new Ei(t,e),i=new Ei(t,e+1);let l=bn();return this.pi.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ei(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ei{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return $e.comparator(e.key,t.key)||Jt(e.Vi,t.Vi)}static Ii(e,t){return Jt(e.Vi,t.Vi)||$e.comparator(e.key,t.key)}}class j2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new jn(Ei.yi)}checkEmpty(e){return ge.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const l=this.vi;this.vi++;const d=new IS(l,t,r,i);this.$s.push(d);for(const m of i)this.Si=this.Si.add(new Ei(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,t){return ge.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),l=i<0?0:i;return ge.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ge.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ei(t,0),i=new Ei(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,i],d=>{const m=this.Di(d.Vi);l.push(m)}),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Jt);return t.forEach(i=>{const l=new Ei(i,0),d=new Ei(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],m=>{r=r.add(m.Vi)})}),ge.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;$e.isDocumentKey(l)||(l=l.child(""));const d=new Ei(new $e(l),0);let m=new jn(Jt);return this.Si.forEachWhile(v=>{const w=v.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(m=m.add(v.Vi)),!0)},d),ge.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ot(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ge.forEach(t.mutations,i=>{const l=new Ei(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ei(t,0),i=this.Si.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class H2{constructor(e){this.ki=e,this.docs=new Mr($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let r=la();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Gn.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,t,r){let i=la();const l=new $e(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||dL(cL(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ot()}Mi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $2(this)}getSize(e){return ge.resolve(this.size)}}class $2 extends LR{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class W2{constructor(e){this.persistence=e,this.Oi=new Gd(t=>Of(t),lv),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Fi=0,this.$i=new HS,this.targetCount=0,this.Bi=Uf.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ge.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Uf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.In(t),ge.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),ge.waitFor(l).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),ge.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.$i.containsKey(t))}}class z2{constructor(e,t){this.Li={},this.overlays={},this.ts=new Vo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new W2(this),this.indexManager=new E2,this.fs=new H2(r=>this.referenceDelegate.Ui(r)),this.M=new wR(t),this.ds=new B2(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new j2(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new q2(this.ts.next());return this.referenceDelegate.qi(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ki(e,t){return ge.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class q2 extends vR{constructor(e){super(),this.currentSequenceNumber=e}}class $S{constructor(e){this.persistence=e,this.Qi=new HS,this.ji=null}static Wi(e){return new $S(e)}get zi(){if(this.ji)return this.ji;throw ot()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.zi,r=>{const i=$e.fromPath(r);return this.Hi(e,i).next(l=>{l||t.removeEntry(i,It.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ge.or([()=>ge.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function YR(n,e){return`firestore_clients_${n}_${e}`}function JR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function WS(n,e){return`firestore_targets_${n}_${e}`}class _E{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Ae(i.error.code,i.error.message))),d?new _E(e,t,i.state,l):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ae(r.error.code,r.error.message))),l?new Iv(e,r.state,i):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=iE();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=gx(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new yE(e,l):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zS(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qS{constructor(){this.activeTargetIds=iE()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZS{constructor(e,t,r,i,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Mr(Jt),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=YR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new qS),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const l=e.getItem(YR(e.persistenceKey,i));if(l){const d=yE.Ji(i,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(WS(this.persistenceKey,e));if(r){const i=Iv.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(WS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ue.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let d=Vo.A;if(null!=l)try{const m=JSON.parse(l);Ot("number"==typeof m),d=m}catch(m){Gr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Vo.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new _E(this.currentUser,e,t,r),l=JR(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=JR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=WS(this.persistenceKey,e),l=new Iv(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return yE.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return _E.Ji(new Vi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Iv.Ji(i,t)}wr(e){return zS.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ue.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),d=[],m=[];return l.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=iE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class QR{constructor(){this.Fr=new qS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new qS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Z2{Br(e){}shutdown(){}}class XR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Y2{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class J2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const d=this.oo(e,t);Fe("RestConnection","Sending: ",d,r);const m={};return this.uo(m,i,l),this.ao(e,d,m,r).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw ev("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}co(e,t,r,i,l){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+tm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${K2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((l,d)=>{const m=new YF;m.listenOnce(qF.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case aS.NO_ERROR:const w=m.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),l(w);break;case aS.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),d(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case aS.HTTP_ERROR:const A=m.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const F=function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(K)>=0?K:he.UNKNOWN}(O.status);d(new Ae(F,O.message))}else d(new Ae(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WF(),d=zF(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new KF({})),this.uo(m.initMessageHeaders,t,r),(0,zt.uI)()||(0,zt.b$)()||(0,zt.d)()||(0,zt.w1)()||(0,zt.Mn)()||(0,zt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Fe("Connection","Creating WebChannel: "+v,m);const w=l.createWebChannel(v,m);let A=!1,O=!1;const F=new Y2({jr:K=>{O?Fe("Connection","Not sending because WebChannel is closed:",K):(A||(Fe("Connection","Opening WebChannel transport."),w.open(),A=!0),Fe("Connection","WebChannel sending:",K),w.send(K))},Wr:()=>w.close()}),U=(K,le,Ne)=>{K.listen(le,Xe=>{try{Ne(Xe)}catch(ke){setTimeout(()=>{throw ke},0)}})};return U(w,zw.EventType.OPEN,()=>{O||Fe("Connection","WebChannel transport opened.")}),U(w,zw.EventType.CLOSE,()=>{O||(O=!0,Fe("Connection","WebChannel transport closed"),F.eo())}),U(w,zw.EventType.ERROR,K=>{O||(O=!0,ev("Connection","WebChannel transport errored:",K),F.eo(new Ae(he.UNAVAILABLE,"The operation could not be completed")))}),U(w,zw.EventType.MESSAGE,K=>{var le;if(!O){const Ne=K.data[0];Ot(!!Ne);const Xe=Ne,ke=Xe.error||(null===(le=Xe[0])||void 0===le?void 0:le.error);if(ke){Fe("Connection","WebChannel received error:",ke);const yt=ke.status;let je=function(Qe){const qt=Hr[Qe];if(void 0!==qt)return Kx(qt)}(yt),Je=ke.message;void 0===je&&(je=he.INTERNAL,Je="Unknown error status: "+yt+" with message "+ke.message),O=!0,F.eo(new Ae(je,Je)),w.close()}else Fe("Connection","WebChannel received:",Ne),F.no(Ne)}}),U(d,ZF.STAT_EVENT,K=>{K.stat===ox.PROXY?Fe("Connection","Detected buffering proxy"):K.stat===ox.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function ek(){return"undefined"!=typeof window?window:null}function vE(){return"undefined"!=typeof document?document:null}function Sv(n){return new VL(n,!0)}class KS{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class tk{constructor(e,t,r,i,l,d,m,v){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new KS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ue.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ue.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ue.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ae(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ue.Z)(function*(){e.state=0,e.start()}))}qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q2 extends tk{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function GL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ot(),i=e.targetChange.targetIds||[],l=function(v,w){return v.N?(Ot(void 0===w||"string"==typeof w),ri.fromBase64String(w||"")):(Ot(void 0===w||w instanceof Uint8Array),ri.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const w=void 0===v.code?he.UNKNOWN:Kx(v.code);return new Ae(w,v.message||"")}(d);t=new Qx(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=su(n,r.document.name),l=bi(r.document.updateTime),d=new ts({mapValue:{fields:r.document.fields}}),m=Gn.newFoundDocument(i,l,d);t=new sE(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=su(n,r.document),l=r.readTime?bi(r.readTime):It.min(),d=Gn.newNoDocument(i,l);t=new sE([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=su(n,r.document);t=new sE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,l=new NL(r.count||0);t=new Jx(r.targetId,l)}}var v;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return It.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?bi(l.readTime):It.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=yv(this.M),t.addTarget=function(i,l){let d;const m=l.target;return d=Yw(m)?{documents:lR(i,m)}:{query:uR(i,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=nR(i,l.resumeToken):l.snapshotVersion.compareTo(It.min())>0&&(d.readTime=mv(i,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function HL(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=yv(this.M),t.removeTarget=e,this.Oo(t)}}class X2 extends tk{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function jL(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,i){let l=bi(r.updateTime?r.updateTime:i);return l.isEqual(It.min())&&(l=bi(i)),new IL(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.Jo(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=yv(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vv(this.M,r))};this.Oo(t)}}class eV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(he.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(he.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class tV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Gr(t),this.su=!1):Fe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class nV{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,ue.Z)(function*(){var v;zd(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ue.Z)(function*(w){const A=qe(w);A.lu.add(4),yield Dm(A),A._u.set("Unknown"),A.lu.delete(4),yield Av(A)}),function(w){return v.apply(this,arguments)})(d))}))}),this._u=new tV(r,i)}}function Av(n){return YS.apply(this,arguments)}function YS(){return YS=(0,ue.Z)(function*(n){if(zd(n))for(const e of n.fu)yield e(!0)}),YS.apply(this,arguments)}function Dm(n){return JS.apply(this,arguments)}function JS(){return JS=(0,ue.Z)(function*(n){for(const e of n.fu)yield e(!1)}),JS.apply(this,arguments)}function bE(n,e){const t=qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),eA(t)?XS(t):Em(t).Co()&&QS(t,e))}function Nv(n,e){const t=qe(n),r=Em(t);t.hu.delete(e),r.Co()&&nk(t,e),0===t.hu.size&&(r.Co()?r.ko():zd(t)&&t._u.set("Unknown"))}function QS(n,e){n.wu.Z(e.targetId),Em(n).Qo(e)}function nk(n,e){n.wu.Z(e),Em(n).jo(e)}function XS(n){n.wu=new PL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Em(n).start(),n._u.iu()}function eA(n){return zd(n)&&!Em(n).Do()&&n.hu.size>0}function zd(n){return 0===qe(n).lu.size}function rk(n){n.wu=void 0}function rV(n){return tA.apply(this,arguments)}function tA(){return tA=(0,ue.Z)(function*(n){n.hu.forEach((e,t)=>{QS(n,e)})}),tA.apply(this,arguments)}function iV(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ue.Z)(function*(n,e){rk(n),eA(n)?(n._u.uu(e),XS(n)):n._u.set("Unknown")}),nA.apply(this,arguments)}function sV(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,ue.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Qx&&2===e.state&&e.cause)try{yield(r=(0,ue.Z)(function*(i,l){const d=l.cause;for(const m of l.targetIds)i.hu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.hu.delete(m),i.wu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield DE(n,r)}else if(e instanceof sE?n.wu.ut(e):e instanceof Jx?n.wu._t(e):n.wu.ht(e),!t.isEqual(It.min()))try{const r=yield WR(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.wu.yt(l);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=i.hu.get(v);w&&i.hu.set(v,w.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const v=i.hu.get(m);if(!v)return;i.hu.set(m,v.withResumeToken(ri.EMPTY_BYTE_STRING,v.snapshotVersion)),nk(i,m);const w=new jd(v.target,m,1,v.sequenceNumber);QS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield DE(n,r)}var r}),rA.apply(this,arguments)}function DE(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,ue.Z)(function*(n,e,t){if(!kf(e))throw e;n.lu.add(1),yield Dm(n),n._u.set("Offline"),t||(t=()=>WR(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Av(n)}))}),iA.apply(this,arguments)}function ik(n,e){return e().catch(t=>DE(n,t,e))}function wm(n){return sA.apply(this,arguments)}function sA(){return sA=(0,ue.Z)(function*(n){const e=qe(n),t=qd(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;oV(e);)try{const i=yield L2(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,aV(e,i)}catch(i){yield DE(e,i)}sk(e)&&ok(e)}),sA.apply(this,arguments)}function oV(n){return zd(n)&&n.cu.length<10}function aV(n,e){n.cu.push(e);const t=qd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function sk(n){return zd(n)&&!qd(n).Do()&&n.cu.length>0}function ok(n){qd(n).start()}function lV(n){return oA.apply(this,arguments)}function oA(){return oA=(0,ue.Z)(function*(n){qd(n).Xo()}),oA.apply(this,arguments)}function uV(n){return aA.apply(this,arguments)}function aA(){return aA=(0,ue.Z)(function*(n){const e=qd(n);for(const t of n.cu)e.Ho(t.mutations)}),aA.apply(this,arguments)}function cV(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,ue.Z)(function*(n,e,t){const r=n.cu.shift(),i=SS.from(r,e,t);yield ik(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield wm(n)}),lA.apply(this,arguments)}function dV(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ue.Z)(function*(n,e){var t;e&&qd(n).zo&&(yield(t=(0,ue.Z)(function*(r,i){if(Zx(l=i.code)&&l!==he.ABORTED){const d=r.cu.shift();qd(r).No(),yield ik(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield wm(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),sk(n)&&ok(n)}),uA.apply(this,arguments)}function ak(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,ue.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=zd(t);t.lu.add(3),yield Dm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Av(t)}),cA.apply(this,arguments)}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,ue.Z)(function*(n,e){const t=qe(n);e?(t.lu.delete(2),yield Av(t)):e||(t.lu.add(2),yield Dm(t),t._u.set("Unknown"))}),hA.apply(this,arguments)}function Em(n){return n.mu||(n.mu=function(e,t,r){const i=qe(e);return i.tu(),new Q2(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:rV.bind(null,n),Jr:iV.bind(null,n),Ko:sV.bind(null,n)}),n.fu.push(function(){var e=(0,ue.Z)(function*(t){t?(n.mu.No(),eA(n)?XS(n):n._u.set("Unknown")):(yield n.mu.stop(),rk(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function qd(n){return n.gu||(n.gu=function(e,t,r){const i=qe(e);return i.tu(),new X2(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:lV.bind(null,n),Jr:dV.bind(null,n),Yo:uV.bind(null,n),Jo:cV.bind(null,n)}),n.fu.push(function(){var e=(0,ue.Z)(function*(t){t?(n.gu.No(),yield wm(n)):(yield n.gu.stop(),n.cu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class fA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,m=new fA(e,t,d,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),kf(n))return new Ae(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Tm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=DS(),this.sortedSet=new Mr(this.comparator)}static emptySet(e){return new Tm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Tm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class lk{constructor(){this.yu=new Mr($e.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ot():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Im{constructor(e,t,r,i,l,d,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Im(e,t,Tm.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class hV{constructor(){this.Iu=void 0,this.listeners=[]}}class fV{constructor(){this.queries=new Gd(e=>xx(e),uv),this.onlineState="Unknown",this.Tu=new Set}}function pA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,ue.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new hV),i)try{l.Iu=yield t.onListen(r)}catch(d){const m=Cm(d,`Initialization of query '${_S(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&yA(t)}),gA.apply(this,arguments)}function mA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ue.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),_A.apply(this,arguments)}function pV(n,e){const t=qe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Au(i)&&(r=!0);d.Iu=i}}r&&yA(t)}function gV(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function yA(n){n.Tu.forEach(e=>{e.next()})}class vA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Im(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Im.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class mV{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class uk{constructor(e){this.M=e}li(e){return su(this.M,e)}fi(e){return e.metadata.exists?aR(this.M,e.document,!1):Gn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return bi(e)}}class _V{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ck(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ln.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new uk(this.M);for(const i of e)if(i.metadata.queries){const l=r.li(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||bn()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,ue.Z)(function*(){const t=yield function V2(n,e,t,r){return GS.apply(this,arguments)}(e.localStore,new uk(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield U2(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function ck(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dk{constructor(e){this.key=e}}class hk{constructor(e){this.key=e}}class fk{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=bn(),this.mutatedKeys=bn(),this.Lu=kx(e),this.Uu=new Tm(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new lk,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const v=Qw(this.query)&&i.size===this.query.limit?i.last():null,w=Xw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,O)=>{const F=i.get(A),U=yS(this.query,O)?O:null,K=!!F&&this.mutatedKeys.has(F.key),le=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Ne=!1;F&&U?F.data.isEqual(U.data)?K!==le&&(r.track({type:3,doc:U}),Ne=!0):this.Qu(F,U)||(r.track({type:2,doc:U}),Ne=!0,(v&&this.Lu(U,v)>0||w&&this.Lu(U,w)<0)&&(m=!0)):!F&&U?(r.track({type:0,doc:U}),Ne=!0):F&&!U&&(r.track({type:1,doc:F}),Ne=!0,(v||w)&&(m=!0)),Ne&&(U?(d=d.add(U),l=le?l.add(A):l.delete(A)):(d=d.delete(A),l=l.delete(A)))}),Qw(this.query)||Xw(this.query))for(;d.size>this.query.limit;){const A=Qw(this.query)?d.last():d.first();d=d.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Uu:d,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((w,A)=>function(O,F){const U=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return U(O)-U(F)}(w.type,A.type)||this.Lu(w.doc,A.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,v=m!==this.$u;return this.$u=m,0!==l.length||v?{snapshot:new Im(this.query,e.Uu,i,l,e.mutatedKeys,0===m,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new lk,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=bn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new hk(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new dk(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=bn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Im.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class yV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vV{constructor(e){this.key=e,this.Xu=!1}}class bV{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Gd(m=>xx(m),uv),this.ea=new Map,this.na=new Set,this.sa=new Mr($e.comparator),this.ia=new Map,this.ra=new HS,this.oa={},this.ua=new Map,this.aa=Uf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function DV(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ue.Z)(function*(n,e){const t=HA(n);let r,i;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const d=yield vm(t.localStore,aa(e));t.isPrimaryClient&&bE(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield DA(t,e,r,"current"===m)}return i}),bA.apply(this,arguments)}function DA(n,e,t,r){return wA.apply(this,arguments)}function wA(){return wA=(0,ue.Z)(function*(n,e,t,r){n.ha=(A,O,F)=>{return(U=(0,ue.Z)(function*(K,le,Ne,Xe){let ke=le.view.Gu(Ne);ke.ei&&(ke=yield mE(K.localStore,le.query,!1).then(({documents:Je})=>le.view.Gu(Je,ke)));const yt=Xe&&Xe.targetChanges.get(le.targetId),je=le.view.applyChanges(ke,K.isPrimaryClient,yt);return xA(K,le.targetId,je.zu),je.snapshot}),function(K,le,Ne,Xe){return U.apply(this,arguments)})(n,A,O,F);var U};const i=yield mE(n.localStore,e,!0),l=new fk(e,i.hi),d=l.Gu(i.documents),m=gv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,m);xA(n,t,v.zu);const w=new yV(e,t,l);return n.ta.set(e,w),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),v.snapshot}),wA.apply(this,arguments)}function wV(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,ue.Z)(function*(n,e){const t=qe(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(l=>!uv(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Nv(t.remoteStore,r.targetId),Sm(t,r.targetId)}).catch(Bf))):(Sm(t,r.targetId),yield bm(t.localStore,r.targetId,!0))}),EA.apply(this,arguments)}function CA(){return CA=(0,ue.Z)(function*(n,e,t){const r=$A(n);try{const i=yield function(l,d){const m=qe(l),v=Or.now(),w=d.reduce((O,F)=>O.add(F.key),bn());let A;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.ai.qs(O,w).next(F=>{A=F;const U=[];for(const K of d){const le=AL(K,A.get(K.key));null!=le&&U.push(new Rf(K.key,le,Cx(le.value.mapValue),jr.exists(!0)))}return m.$s.addMutationBatch(O,v,U,d)})).then(O=>(O.applyToLocalDocumentSet(A),{batchId:O.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,m){let v=l.oa[l.currentUser.toKey()];v||(v=new Mr(Jt)),v=v.insert(d,m),l.oa[l.currentUser.toKey()]=v}(r,i.batchId,t),yield pc(r,i.changes),yield wm(r.remoteStore)}catch(i){const l=Cm(i,"Failed to persist write");t.reject(l)}}),CA.apply(this,arguments)}function pk(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ue.Z)(function*(n,e){const t=qe(n);try{const r=yield F2(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.ia.get(l);d&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Xu=!0:i.modifiedDocuments.size>0?Ot(d.Xu):i.removedDocuments.size>0&&(Ot(d.Xu),d.Xu=!1))}),yield pc(t,r,e)}catch(r){yield Bf(r)}}),TA.apply(this,arguments)}function gk(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((l,d)=>{const m=d.view.Eu(e);m.snapshot&&i.push(m.snapshot)}),function(l,d){const m=qe(l);m.onlineState=d;let v=!1;m.queries.forEach((w,A)=>{for(const O of A.listeners)O.Eu(d)&&(v=!0)}),v&&yA(m)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function CV(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,ue.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),l=i&&i.key;if(l){let d=new Mr($e.comparator);d=d.insert(l,Gn.newNoDocument(l,It.min()));const m=bn().add(l),v=new pv(It.min(),new Map,new jn(Jt),d,m);yield pk(r,v),r.sa=r.sa.remove(l),r.ia.delete(e),RA(r)}else yield bm(r.localStore,e,!1).then(()=>Sm(r,e,t)).catch(Bf)}),IA.apply(this,arguments)}function TV(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,ue.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield P2(t.localStore,e);MA(t,r,null),OA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pc(t,i)}catch(i){yield Bf(i)}}),SA.apply(this,arguments)}function IV(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,ue.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(l,d){const m=qe(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return m.$s.lookupMutationBatch(v,d).next(A=>(Ot(null!==A),w=A.keys(),m.$s.removeMutationBatch(v,A))).next(()=>m.$s.performConsistencyCheck(v)).next(()=>m.ai.qs(v,w))})}(r.localStore,e);MA(r,e,t),OA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pc(r,i)}catch(i){yield Bf(i)}}),AA.apply(this,arguments)}function NA(){return NA=(0,ue.Z)(function*(n,e){const t=qe(n);zd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=qe(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Cm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),NA.apply(this,arguments)}function OA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function MA(n,e,t){const r=qe(n);let i=r.oa[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function Sm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||mk(n,r)})}function mk(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Nv(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),RA(n))}function xA(n,e,t){for(const r of t)r instanceof dk?(n.ra.addReference(r.key,e),AV(n,r)):r instanceof hk?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||mk(n,r.key)):ot()}function AV(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.na.add(r),RA(n))}function RA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new $e(ln.fromString(e)),r=n.aa.next();n.ia.set(r,new vV(t)),n.sa=n.sa.insert(t,r),bE(n.remoteStore,new jd(aa(lm(t.path)),r,2,Vo.A))}}function pc(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,ue.Z)(function*(n,e,t){const r=qe(n),i=[],l=[],d=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,v)=>{d.push(r.ha(v,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,w.fromCache?"not-current":"current"),i.push(w);const A=VS.Js(v.targetId,w);l.push(A)}}))}),yield Promise.all(d),r.Zu.Ko(i),yield(m=(0,ue.Z)(function*(v,w){const A=qe(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ge.forEach(w,F=>ge.forEach(F.zs,U=>A.persistence.referenceDelegate.addReference(O,F.targetId,U)).next(()=>ge.forEach(F.Hs,U=>A.persistence.referenceDelegate.removeReference(O,F.targetId,U)))))}catch(O){if(!kf(O))throw O;Fe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of w){const F=O.targetId;if(!O.fromCache){const U=A.si.get(F),le=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);A.si=A.si.insert(F,le)}}}),function(v,w){return m.apply(this,arguments)})(r.localStore,l))}),kA.apply(this,arguments)}function NV(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,ue.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield $R(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new Ae(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pc(t,r.ci)}var i}),PA.apply(this,arguments)}function OV(n,e){const t=qe(n),r=t.ia.get(e);if(r&&r.Xu)return bn().add(r.key);{let i=bn();const l=t.ea.get(e);if(!l)return i;for(const d of l){const m=t.ta.get(d);i=i.unionWith(m.view.qu)}return i}}function MV(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ue.Z)(function*(n,e){const t=qe(n),r=yield mE(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&xA(t,e.targetId,i.zu),i}),FA.apply(this,arguments)}function xV(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ue.Z)(function*(n,e){const t=qe(n);return ZR(t.localStore,e).then(r=>pc(t,r))}),LA.apply(this,arguments)}function RV(n,e,t,r){return VA.apply(this,arguments)}function VA(){return VA=(0,ue.Z)(function*(n,e,t,r){const i=qe(n),l=yield function(d,m){const v=qe(d),w=qe(v.$s);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>w.ln(A,m).next(O=>O?v.ai.qs(A,O):ge.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield wm(i.remoteStore):"acknowledged"===t||"rejected"===t?(MA(i,e,r||null),OA(i,e),m=e,qe(qe(i.localStore).$s).dn(m)):ot(),yield pc(i,l)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),VA.apply(this,arguments)}function UA(){return UA=(0,ue.Z)(function*(n,e){const t=qe(n);if(HA(t),$A(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield _k(t,r.toArray());t.ca=!0,yield dA(t.remoteStore,!0);for(const l of i)bE(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Sm(t,d),bm(t.localStore,d,!0))),Nv(t.remoteStore,d)}),yield i,yield _k(t,r),function(l){const d=qe(l);d.ia.forEach((m,v)=>{Nv(d.remoteStore,v)}),d.ra.bi(),d.ia=new Map,d.sa=new Mr($e.comparator)}(t),t.ca=!1,yield dA(t.remoteStore,!1)}}),UA.apply(this,arguments)}function _k(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,ue.Z)(function*(n,e,t){const r=qe(n),i=[],l=[];for(const d of e){let m;const v=r.ea.get(d);if(v&&0!==v.length){m=yield vm(r.localStore,aa(v[0]));for(const w of v){const A=r.ta.get(w),O=yield MV(r,A);O.snapshot&&l.push(O.snapshot)}}else{const w=yield qR(r.localStore,d);m=yield vm(r.localStore,w),yield DA(r,yk(w),d,!1)}i.push(m)}return r.Zu.Ko(l),i}),BA.apply(this,arguments)}function yk(n){return Ox(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function PV(n){const e=qe(n);return qe(qe(e.localStore).persistence).Os()}function FV(n,e,t,r){return GA.apply(this,arguments)}function GA(){return GA=(0,ue.Z)(function*(n,e,t,r){const i=qe(n);if(i.ca)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield ZR(i.localStore,Rx(l[0])),m=pv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield pc(i,d,m);break}case"rejected":yield bm(i.localStore,e,!0),Sm(i,e,r);break;default:ot()}}),GA.apply(this,arguments)}function LV(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,ue.Z)(function*(n,e,t){const r=HA(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const l=yield qR(r.localStore,i),d=yield vm(r.localStore,l);yield DA(r,yk(l),d.targetId,!1),bE(r.remoteStore,d)}for(const i of t)r.ea.has(i)&&(yield bm(r.localStore,i,!1).then(()=>{Nv(r.remoteStore,i),Sm(r,i)}).catch(Bf))}}),jA.apply(this,arguments)}function HA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CV.bind(null,e),e.Zu.Ko=pV.bind(null,e.eventManager),e.Zu.la=gV.bind(null,e.eventManager),e}function $A(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IV.bind(null,e),e}class vk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.M=Sv(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return HR(this.persistence,new jR,e.initialUser,this.M)}_a(e){return new z2($S.Wi,this.M)}da(e){return new QR}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bk extends vk{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ue.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield $A(r.ga.syncEngine),yield wm(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return HR(this.persistence,new jR,e.initialUser,this.M)}wa(e){return new S2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=LS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?eo.withCacheSize(this.cacheSizeBytes):eo.DEFAULT;return new FS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ek(),vE(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new QR}}class UV extends bk{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ue.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof ZS&&(r.sharedClientState.syncEngine={kr:RV.bind(null,i),Mr:FV.bind(null,i),Or:LV.bind(null,i),Os:PV.bind(null,i),Nr:xV.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ue.Z)(function*(d){yield function kV(n,e){return UA.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=ek();if(!ZS.vt(t))throw new Ae(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=LS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class WA{initialize(e,t){var r=this;return(0,ue.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>gk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=NV.bind(null,r.syncEngine),yield dA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fV}createDatastore(e){const t=Sv(e.databaseInfo.databaseId),r=new J2(e.databaseInfo);return new eV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>gk(this.syncEngine,m,0),d=XR.vt()?new XR:new Z2,new nV(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,m,v,w){const A=new bV(r,i,l,d,m,v);return w&&(A.ca=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const r=qe(t);Fe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Dm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Dk(n,e=10240){let t=0;return{read:()=>(0,ue.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BV{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new yi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ue.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ue.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new mV(JSON.parse(l),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ue.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ue.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class GV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ue.Z)(function*(l,d){const m=qe(l),v=yv(m.M)+"/documents",w={documents:d.map(U=>_v(m.M,U))},A=yield m.co("BatchGetDocuments",v,w),O=new Map;A.forEach(U=>{const K=function BL(n,e){return"found"in e?function(t,r){Ot(!!r.found);const i=su(t,r.found.name),l=bi(r.found.updateTime),d=new ts({mapValue:{fields:r.found.fields}});return Gn.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const i=su(t,r.missing),l=bi(r.readTime);return Gn.newNoDocument(i,l)}(n,e):ot()}(m.M,U);O.set(K.key.toString(),K)});const F=[];return d.forEach(U=>{const K=O.get(U.toString());Ot(!!K),F.push(K)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=$e.fromPath(i);e.mutations.push(new bS(l,e.precondition(l)))}),yield(r=(0,ue.Z)(function*(i,l){const d=qe(i),m=yv(d.M)+"/documents",v={writes:l.map(w=>vv(d.M,w))};yield d.ro("Commit",m,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jr.updateTime(t):jr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ae(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jr.updateTime(t)}return jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class jV{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new KS(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ue.Z)(function*(){const t=new GV(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ca(l)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Af(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Zx(t)}return!1}}class HV{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=cx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ue.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Cm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function wk(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ue.Z)(function*(l){r.isEqual(l)||(yield $R(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zA.apply(this,arguments)}function Ek(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ak(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>ak(e.remoteStore,l)),n.onlineComponents=e}),qA.apply(this,arguments)}function ZA(n){return KA.apply(this,arguments)}function KA(){return KA=(0,ue.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield wk(n,new vk)),n.offlineComponents}),KA.apply(this,arguments)}function EE(n){return YA.apply(this,arguments)}function YA(){return YA=(0,ue.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield Ek(n,new WA)),n.onlineComponents}),YA.apply(this,arguments)}function Ck(n){return ZA(n).then(e=>e.persistence)}function JA(n){return ZA(n).then(e=>e.localStore)}function Tk(n){return EE(n).then(e=>e.remoteStore)}function QA(n){return EE(n).then(e=>e.syncEngine)}function Am(n){return XA.apply(this,arguments)}function XA(){return XA=(0,ue.Z)(function*(n){const e=yield EE(n),t=e.eventManager;return t.onListen=DV.bind(null,e.syncEngine),t.onUnlisten=wV.bind(null,e.syncEngine),t}),XA.apply(this,arguments)}function Ik(n,e,t={}){const r=new yi;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(i,l,d,m,v){const w=new wE({next:O=>{l.enqueueAndForget(()=>mA(i,A));const F=O.docs.has(d);!F&&O.fromCache?v.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&m&&"server"===m.source?v.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),A=new vA(lm(d.path),w,{includeMetadataChanges:!0,Du:!0});return pA(i,A)}(yield Am(n),n.asyncQueue,e,t,r)})),r.promise}function Sk(n,e,t={}){const r=new yi;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(i,l,d,m,v){const w=new wE({next:O=>{l.enqueueAndForget(()=>mA(i,A)),O.fromCache&&"server"===m.source?v.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),A=new vA(d,w,{includeMetadataChanges:!0,Du:!0});return pA(i,A)}(yield Am(n),n.asyncQueue,e,t,r)})),r.promise}const Ak=new Map;function eN(n,e,t){if(!t)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nk(n,e,t,r){if(!0===e&&!0===r)throw new Ae(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ok(n){if(!$e.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mk(n){if($e.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CE(n);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xk(n,e){if(e<=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Rk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ov{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rk({}),this._settingsFrozen=!1,e instanceof dc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new XF;switch(t.type){case"gapi":const r=t.client;return Ot(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rL(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ak.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),Ak.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class ou extends ns{constructor(e,t,r){super(e,t,lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new $e(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function kk(n,e,...t){if(n=(0,zt.m9)(n),eN("collection","path",e),n instanceof Ov){const r=ln.fromString(e,...t);return Mk(r),new ou(n,null,r)}{if(!(n instanceof Hn||n instanceof ou))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return Mk(r),new ou(n.firestore,null,r)}}function TE(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=cx.R()),eN("doc","path",e),n instanceof Ov){const r=ln.fromString(e,...t);return Ok(r),new Hn(n,null,new $e(r))}{if(!(n instanceof Hn||n instanceof ou))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return Ok(r),new Hn(n.firestore,n instanceof ou?n.converter:null,new $e(r))}}function Pk(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),(n instanceof Hn||n instanceof ou)&&(e instanceof Hn||e instanceof ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Fk(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),n instanceof ns&&e instanceof ns&&n.firestore===e.firestore&&uv(n._query,e._query)&&n.converter===e.converter}class eU{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new KS(this,"async_queue_retry"),this.Ua=()=>{const t=vE();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=vE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=vE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new yi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ue.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!kf(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=fA.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(i),i}qa(){this.Fa&&ot()}verifyOperationInProgress(){}ja(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function tN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class tU{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends Ov{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new eU,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Lk(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||Lk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Lk(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uL(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new HV(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Vk(n,e,t){const r=new yi;return n.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield wk(n,t),yield Ek(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===he.FAILED_PRECONDITION||l.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function Uk(n){if(n._initialized||n._terminated)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(ri.fromBase64String(e))}catch(t){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new au(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jf{constructor(e){this._methodName=e}}class IE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const dU=/^__.*__$/;class hU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms):new dv(e,this.data,t,this.fieldTransforms)}}class Bk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class SE{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new SE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return OE(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Gk(this.Ya)&&dU.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class fU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Sv(e)}uc(e,t,r,i=!1){return new SE({Ya:e,methodName:t,oc:r,path:vi.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Hf(n){const e=n._freezeSettings(),t=Sv(n._databaseId);return new fU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AE(n,e,t,r,i,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,i);sN("Data must be an object, but it was:",d,r);const m=$k(r,d);let v,w;if(l.merge)v=new rm(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const A=[];for(const O of l.mergeFields){const F=oN(e,O,t);if(!d.contains(F))throw new Ae(he.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);zk(A,F)||A.push(F)}v=new rm(A),w=d.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,w=d.fieldTransforms;return new hU(new ts(m),v,w)}class Mv extends jf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mv}}function jk(n,e,t){return new SE({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class nN extends jf{_toFieldTransform(e){return new cv(e.path,new cm)}isEqual(e){return e instanceof nN}}class pU extends jf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=jk(this,e,!0),r=this.ac.map(l=>$f(l,t)),i=new Mf(r);return new cv(e.path,i)}isEqual(e){return this===e}}class gU extends jf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=jk(this,e,!0),r=this.ac.map(l=>$f(l,t)),i=new xf(r);return new cv(e.path,i)}isEqual(e){return this===e}}class mU extends jf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new dm(e.M,Lx(e.M,this.cc));return new cv(e.path,t)}isEqual(e){return this===e}}function rN(n,e,t,r){const i=n.uc(1,e,t);sN("Data must be an object, but it was:",i,r);const l=[],d=ts.empty();If(r,(v,w)=>{const A=NE(e,v,t);w=(0,zt.m9)(w);const O=i.nc(A);if(w instanceof Mv)l.push(A);else{const F=$f(w,O);null!=F&&(l.push(A),d.set(A,F))}});const m=new rm(l);return new Bk(d,m,i.fieldTransforms)}function iN(n,e,t,r,i,l){const d=n.uc(1,e,t),m=[oN(e,r,t)],v=[i];if(l.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)m.push(oN(e,l[F])),v.push(l[F+1]);const w=[],A=ts.empty();for(let F=m.length-1;F>=0;--F)if(!zk(w,m[F])){const U=m[F];let K=v[F];K=(0,zt.m9)(K);const le=d.nc(U);if(K instanceof Mv)w.push(U);else{const Ne=$f(K,le);null!=Ne&&(w.push(U),A.set(U,Ne))}}const O=new rm(w);return new Bk(A,O,d.fieldTransforms)}function Hk(n,e,t,r=!1){return $f(t,n.uc(r?4:3,e))}function $f(n,e){if(Wk(n=(0,zt.m9)(n)))return sN("Unsupported field value:",e,n),$k(n,e);if(n instanceof jf)return function(t,r){if(!Gk(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let m=$f(d,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lx(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Or.fromDate(t);return{timestampValue:mv(r.M,i)}}if(t instanceof Or){const i=new Or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mv(r.M,i)}}if(t instanceof IE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof au)return{bytesValue:nR(r.M,t._byteString)};if(t instanceof Hn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${CE(t)}`)}(n,e)}function $k(n,e){const t={};return fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):If(n,(r,i)=>{const l=$f(i,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Wk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Or||n instanceof IE||n instanceof au||n instanceof Hn||n instanceof jf)}function sN(n,e,t){if(!Wk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CE(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function oN(n,e,t){if((e=(0,zt.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return NE(n,e);throw OE("Field path arguments must be of type string or ",n,!1,void 0,t)}const _U=new RegExp("[~\\*/\\[\\]]");function NE(n,e,t){if(e.search(_U)>=0)throw OE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch(r){throw OE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function OE(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new Ae(he.INVALID_ARGUMENT,m+n+v)}function zk(n,e){return n.some(t=>t.isEqual(e))}class xv{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ME("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yU extends xv{data(){return super.data()}}function ME(n,e){return"string"==typeof e?NE(n,e):e instanceof gc?e._internalPath:e._delegate._internalPath}class Wf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mc extends xv{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ME("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Rv extends mc{data(e={}){return super.data(e)}}class Zd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Rv(this._firestore,this._userDataWriter,r.key,r,new Wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Rv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Wf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new Rv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Wf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,w=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:vU(d.type),doc:m,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function qk(n,e){return n instanceof mc&&e instanceof mc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zd&&e instanceof Zd&&n._firestore===e._firestore&&Fk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Zk(n){if(Xw(n)&&0===n.explicitOrderBy.length)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}function Kd(n,...e){for(const t of e)n=t._apply(n);return n}class bU extends kv{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Hf(e.firestore),r=function(i,l,d,m,v,w,A){let O;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){eP(A,w);const U=[];for(const K of A)U.push(Xk(m,i,K));O={arrayValue:{values:U}}}else O=Xk(m,i,A)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||eP(A,w),O=Hk(d,"where",A,"in"===w||"not-in"===w);const F=Ui.create(v,w,O);return function(U,K){if(K.S()){const Ne=gS(U);if(null!==Ne&&!Ne.isEqual(K.field))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${K.field.toString()}'`);const Xe=pS(U);null!==Xe&&tP(0,K.field,Xe)}const le=function(Ne,Xe){for(const ke of Ne.filters)if(Xe.indexOf(ke.op)>=0)return ke.op;return null}(U,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==le)throw new Ae(he.INVALID_ARGUMENT,le===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${le.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ns(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new fc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class wU extends kv{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new am(i,l);return function(m,v){if(null===pS(m)){const w=gS(m);null!==w&&tP(0,w,v.field)}}(r,d),d}(e._query,this.hc,this.dc);return new ns(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new fc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Kk extends kv{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new ns(e.firestore,e.converter,Mx(e._query,this._c,this.wc))}}class Yk extends kv{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=Qk(e,this.type,this.mc,this.gc);return new ns(e.firestore,e.converter,(i=t,new fc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Jk extends kv{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=Qk(e,this.type,this.mc,this.gc);return new ns(e.firestore,e.converter,(i=t,new fc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Qk(n,e,t,r){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof xv)return function(i,l,d,m,v){if(!m)throw new Ae(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const A of um(i))if(A.field.isKeyField())w.push(sm(l,m.key));else{const O=m.data.field(A.field);if(cS(O))throw new Ae(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const F=A.field.canonicalString();throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(O)}return new Bd(w,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hf(n.firestore);return function(l,d,m,v,w,A){const O=l.explicitOrderBy;if(w.length>O.length)throw new Ae(he.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let U=0;U<w.length;U++){const K=w[U];if(O[U].field.isKeyField()){if("string"!=typeof K)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof K}`);if(!mS(l)&&-1!==K.indexOf("/"))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${K}' contains a slash.`);const le=l.path.child(ln.fromString(K));if(!$e.isDocumentKey(le))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const Ne=new $e(le);F.push(sm(d,Ne))}else{const le=Hk(m,v,K);F.push(le)}}return new Bd(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Xk(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(e)&&-1!==t.indexOf("/"))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!$e.isDocumentKey(r))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sm(n,new $e(r))}if(t instanceof Hn)return sm(n,t._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CE(t)}.`)}function eP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function tP(n,e,t){if(!t.isEqual(e))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class aN{convertValue(e,t="none"){switch(Nf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return If(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new IE(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=px(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nv(e));default:return null}}convertTimestamp(e){const t=Vd(e);return new Or(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);Ot(hR(r));const i=new dc(r.get(1),r.get(3)),l=new $e(r.popFirst(5));return i.isEqual(t)||Gr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function xE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class OU extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class nP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hf(e)}set(e,t,r){this._verifyNotCommitted();const i=Yd(e,this._firestore),l=xE(i.converter,t,r),d=AE(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,jr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Yd(e,this._firestore);let d;return d="string"==typeof(t=(0,zt.m9)(t))||t instanceof gc?iN(this._dataReader,"WriteBatch.update",l._key,t,r,i):rN(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yd(e,this._firestore);return this._mutations=this._mutations.concat(new hv(t._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yd(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new Ae(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zf extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function rP(n,e,t){n=nn(n,Hn);const r=nn(n.firestore,Xn),i=xE(n.converter,e,t);return Nm(r,[AE(Hf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,jr.none())])}function iP(n,e,t,...r){n=nn(n,Hn);const i=nn(n.firestore,Xn),l=Hf(i);let d;return d="string"==typeof(e=(0,zt.m9)(e))||e instanceof gc?iN(l,"updateDoc",n._key,e,t,r):rN(l,"updateDoc",n._key,e),Nm(i,[d.toMutation(n._key,jr.exists(!0))])}function sP(n,...e){var t,r,i;n=(0,zt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||tN(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(tN(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let v,w,A;if(n instanceof Hn)w=nn(n.firestore,Xn),A=lm(n._key.path),v={next:O=>{e[d]&&e[d](lN(w,n,O))},error:e[d+1],complete:e[d+2]};else{const O=nn(n,ns);w=nn(O.firestore,Xn),A=O._query;const F=new zf(w);v={next:U=>{e[d]&&e[d](new Zd(w,F,O,U))},error:e[d+1],complete:e[d+2]},Zk(n._query)}return function(O,F,U,K){const le=new wE(K),Ne=new vA(F,le,U);return O.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return pA(yield Am(O),Ne)})),()=>{le.pa(),O.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return mA(yield Am(O),Ne)}))}}($r(w),A,m,v)}function Nm(n,e){return function(t,r){const i=new yi;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function EV(n,e,t){return CA.apply(this,arguments)}(yield QA(t),r,i)})),i.promise}($r(n),e)}function lN(n,e,t){const r=t.docs.get(e._key),i=new zf(n);return new mc(n,i,e._key,r,new Wf(t.hasPendingWrites,t.fromCache),e.converter)}class BU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hf(e)}get(e){const t=Yd(e,this._firestore),r=new OU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const l=i[0];if(l.isFoundDocument())return new xv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new xv(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=Yd(e,this._firestore),l=xE(i.converter,t,r),d=AE(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Yd(e,this._firestore);let d;return d="string"==typeof(t=(0,zt.m9)(t))||t instanceof gc?iN(this._dataReader,"Transaction.update",l._key,t,r,i):rN(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Yd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yd(e,this._firestore),r=new zf(this._firestore);return super.get(e).then(i=>new mc(this._firestore,r,t._key,i._document,new Wf(!1,!1),t.converter))}}function uN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function aP(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function lP(){if(!function aL(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){tm=oc.SDK_VERSION,(0,oc._registerComponent)(new pf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Xn(i,new tL(t.getProvider("auth-internal")),new iL(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,oc.registerVersion)(ax,"3.4.7",n),(0,oc.registerVersion)(ax,"3.4.7","esm2017")}();class Pv{constructor(e){this._delegate=e}static fromBase64String(e){return lP(),new Pv(au.fromBase64String(e))}static fromUint8Array(e){return aP(),new Pv(au.fromUint8Array(e))}toBase64(){return lP(),this._delegate.toBase64()}toUint8Array(){return aP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cN(n){return function KU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class YU{enableIndexedDbPersistence(e,t){return function rU(n,e){Uk(n=nn(n,Xn));const t=$r(n),r=n._freezeSettings(),i=new WA;return Vk(t,i,new bk(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function iU(n){Uk(n=nn(n,Xn));const e=$r(n),t=n._freezeSettings(),r=new WA;return Vk(e,r,new UV(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sU(n){if(n._initialized&&!n._terminated)throw new Ae(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(t=(0,ue.Z)(function*(r){if(!Ya.vt())return Promise.resolve();const i=r+"main";yield Ya.delete(i)}),function(r){return t.apply(this,arguments)})(LS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof dc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ev("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function QV(n,e,t,r={}){var i;const l=(n=nn(n,Ov))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ev("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Vi.MOCK_USER;else{d=(0,zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Vi(v)}n._authCredentials=new eL(new lx(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function aU(n){return function $V(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield Ck(n),t=yield Tk(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.lu.delete(0),Av(i)}(t)}))}($r(n=nn(n,Xn)))}(this._delegate)}disableNetwork(){return function lU(n){return function WV(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield Ck(n),t=yield Tk(n);return e.setNetworkEnabled(!1),(r=(0,ue.Z)(function*(i){const l=qe(i);l.lu.add(0),yield Dm(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=nn(n,Xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Nk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oU(n){return function(e){const t=new yi;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function SV(n,e){return NA.apply(this,arguments)}(yield QA(e),t)})),t.promise}($r(n=nn(n,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function UU(n,e){return function ZV(n,e){const t=new wE(e);return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield Am(n),i=t,qe(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield Am(n),i=t,void qe(r).Tu.delete(i);var r,i}))}}($r(n=nn(n,Xn)),tN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Om(this,kk(this._delegate,e))}catch(t){throw Cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ua(this,TE(this._delegate,e))}catch(t){throw Cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function XV(n,e){if(n=nn(n,Ov),eN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(t=e,new fc(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function GU(n,e){return function KV(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const r=yield(i=n,EE(i).then(l=>l.datastore));var i;new jV(n.asyncQueue,r,e,t).run()})),t.promise}($r(n=nn(n,Xn)),t=>e(new BU(n,t)))}(this._delegate,t=>e(new cP(this,t)))}batch(){return $r(this._delegate),new dP(new nP(this._delegate,e=>Nm(this._delegate,e)))}loadBundle(e){return function uU(n,e){const t=$r(n=nn(n,Xn)),r=new tU;return function YV(n,e,t,r){const i=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,w){if(v instanceof Uint8Array)return Dk(v,w);if(v instanceof ArrayBuffer)return Dk(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new BV(v,d);var v}(t,Sv(e));n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function VV(n,e,t){const r=qe(n);var i;(i=(0,ue.Z)(function*(l,d,m){try{const v=yield d.getMetadata();if(yield function(F,U){const K=qe(F),le=bi(U.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Ne=>K.ds.getBundleMetadata(Ne,U.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(le)>=0)}(l.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(F=v).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);m._updateProgress(ck(v));const w=new _V(v,l.localStore,d.M);let A=yield d.fa();for(;A;){const F=yield w.Nu(A);F&&m._updateProgress(F),A=yield d.fa()}const O=yield w.complete();return yield pc(l,O.Ou,void 0),yield function(F,U){const K=qe(F);return K.persistence.runTransaction("Save bundle","readwrite",le=>K.ds.saveBundleMetadata(le,U))}(l.localStore,v),m._completeWith(O.progress),Promise.resolve(O.Mu)}catch(v){return ev("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var F}),function(l,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield QA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function cU(n,e){return function JV(n,e){return n.asyncQueue.enqueue((0,ue.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.ds.getNamedQuery(l,r))}(yield JA(n),e)}))}($r(n=nn(n,Xn)),e).then(t=>t?new ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ts(this,t):null)}}class RE extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pv(new au(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ua.forKey(t,this.firestore,null)}}class cP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RE(e)}get(e){const t=Zf(e);return this._delegate.get(t).then(r=>new Fv(this._firestore,new mc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zf(e);return r?(uN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Zf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}}class dP{constructor(e){this._delegate=e}set(e,t,r){const i=Zf(e);return r?(uN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Zf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Rv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=qf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new qf(e,new RE(e),t),i.set(t,l)),l}}qf.INSTANCES=new WeakMap;class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ua(t,new Hn(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new ua(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Om(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Om(this.firestore,kk(this._delegate,e))}catch(t){throw Cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zt.m9)(e))instanceof Hn&&Pk(this._delegate,e)}set(e,t){t=uN("DocumentReference.set",t);try{return t?rP(this._delegate,e,t):rP(this._delegate,e)}catch(r){throw Cs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?iP(this._delegate,e):iP(this._delegate,e,t,...r)}catch(i){throw Cs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function LU(n){return Nm(nn(n.firestore,Xn),[new hv(n._key,jr.none())])}(this._delegate)}onSnapshot(...e){const t=hP(e),r=fP(e,i=>new Fv(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function xU(n){n=nn(n,Hn);const e=nn(n.firestore,Xn),t=$r(e),r=new zf(e);return function zV(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(r=(0,ue.Z)(function*(i,l,d){try{const m=yield function(v,w){const A=qe(v);return A.persistence.runTransaction("read document","readonly",O=>A.ai.Bs(O,w))}(i,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ae(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Cm(m,`Failed to get document '${l} from cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield JA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new mc(e,r,n._key,i,new Wf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function RU(n){n=nn(n,Hn);const e=nn(n.firestore,Xn);return Ik($r(e),n._key,{source:"server"}).then(t=>lN(e,n,t))}(this._delegate):function MU(n){n=nn(n,Hn);const e=nn(n.firestore,Xn);return Ik($r(e),n._key).then(t=>lN(e,n,t))}(this._delegate),t.then(r=>new Fv(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}function Cs(n,e,t){return n.message=n.message.replace(e,t),n}function hP(n){for(const e of n)if("object"==typeof e&&!cN(e))return e;return{}}function fP(n,e){var t,r;let i;return i=cN(n[0])?n[0]:cN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Fv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qk(this._delegate,e._delegate)}}class Lv extends Fv{data(e){const t=this._delegate.data(e);return function QF(n,e){n||ot()}(void 0!==t),t}}class Ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RE(e)}where(e,t,r){try{return new Ts(this.firestore,Kd(this._delegate,function DU(n,e,t){const r=e,i=ME("where",n);return new bU(i,r,t)}(e,t,r)))}catch(i){throw Cs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ts(this.firestore,Kd(this._delegate,function EU(n,e="asc"){const t=e,r=ME("orderBy",n);return new wU(r,t)}(e,t)))}catch(r){throw Cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,Kd(this._delegate,function CU(n){return xk("limit",n),new Kk("limit",n,"F")}(e)))}catch(t){throw Cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,Kd(this._delegate,function TU(n){return xk("limitToLast",n),new Kk("limitToLast",n,"L")}(e)))}catch(t){throw Cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,Kd(this._delegate,function IU(...n){return new Yk("startAt",n,!0)}(...e)))}catch(t){throw Cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,Kd(this._delegate,function SU(...n){return new Yk("startAfter",n,!1)}(...e)))}catch(t){throw Cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,Kd(this._delegate,function AU(...n){return new Jk("endBefore",n,!1)}(...e)))}catch(t){throw Cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,Kd(this._delegate,function NU(...n){return new Jk("endAt",n,!0)}(...e)))}catch(t){throw Cs(t,"endAt()","Query.endAt()")}}isEqual(e){return Fk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function PU(n){n=nn(n,ns);const e=nn(n.firestore,Xn),t=$r(e),r=new zf(e);return function qV(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(r=(0,ue.Z)(function*(i,l,d){try{const m=yield mE(i,l,!0),v=new fk(l,m.hi),w=v.Gu(m.documents),A=v.applyChanges(w,!1);d.resolve(A.snapshot)}catch(m){const v=Cm(m,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield JA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function FU(n){n=nn(n,ns);const e=nn(n.firestore,Xn),t=$r(e),r=new zf(e);return Sk(t,n._query,{source:"server"}).then(i=>new Zd(e,r,n,i))}(this._delegate):function kU(n){n=nn(n,ns);const e=nn(n.firestore,Xn),t=$r(e),r=new zf(e);return Zk(n._query),Sk(t,n._query).then(i=>new Zd(e,r,n,i))}(this._delegate),t.then(r=>new dN(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=hP(e),r=fP(e,i=>new dN(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sP(this._delegate,t,r)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}class QU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new QU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Lv(this._firestore,r))})}isEqual(e){return qk(this._delegate,e._delegate)}}class Om extends Ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ua(this.firestore,e):null}doc(e){try{return new ua(this.firestore,void 0===e?TE(this._delegate):TE(this._delegate,e))}catch(t){throw Cs(t,"doc()","CollectionReference.doc()")}}add(e){return function VU(n,e){const t=nn(n.firestore,Xn),r=TE(n),i=xE(n.converter,e);return Nm(t,[AE(Hf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ua(this.firestore,t))}isEqual(e){return Pk(this._delegate,e._delegate)}withConverter(e){return new Om(this.firestore,this._delegate.withConverter(e?qf.getInstance(this.firestore,e):null))}}function Zf(n){return nn(n,Hn)}class hN{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new hN(vi.keyField().canonicalString())}isEqual(e){return(e=(0,zt.m9)(e))instanceof gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function HU(){return new nN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kf(e)}static delete(){const e=function jU(){return new Mv("deleteField")}();return e._methodName="FieldValue.delete",new Kf(e)}static arrayUnion(...e){const t=function $U(...n){return new pU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Kf(t)}static arrayRemove(...e){const t=function WU(...n){return new gU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kf(t)}static increment(e){const t=function zU(n){return new mU("increment",n)}(e);return t._methodName="FieldValue.increment",new Kf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const XU={Firestore:uP,GeoPoint:IE,Timestamp:Or,Blob:Pv,Transaction:cP,WriteBatch:dP,DocumentReference:ua,DocumentSnapshot:Fv,Query:Ts,QueryDocumentSnapshot:Lv,QuerySnapshot:dN,CollectionReference:Om,FieldPath:hN,FieldValue:Kf,setLogLevel:function JU(n){!function JF(n){Ld.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function tB(n){(function eB(n,e){n.INTERNAL.registerComponent(new pf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},XU)))})(n,(e,t)=>new uP(e,t,new YU)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(fw.Z);var nB=R(6451),kE=R(5363),rB=R(6063);class iB extends gn.x{constructor(e=1/0,t=1/0,r=rB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var sB=R(3099);function pP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,sB.B)({connector:()=>new iB(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gP(n,e){return(0,Ln.m)(e)?gr(()=>n,e):gr(()=>n)}var fN=R(9468);R(5867);const _P=new Map,cB={activated:!1,tokenObservers:[]},dB={initialized:!1,enabled:!1};function Ci(n){return _P.get(n)||cB}function Ja(n,e){_P.set(n,e)}function FE(){return dB}class mB{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function _B(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Is=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vP(n){if(!Ci(n).activated)throw Is.create("use-before-activation",{appName:n.name})}function _N(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,ue.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(O){throw Is.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==d.status)throw Is.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(O){throw Is.create("fetch-parse-error",{originalErrorMessage:O.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const w=1e3*Number(v[1]),A=Date.now();return{token:m.attestationToken,expireTimeMillis:A+w,issuedAtTimeMillis:A}}),yN.apply(this,arguments)}function wB(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Vv="firebase-app-check-store";let UE=null;function DP(){return UE||(UE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Is.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vv,{keyPath:"compositeKey"})}}catch(t){e(Is.create("storage-open",{originalErrorMessage:t.message}))}}),UE)}function vN(){return vN=(0,ue.Z)(function*(n,e){const r=(yield DP()).transaction(Vv,"readwrite"),l=r.objectStore(Vv).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var w;m(Is.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})}),vN.apply(this,arguments)}const Uv=new qa.Yd("@firebase/app-check");function TP(n,e){return(0,zt.hl)()?function IB(n,e){return function wP(n,e){return vN.apply(this,arguments)}(function CP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Uv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IP(){return FE().enabled}function SP(){return EN.apply(this,arguments)}function EN(){return EN=(0,ue.Z)(function*(){const n=FE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),EN.apply(this,arguments)}const xB={error:"UNKNOWN_ERROR"};function RB(n){return zt.US.encodeString(JSON.stringify(n),!1)}function BE(n){return CN.apply(this,arguments)}function CN(){return CN=(0,ue.Z)(function*(n,e=!1){const t=n.app;vP(t);const r=Ci(t);let l,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&GE(v)&&(i=v)}if(!e&&i&&GE(i))return{token:i.token};let m,d=!1;if(IP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_N(wB(t,yield SP()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const v=yield r.exchangeTokenPromise;return yield TP(t,v),Ja(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Uv.warn(v.message):Uv.error(v),l=v}return i?(m={token:i.token},Ja(t,Object.assign(Object.assign({},r),{token:i})),yield TP(t,i)):m=PB(l),d&&NP(t,m),m}),CN.apply(this,arguments)}function IN(n,e){const t=Ci(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ja(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function AP(n){const{app:e}=n,t=Ci(e);let r=t.tokenRefresher;r||(r=function kB(n){const{app:e}=n;return new mB((0,ue.Z)(function*(){let r;if(r=Ci(e).token?yield BE(n,!0):yield BE(n),r.error)throw r.error}),()=>!0,()=>{const t=Ci(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ja(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function NP(n,e){const t=Ci(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function GE(n){return n.expireTimeMillis-Date.now()>0}function PB(n){return{token:RB(xB),error:n}}class FB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ci(this.app);for(const t of e)IN(this.app,t.next);return Promise.resolve()}}const LP="app-check-internal";!function YB(){(0,oc._registerComponent)(new pf.wA("app-check",n=>function LB(n,e){return new FB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(LP).initialize()})),(0,oc._registerComponent)(new pf.wA(LP,n=>function VB(n){return{getToken:e=>BE(n,e),addTokenListener:e=>function TN(n,e,t,r){const{app:i}=n,l=Ci(i),d={next:t,error:r,type:e};if(Ja(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&GE(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),AP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>AP(n))}(n,"INTERNAL",e),removeTokenListener:e=>IN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oc.registerVersion)("@firebase/app-check","0.5.5")}();class ON{constructor(){return(0,gi.vb)("app-check")}}"undefined"!=typeof window&&window;const UP=new c.OlP("angularfire2.auth.use-emulator"),BP=new c.OlP("angularfire2.auth.settings"),GP=new c.OlP("angularfire2.auth.tenant-id"),jP=new c.OlP("angularfire2.auth.langugage-code"),HP=new c.OlP("angularfire2.auth.use-device-language"),$P=new c.OlP("angularfire.auth.persistence"),WP=(n,e,t,r,i,l,d,m)=>(0,Es.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))v.settings[w]=A;return m&&v.setPersistence(m),v},[t,r,i,l,d,m]);let xN=(()=>{class n{constructor(t,r,i,l,d,m,v,w,A,O,F,U){const K=new gn.x,le=ct(void 0).pipe((0,kE.Q)(d.outsideAngular),gr(()=>l.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,4087)))),(0,mt.U)(()=>(0,Es.on)(t,l,r)),(0,mt.U)(Ne=>WP(Ne,l,m,w,A,O,v,F)),pP({bufferSize:1,refCount:!1}));if(hr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{le.pipe(nc()).subscribe();const Xe=le.pipe(gr(je=>je.getRedirectResult().then(Je=>Je,()=>null)),gi.iC,pP({bufferSize:1,refCount:!1})),ke=le.pipe(gr(je=>new tn.y(Je=>({unsubscribe:l.runOutsideAngular(()=>je.onAuthStateChanged(Qe=>Je.next(Qe),Qe=>Je.error(Qe),()=>Je.complete()))})))),yt=le.pipe(gr(je=>new tn.y(Je=>({unsubscribe:l.runOutsideAngular(()=>je.onIdTokenChanged(Qe=>Je.next(Qe),Qe=>Je.error(Qe),()=>Je.complete()))}))));this.authState=Xe.pipe(gP(ke),(0,fN.R)(d.outsideAngular),(0,kE.Q)(d.insideAngular)),this.user=Xe.pipe(gP(yt),(0,fN.R)(d.outsideAngular),(0,kE.Q)(d.insideAngular)),this.idToken=this.user.pipe(gr(je=>je?(0,vn.D)(je.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(gr(je=>je?(0,vn.D)(je.getIdTokenResult()):ct(null))),this.credential=(0,nB.T)(Xe,K,this.authState.pipe(wn(je=>!je))).pipe((0,mt.U)(je=>(null==je?void 0:je.user)?je:null),(0,fN.R)(d.outsideAngular),(0,kE.Q)(d.insideAngular))}return(0,Es.pX)(this,le,l,{spy:{apply:(Ne,Xe,ke)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&ke.then(yt=>K.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Es.Dh),c.LFG(Es.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(gi.HU),c.LFG(UP,8),c.LFG(BP,8),c.LFG(GP,8),c.LFG(jP,8),c.LFG(HP,8),c.LFG($P,8),c.LFG(ON,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function zP(n,e){return function nG(n,e=Da.z){return new tn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function RN(n,e){return zP(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function HE(n,e){return RN(n,e).pipe(hn(void 0),Ny(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=i.find(A=>A.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function qP(n,e,t){return HE(n,t).pipe(og((r,i)=>function iG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function sG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return kN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return kN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kN(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Jo(n,e=Yr.y){return n=null!=n?n:Qo,(0,Ir.e)((t,r)=>{let i,l=!0;t.subscribe((0,Vn.x)(r,d=>{const m=e(d);(l||!n(i,m))&&(l=!1,i=m,r.next(d))}))})}(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function kN(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function ZP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class KP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=HE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(hn(void 0),Ny(),wn(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),gi.iC)}auditTrail(e){return this.stateChanges(e).pipe(og((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZP(e);return qP(this.query,t,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return RN(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gi.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(gi.iC)}add(e){return this.ref.add(e)}doc(e){return new YP(this.ref.doc(e),this.afs)}}class YP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=JP(r,t);return new KP(i,l,this.afs)}snapshotChanges(){return function rG(n,e){return zP(n,e).pipe(hn(void 0),Ny(),(0,mt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,vn.D)(this.ref.get(e)).pipe(gi.iC)}}class oG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?HE(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),wn(t=>t.length>0),gi.iC):HE(this.query,this.afs.schedulers.outsideAngular).pipe(gi.iC)}auditTrail(e){return this.stateChanges(e).pipe(og((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZP(e);return qP(this.query,t,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return RN(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gi.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(gi.iC)}}const aG=new c.OlP("angularfire2.enableFirestorePersistence"),lG=new c.OlP("angularfire2.firestore.persistenceSettings"),uG=new c.OlP("angularfire2.firestore.settings"),cG=new c.OlP("angularfire2.firestore.use-emulator");function JP(n,e=(t=>t)){return{query:e(n),ref:n}}let dG=(()=>{class n{constructor(t,r,i,l,d,m,v,w,A,O,F,U,K,le,Ne,Xe,ke){this.schedulers=v;const yt=(0,Es.on)(t,m,r),je=A;O&&WP(yt,m,F,K,le,Ne,U,Xe),[this.firestore,this.persistenceEnabled$]=(0,Es.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Je=m.runOutsideAngular(()=>yt.firestore());if(l&&Je.settings(l),je&&Je.useEmulator(...je),i&&!hr(d)){const Qe=()=>{try{return(0,vn.D)(Je.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(qt){return"undefined"!=typeof console&&console.warn(qt),ct(!1)}};return[Je,m.runOutsideAngular(Qe)]}return[Je,ct(!1)]},[l,je,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=JP(i,r),m=this.schedulers.ngZone.run(()=>l);return new KP(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new oG(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new YP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Es.Dh),c.LFG(Es.xv,8),c.LFG(aG,8),c.LFG(uG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(gi.HU),c.LFG(lG,8),c.LFG(cG,8),c.LFG(xN,8),c.LFG(UP,8),c.LFG(BP,8),c.LFG(GP,8),c.LFG(jP,8),c.LFG(HP,8),c.LFG($P,8),c.LFG(ON,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hG=(()=>{class n{constructor(t,r){this.firestore=t,this.afAuth=r,this.isLogged=!1,r.authState.subscribe(i=>this.isLogged=i)}alta(t,r){var i=this;return(0,ue.Z)(function*(){try{return yield i.firestore.collection(t).add(r)}catch(l){return alert(l),null}})()}onLogin(t,r){var i=this;return(0,ue.Z)(function*(){try{return yield i.afAuth.signInWithEmailAndPassword(t,r)}catch(l){return console.log("Error on login",l),l}})()}onLoginWinthGoogle(){var t=this;return(0,ue.Z)(function*(){try{return yield t.afAuth.signInWithPopup(new Ay.Z.auth.GoogleAuthProvider)}catch(r){return console.log("Error on login",r),r}})()}onRegister(t,r){var i=this;return(0,ue.Z)(function*(){try{return yield i.afAuth.createUserWithEmailAndPassword(t,r)}catch(l){return console.log("Error on register",l),l}})()}traerTodo(t){var r=this;return(0,ue.Z)(function*(){try{return yield r.firestore.collection(t).snapshotChanges()}catch(i){return alert(i),null}})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dG),c.LFG(xN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QP=(()=>{class n{constructor(){this.title=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-title-decoration"]],inputs:{title:"title"},decls:10,vars:1,consts:[["viewBox","0 0 960 300"],["id","s-text"],["text-anchor","middle","x","50%","y","80%"],[1,"g-ants"],[0,"xlink","href","#s-text",1,"text-copy"]],template:function(t,r){1&t&&(c.O4$(),c.TgZ(0,"svg",0)(1,"symbol",1)(2,"text",2),c._uU(3),c.qZA()(),c.TgZ(4,"g",3),c._UZ(5,"use",4)(6,"use",4)(7,"use",4)(8,"use",4)(9,"use",4),c.qZA()()),2&t&&(c.xp6(3),c.Oqu(r.title))},styles:['@import"https://fonts.googleapis.com/css?family=Montserrat";svg[_ngcontent-%COMP%]{display:block;font:8rem Montserrat;width:860px;height:200px;max-width:100%;margin:0 auto}.text-copy[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-dasharray:6% 29%;stroke-width:5px;stroke-dashoffset:0%;animation:stroke-offset 3s infinite linear}.text-copy[_ngcontent-%COMP%]:nth-child(1){stroke:#4d163d;animation-delay:-.1s}.text-copy[_ngcontent-%COMP%]:nth-child(2){stroke:#840037;animation-delay:-.6s}.text-copy[_ngcontent-%COMP%]:nth-child(3){stroke:#bd0034;animation-delay:-1.2s}.text-copy[_ngcontent-%COMP%]:nth-child(4){stroke:#bd0034;animation-delay:-2.4s}.text-copy[_ngcontent-%COMP%]:nth-child(5){stroke:#fdb731;animation-delay:-4.8s}@keyframes stroke-offset{to{stroke-dashoffset:-35%}}']}),n})(),fG=(()=>{class n{constructor(t,r,i){this.database=t,this.router=r,this.toastService=i,this.user=new II,this.listaDeCorreos=[],this.usuario={email:"",password:""}}ngOnInit(){var t=this;return(0,ue.Z)(function*(){const r=yield t.database.traerTodo("users");null==r||r.subscribe(i=>{t.listaDeCorreos=i.map(l=>l.payload.doc.data())})})()}loginWithValidation(){if(this.listaDeCorreos.find(r=>r.email==this.user.email&&r.password==this.user.password))try{this.database.onLogin(this.user.email,this.user.password).then(()=>{this.database.emailUsuarioLogeado=this.user.email,setTimeout(()=>{this.router.navigate(["/home"])},200),this.toastService.show("Successfully user",{classname:"bg-success",delay:"2000"})})}catch(r){this.toastService.show("Error login",{classname:"bg-warning",delay:"2000"})}else""==this.user.email||""==this.user.password?this.toastService.show("Por favor complete todos los campos",{classname:"bg-warning",delay:"2000"}):this.toastService.show("El usuario no existe",{classname:"bg-danger",delay:"2000"})}userAutocomplete(t,r){this.user.email=t,this.user.password=r}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hG),c.Y36(Xi),c.Y36(ap))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:3,consts:[[1,"contenedor"],[3,"title"],[1,"card","mt-5","flexCenterCenter"],[1,"card-body","flexCenterCenter"],["type","email","placeholder","Email",1,"form-control","mt-2",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control","mt-2",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-between"],[1,"mt-3",3,"click"],["src","https://img.freepik.com/vector-gratis/cute-cat-gaming-auriculares-consola-cartoon-icon-illustration-concepto-icono-juego-animal-aislado-estilo-dibujos-animados-plana_138676-1739.jpg?w=740","alt","",1,"imgAutoCompletar"],["src","https://img.freepik.com/vector-gratis/cute-cat-gaming-icon-ilustracion-concepto-icono-juego-animal-aislado-estilo-plano-dibujos-animados_138676-1271.jpg?w=740","alt","",1,"imgAutoCompletar"],[1,"d-flex","justify-content-center","mt-5"],[1,"btn","btn-warning","btn-block","btnActive",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div"),c._UZ(2,"app-title-decoration",1),c.TgZ(3,"div",2)(4,"div",3)(5,"div")(6,"input",4),c.NdJ("ngModelChange",function(l){return r.user.email=l}),c.qZA(),c.TgZ(7,"input",5),c.NdJ("ngModelChange",function(l){return r.user.password=l}),c.qZA(),c.TgZ(8,"div",6)(9,"a",7),c.NdJ("click",function(){return r.userAutocomplete("thiago@gmail.com","000000")}),c._UZ(10,"img",8),c._uU(11,"Thiago"),c.qZA(),c.TgZ(12,"a",7),c.NdJ("click",function(){return r.userAutocomplete("lucia@gmail.com","123456")}),c._UZ(13,"img",9),c._uU(14,"Luc\xeda"),c.qZA()(),c.TgZ(15,"div",10)(16,"button",11),c.NdJ("click",function(){return r.loginWithValidation()}),c._uU(17,"Login"),c.qZA()()()()()()()),2&t&&(c.xp6(2),c.Q6J("title","Sala de Juegos"),c.xp6(4),c.Q6J("ngModel",r.user.email),c.xp6(1),c.Q6J("ngModel",r.user.password))},directives:[QP,Ki,cp,Ll],styles:["input[_ngcontent-%COMP%]::placeholder, p[_ngcontent-%COMP%], input[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#000;text-decoration:none;text-align:center;background-color:transparent}input[_ngcontent-%COMP%]{border-style:outset;border-color:#ff0}.contenedor[_ngcontent-%COMP%]{flex-wrap:wrap}.imgAutoCompletar[_ngcontent-%COMP%]{border-radius:50px;border-style:groove;border-color:#ff0;width:90px;height:90px}.imgAutoCompletar[_ngcontent-%COMP%]:active{transform:scale(.95)}a[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]{background-color:transparent;border:none}.card-body[_ngcontent-%COMP%]{width:50%;border-radius:10px;border-style:dashed;border-color:red}"]}),n})();const pG=function(n){return{"background-color":n}};function gG(n,e){if(1&n&&(c.TgZ(0,"li",6),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.s9C("routerLink",t.ruta),c.Q6J("ngStyle",c.VKq(3,pG,t.color)),c.xp6(1),c.hij("",t.texto," ")}}let XP=(()=>{class n{constructor(){this.botones=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],inputs:{icono:"icono",titulo:"titulo",botones:"botones"},decls:7,vars:3,consts:[[1,"navbar","navbar-expand-lg","contenedorNavbar","m-3"],["alt","icono",1,"imgIconHeader",3,"src"],[1,"navbar-brand",2,"color","white","font-family","monospace"],[1,"navbar-collapse","d-flex","justify-content-end"],[1,"navbar-nav","ml-auto","m-2"],["class","nav-item m-1 nav-link btn text-white","type","button",3,"ngStyle","routerLink",4,"ngFor","ngForOf"],["type","button",1,"nav-item","m-1","nav-link","btn","text-white",3,"ngStyle","routerLink"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0),c._UZ(1,"img",1),c.TgZ(2,"a",2),c._uU(3),c.qZA(),c.TgZ(4,"div",3)(5,"ul",4),c.YNc(6,gG,2,5,"li",5),c.qZA()()()),2&t&&(c.xp6(1),c.Q6J("src",r.icono,c.LSH),c.xp6(2),c.Oqu(r.titulo),c.xp6(3),c.Q6J("ngForOf",r.botones))},directives:[Qp,Cn,yc,Mg],styles:[".imgIconHeader[_ngcontent-%COMP%]{width:3%;height:3%}.contenedorNavbar[_ngcontent-%COMP%]{border-radius:20px;background-color:#f175008a}"]}),n})(),mG=(()=>{class n{constructor(){this.buttons=[{ruta:"/quienSoy",texto:"Quien Soy",color:""},{ruta:"/login",texto:"Salir",color:"red"}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:4,consts:[[1,"col-12","text-center"],[3,"icono","titulo","botones"],[3,"title"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-navbar",1)(2,"app-title-decoration",2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("icono","http://simpleicon.com/wp-content/uploads/rocket.svg")("titulo","Home")("botones",r.buttons),c.xp6(1),c.Q6J("title","Bienvenid@"))},directives:[XP,QP],styles:[""]}),n})();const _G=function(){return["/login"]},yG=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:fG},{path:"quienSoy",component:(()=>{class n{constructor(t){this.router=t,this.buttons=[{ruta:"/home",texto:"Home",color:""}]}ngOnInit(){}onLogout(){this.router.navigateByUrl("/login")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-quien-soy"]],decls:12,vars:3,consts:[[3,"icono","titulo","botones"],[1,"asd","card","col-md-6","mx-auto"],[1,"text-center","mt-5"],["src","https://avatars.githubusercontent.com/u/47437137?v=4","alt","foto de perfil",1,"mx-auto","d-block","w-25","h-25","rounded-circle"],[1,"card-body"],[1,"text-center"],[1,"text-center","mt-3"],["href","https://github.com/LuciaCardozo"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar",0),c.TgZ(1,"div",1)(2,"h1",2),c._uU(3,"Quien soy"),c.qZA(),c._UZ(4,"img",3),c.TgZ(5,"form",4)(6,"h6",5),c._uU(7,"Hola! Mi nombre es Lucia Cardozo tengo 25 a\xf1os y soy estudiante de la facultad regional de Avellaneda. Actualmente me encuentro cursando el ultimo cuatrimestre de la carrera Tecnico superior en programacion y esta pagina esta siendo dise\xf1ada de apoco para demostrar mis conocimientos. "),c.qZA(),c.TgZ(8,"h6",6),c._uU(9,"Perfil de "),c.TgZ(10,"a",7),c._uU(11,"GitHub"),c.qZA()()()()),2&t&&c.Q6J("icono","http://simpleicon.com/wp-content/uploads/rocket.svg")("titulo","Quien soy")("botones",r.buttons)},directives:[XP,Ip,Co,Sa],styles:[".asd[_ngcontent-%COMP%]{margin:100px;background-color:#f175008a;border-radius:30px}"]}),n})()},{path:"home",component:mG},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-error"]],decls:6,vars:2,consts:[[1,"container"],["src","../../../assets/404 Error with a cute animal-bro.svg","alt","","width","500px","height","500px"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","btn-outline-primary","m-3",3,"routerLink"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div"),c._UZ(2,"img",1),c.TgZ(3,"div",2)(4,"button",3),c._uU(5,"\u2190 Login"),c.qZA()()()()),2&t&&(c.xp6(4),c.Q6J("routerLink",c.DdM(1,_G)))},directives:[Mg],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}"]}),n})()}];let vG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vI.forRoot(yG)],vI]}),n})();const bG={apiKey:"AIzaSyDFS-2rJTcwby8d9K0PY6cw82haLpsfKOQ",authDomain:"scenic-setup-298622.firebaseapp.com",projectId:"scenic-setup-298622",storageBucket:"scenic-setup-298622.appspot.com",messagingSenderId:"645397347517",appId:"1:645397347517:web:7e5290e77b6530c9484bd4"};let DG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[TI]}),n.\u0275inj=c.cJS({providers:[],imports:[[va,vG,Yh,Hu,Es.hO.initializeApp(bG)]]}),n})();(0,c.G48)(),yu().bootstrapModule(DG).catch(n=>console.error(n))},5867:(at,Ee,R)=>{R.d(Ee,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=R(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(at,Ee,R)=>{R.d(Ee,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(at,Ee,R)=>{R.r(Ee);var c=R(5861),Y=R(3942),k=R(2090),oe=R(9681),X=R(655),me=R(1877),re=R(4859);const xe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new me.Yd("@firebase/auth");function Ze(_,...f){tt.logLevel<=me.in.ERROR&&tt.error(`Auth (${oe.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Ge(_,...f)}function ve(_,...f){return Ge(_,...f)}function be(_,f,g){const b=Object.assign(Object.assign({},Le()),{[f]:g});return new k.LL("auth","Firebase",b).create(f,{appName:_.name})}function He(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Te(_,"argument-error"),be(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return pe.create(_,...f)}function te(_,f,...g){if(!_)throw Ge(f,...g)}function z(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ze(f),new Error(f)}function ne(_,f){_||z(f)}const _e=new Map;function ie(_){ne(_ instanceof Function,"Expected a class definition");let f=_e.get(_);return f?(ne(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,_e.set(_,f),f)}function Ct(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Xt(){return"http:"===An()||"https:"===An()}function An(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class cn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ne(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dn(_,f){ne(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ii{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rs=new cn(3e4,6e4);function en(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function jt(_,f,g,b){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,f,g,b,S={}){return ii(_,S,(0,c.Z)(function*(){let x={},W={};b&&("GET"===f?W=b:x={body:JSON.stringify(b)});const se=(0,k.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),Ii.fetch()(Rr(_,_.config.apiHost,g,se),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ii(_,f,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),f);try{const S=new is(_),x=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield x.json();if("needConfirmation"in W)throw ss(_,"account-exists-with-different-credential",W);if(x.ok&&!("errorMessage"in W))return W;{const se=x.ok?W.errorMessage:W.error.message,[Ve,nt]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw ss(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ve)throw ss(_,"email-already-in-use",W);const _t=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw be(_,_t,nt);Te(_,_t)}}catch(S){if(S instanceof k.ZR)throw S;Te(_,"network-request-failed")}})).apply(this,arguments)}function xr(_,f,g,b){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(_,f,g,b,S={}){const x=yield jt(_,f,g,b,S);return"mfaPendingCredential"in x&&Te(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Rr(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?dn(_.config,S):`${_.config.apiScheme}://${S}`}class is{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),rs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ss(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=ve(_,f,b);return S.customData._tokenResponse=g,S}function Wr(){return(Wr=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function er(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function si(_,f){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function yn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ca(){return(ca=(0,c.Z)(function*(_,f=!1){const g=(0,k.m9)(_),b=yield g.getIdToken(f),S=st(b);te(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,W=null==x?void 0:x.sign_in_provider;return{claims:S,token:b,authTime:yn(Ht(S.auth_time)),issuedAtTime:yn(Ht(S.iat)),expirationTime:yn(Ht(S.exp)),signInProvider:W||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Ht(_){return 1e3*Number(_)}function st(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(g);return S?JSON.parse(S):(Ze("Failed to decode base64 JWT payload"),null)}catch(S){return Ze("Caught error parsing JWT payload as JSON",S),null}}function ur(_,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Gt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class no{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class br{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(_){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield ur(_,si(g,{idToken:b}));te(null==S?void 0:S.users.length,g,"internal-error");const x=S.users[0];_._notifyReloadListener(x);const W=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?Ie(x.providerUserInfo):[],se=Ke(_.providerData,W),_t=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==se?void 0:se.length)),ht={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:se,metadata:new br(x.createdAt,x.lastLoginAt),isAnonymous:_t};Object.assign(_,ht)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(_){const f=(0,k.m9)(_);yield cr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ke(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function Ie(_){return _.map(f=>{var{providerId:g}=f,b=(0,X._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function pt(){return(pt=(0,c.Z)(function*(_,f){const g=yield ii(_,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:x}=_.config,W=Rr(_,S,"/v1/token",`key=${x}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Ii.fetch()(W,{method:"POST",headers:se,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(void 0!==f.idToken,"internal-error"),te(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Dt(_){const f=st(_);return te(f,"internal-error"),te(void 0!==f.exp,"internal-error"),te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return te(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:W}=yield function et(_,f){return pt.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,x,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:x}=g,W=new Ut;return b&&(te("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),S&&(te("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),x&&(te("number"==typeof x,"internal-error",{appName:f}),W.expirationTime=x),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return z("not implemented")}}function Pt(_,f){te("string"==typeof _||void 0===_,"internal-error",{appName:f})}class G{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,x=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new no(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new br(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield ur(g,g.stsTokenManager.getToken(g.auth,f));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function As(_){return ca.apply(this,arguments)}(this,f)}reload(){return function Dr(_){return Vt.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new G(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield cr(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield ur(f,function dt(_,f){return Wr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,x,W,se,Ve,nt,_t;const ht=null!==(b=g.displayName)&&void 0!==b?b:void 0,Rn=null!==(S=g.email)&&void 0!==S?S:void 0,ms=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,ju=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Hu=null!==(se=g.tenantId)&&void 0!==se?se:void 0,td=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,Pp=null!==(nt=g.createdAt)&&void 0!==nt?nt:void 0,e0=null!==(_t=g.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Ma,emailVerified:nd,isAnonymous:Gl,providerData:_s,stsTokenManager:rd}=g;te(Ma&&rd,f,"internal-error");const Fp=Ut.fromJSON(this.name,rd);te("string"==typeof Ma,f,"internal-error"),Pt(ht,f.name),Pt(Rn,f.name),te("boolean"==typeof nd,f,"internal-error"),te("boolean"==typeof Gl,f,"internal-error"),Pt(ms,f.name),Pt(ju,f.name),Pt(Hu,f.name),Pt(td,f.name),Pt(Pp,f.name),Pt(e0,f.name);const fi=new G({uid:Ma,auth:f,email:Rn,emailVerified:nd,displayName:ht,isAnonymous:Gl,photoURL:ju,phoneNumber:ms,tenantId:Hu,stsTokenManager:Fp,createdAt:Pp,lastLoginAt:e0});return _s&&Array.isArray(_s)&&(fi.providerData=_s.map(ys=>Object.assign({},ys))),td&&(fi._redirectEventId=td),fi}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const S=new Ut;S.updateFromServerResponse(g);const x=new G({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield cr(x),x})()}}const $=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function de(_,f,g){return`firebase:${_}:${f}:${g}`}class J{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:x}=this.auth;this.fullUserKey=de(this.userKey,S.apiKey,x),this.fullPersistenceKey=de("persistence",S.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?G._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new J(ie($),f,b);const S=(yield Promise.all(g.map(function(){var nt=(0,c.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let x=S[0]||ie($);const W=de(b,f.config.apiKey,f.name);let se=null;for(const nt of g)try{const _t=yield nt._get(W);if(_t){const ht=G._fromJSON(f,_t);nt!==x&&(se=ht),x=nt;break}}catch(_t){}const Ve=S.filter(nt=>nt._shouldAllowMigration);return x._shouldAllowMigration&&Ve.length?(x=Ve[0],se&&(yield x._set(W,se.toJSON())),yield Promise.all(g.map(function(){var nt=(0,c.Z)(function*(_t){if(_t!==x)try{yield _t._remove(W)}catch(ht){}});return function(_t){return nt.apply(this,arguments)}}())),new J(x,f,b)):new J(x,f,b)})()}}function Ue(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if($t(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(bt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Mt(f))return"Blackberry";if(fn(f))return"Webos";if(Kt(f))return"Safari";if((f.includes("chrome/")||wr(f))&&!f.includes("edge/"))return"Chrome";if(En(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function bt(_=(0,k.z$)()){return/firefox\//i.test(_)}function Kt(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function wr(_=(0,k.z$)()){return/crios\//i.test(_)}function $t(_=(0,k.z$)()){return/iemobile/i.test(_)}function En(_=(0,k.z$)()){return/android/i.test(_)}function Mt(_=(0,k.z$)()){return/blackberry/i.test(_)}function fn(_=(0,k.z$)()){return/webos/i.test(_)}function nr(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function os(_=(0,k.z$)()){return nr(_)||En(_)||fn(_)||Mt(_)||/windows phone/i.test(_)||$t(_)}function ha(_,f=[]){let g;switch(_){case"Browser":g=Ue((0,k.z$)());break;case"Worker":g=`${Ue((0,k.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${b}`}class oi{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kt(this),this.idTokenSubscription=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,x;if(!b._deleted&&(b.persistenceManager=yield J.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==S?void 0:S._redirectEventId,se=yield g.tryRedirectSignIn(f);(!x||x===W)&&(null==se?void 0:se.user)&&(S=se.user)}return S?S._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield cr(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&te(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&ie(f)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ie(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return te(W,this,"internal-error"),W.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function Re(_){return(0,k.m9)(_)}class kt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function kn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class sn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(f){return z("not implemented")}_linkToIdToken(f,g){return z("not implemented")}_getReauthenticationResolver(f){return z("not implemented")}}function Nn(_,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:resetPassword",en(_,f))})).apply(this,arguments)}function At(_,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function io(_,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:update",en(_,f))})).apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPassword",en(_,f))})).apply(this,arguments)}function as(_,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:sendOobCode",en(_,f))})).apply(this,arguments)}function rr(_,f){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(_,f){return as(_,f)})).apply(this,arguments)}function el(_,f){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(_,f){return as(_,f)})).apply(this,arguments)}function Si(_,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(_,f){return as(_,f)})).apply(this,arguments)}function _c(_,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(_,f){return as(_,f)})).apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithEmailLink",en(_,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithEmailLink",en(_,f))})).apply(this,arguments)}class rl extends sn{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new rl(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new rl(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Ms(_,f){return Cn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function nl(_,f){return zr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return At(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function yc(_,f){return Rs.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Pn(_,f){return vc.apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithIdp",en(_,f))})).apply(this,arguments)}class us extends sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new us(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,x=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new us(b,S);return W.idToken=x.idToken||void 0,W.accessToken=x.accessToken||void 0,W.secret=x.secret,W.nonce=x.nonce,W.pendingToken=x.pendingToken||null,W}_getIdTokenResponse(f){return Pn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Pn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Pn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function ep(_,f){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:sendVerificationCode",en(_,f))})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,f))})).apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(_,f){const g=yield xr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,f));if(g.temporaryProof)throw ss(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const np={USER_NOT_FOUND:"user-not-found"};function wc(){return(wc=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),np)})).apply(this,arguments)}class jo extends sn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new jo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new jo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function lu(_,f){return ks.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function tp(_,f){return Dc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function rp(_,f){return wc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}=f;return b||g||S||x?new jo({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}):null}}class so{constructor(f){var g,b,S,x,W,se;const Ve=(0,k.zd)((0,k.pd)(f)),nt=null!==(g=Ve.apiKey)&&void 0!==g?g:null,_t=null!==(b=Ve.oobCode)&&void 0!==b?b:null,ht=function xm(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);te(nt&&_t&&ht,"argument-error"),this.apiKey=nt,this.operation=ht,this.code=_t,this.continueUrl=null!==(x=Ve.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(W=Ve.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(se=Ve.tenantId)&&void 0!==se?se:null}static parseLink(f){const g=function il(_){const f=(0,k.zd)((0,k.pd)(_)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||f||_}(f);try{return new so(g)}catch(b){return null}}}let uu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return rl._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=so.parseLink(b);return te(S,"argument-error"),rl._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ps{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class qr extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ho extends qr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return te("providerId"in g&&"signInMethod"in g,"argument-error"),us._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ho.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ho.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:x,nonce:W,providerId:se}=f;if(!b&&!S&&!g&&!x||!se)return null;try{return new Ho(se)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:x})}catch(Ve){return null}}}let oo=(()=>{class _ extends qr{constructor(){super("facebook.com")}static credential(g){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),pa=(()=>{class _ extends qr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ec=(()=>{class _ extends qr{constructor(){super("github.com")}static credential(g){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class qn extends sn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Pn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Pn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Pn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:x}=g;return b&&S&&x&&b===S?new qn(b,x):null}static _create(f,g){return new qn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class li extends Ps{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return li.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return li.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=qn.fromJSON(f);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return qn._create(b,g)}catch(S){return null}}}let sl=(()=>{class _ extends qr{constructor(){super("twitter.com")}static credential(g,b){return us._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ol(_,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signUp",en(_,f))})).apply(this,arguments)}class hr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,c.Z)(function*(){const x=yield G._fromIdTokenResponse(f,b,S),W=Xd(b);return new hr({user:x,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=Xd(b);return new hr({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function Xd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Cc(){return(Cc=(0,c.Z)(function*(_){var f;const g=Re(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new hr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield ol(g,{returnSecureToken:!0}),S=yield hr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class ll extends k.ZR{constructor(f,g,b,S){var x;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,ll.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new ll(f,g,b,S)}}function ul(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?ll._fromErrorAndOperation(_,x,f,b):x})}function cs(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function cu(){return(cu=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_);yield Ls(!0,g,f);const{providerUserInfo:b}=yield er(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=cs(b||[]);return g.providerData=g.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _n(_,f){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(_,f,g=!1){const b=yield ur(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return hr._forOperation(_,"link",b)})).apply(this,arguments)}function Ls(_,f,g){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(_,f,g){yield cr(f);const S=!1===_?"provider-already-linked":"no-such-provider";te(cs(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function Tc(_,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const x=yield ur(_,ul(b,S,f,_),g);te(x.idToken,b,"internal-error");const W=st(x.idToken);te(W,b,"internal-error");const{sub:se}=W;return te(_.uid===se,b,"user-mismatch"),hr._forOperation(_,S,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Te(b,"user-mismatch"),x}})).apply(this,arguments)}function lo(_,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(_,f,g=!1){const b="signIn",S=yield ul(_,b,f),x=yield hr._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function On(_,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(_,f){return lo(Re(_),f)})).apply(this,arguments)}function Ai(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_);return yield Ls(!1,g,f.providerId),_n(g,f)})).apply(this,arguments)}function Vs(_,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(_,f){return Tc((0,k.m9)(_),f)})).apply(this,arguments)}function cl(_,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithCustomToken",en(_,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(_,f){const g=Re(_),b=yield cl(g,{token:f,returnSecureToken:!0}),S=yield hr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class gt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?dl._fromServerResponse(f,g):Te(f,"internal-error")}}class dl extends gt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new dl(g)}}function _a(_,f,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function fl(){return(fl=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&_a(b,S,g),yield el(b,S)})).apply(this,arguments)}function du(){return(du=(0,c.Z)(function*(_,f,g){yield Nn((0,k.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(_,f){yield io((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function Ft(_,f){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_),b=yield Nn(g,{oobCode:f}),S=b.requestType;switch(te(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=gt._fromServerResponse(Re(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(_,f){const{data:g}=yield Ft((0,k.m9)(_),f);return g.email})).apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(_,f,g){const b=Re(_),S=yield ol(b,{returnSecureToken:!0,email:f,password:g}),x=yield hr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};te(g.handleCodeInApp,b,"argument-error"),g&&_a(b,S,g),yield Si(b,S)})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=uu.credentialWithLink(f,g||Ct());return te(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),On(b,S)})).apply(this,arguments)}function fr(_,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:createAuthUri",en(_,f))})).apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Xt()?Ct():"http://localhost"},{signinMethods:S}=yield fr((0,k.m9)(_),b);return S||[]})).apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(_,f){const g=(0,k.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&_a(g.auth,S,f);const{email:x}=yield rr(g.auth,S);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&_a(b.auth,x,g);const{email:W}=yield _c(b.auth,x);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function yu(_,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(_,f){return jt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,k.m9)(_),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield ur(b,yu(b.auth,x));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const se=b.providerData.find(({providerId:Ve})=>"password"===Ve);se&&(se.displayName=b.displayName,se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Du(_,f,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(_,f,g){const{auth:b}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const W=yield ur(_,At(b,x));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class co{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Nc extends co{constructor(f,g,b,S){super(f,g,b),this.username=S}}class Oc extends co{constructor(f,g){super(f,"facebook.com",g)}}class ho extends Nc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Hs extends co{constructor(f,g){super(f,"google.com",g)}}class wu extends Nc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Tr(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ac(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=st(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new co(x,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Oc(x,S);case"github.com":return new ho(x,S);case"google.com":return new Hs(x,S);case"twitter.com":return new wu(x,S,_.screenName||null);case"custom":case"anonymous":return new co(x,null);default:return new co(x,b,S)}}(g)}class hs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new hs("enroll",f)}static _fromMfaPendingCredential(f){return new hs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return hs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return hs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ba{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Re(f),S=g.customData._serverResponse,x=(S.mfaInfo||[]).map(se=>gt._fromServerResponse(b,se));te(S.mfaPendingCredential,b,"internal-error");const W=hs._fromMfaPendingCredential(S.mfaPendingCredential);return new ba(W,x,function(){var se=(0,c.Z)(function*(Ve){const nt=yield Ve._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const _t=Object.assign(Object.assign({},S),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(g.operationType){case"signIn":const ht=yield hr._fromIdTokenResponse(b,g.operationType,_t);return yield b._updateCurrentUser(ht.user),ht;case"reauthenticate":return te(g.user,b,"internal-error"),hr._forOperation(g.user,g.operationType,_t);default:Te(b,"internal-error")}});return function(Ve){return se.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Fn(_,f){return jt(_,"POST","/v2/accounts/mfaEnrollment:start",en(_,f))}class fs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>gt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new fs(f)}getSession(){var f=this;return(0,c.Z)(function*(){return hs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const S=f,x=yield b.getSession(),W=yield ur(b.user,S._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),x=yield ur(g.user,function sp(_,f){return jt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",en(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const qo=new WeakMap,Tu="__sak";class fo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const tn=(()=>{class _ extends fo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kc(){const _=(0,k.z$)();return Kt(_)||nr(_)}()&&function zn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=os(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),x=this.localCache[b];S!==x&&g(b,x,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((se,Ve,nt)=>{this.notifyListeners(se,nt)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(S);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const x=()=>{const se=this.storage.getItem(S);!b&&this.localCache[S]===se||this.notifyListeners(S,se)},W=this.storage.getItem(S);!function da(){return(0,k.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,x=this;return(0,c.Z)(function*(){yield S().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const x=yield b().call(S,g);return S.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),pr=(()=>{class _ extends fo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let ct=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:x,eventType:W,data:se}=S.data,Ve=b.handlersMap[W];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:W});const nt=Array.from(Ve).map(function(){var ht=(0,c.Z)(function*(Rn){return Rn(S.origin,se)});return function(Rn){return ht.apply(this,arguments)}}()),_t=yield function vn(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(nt);S.ports[0].postMessage({status:"done",eventId:x,eventType:W,response:_t})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function gn(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Oi{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let W,se;return new Promise((Ve,nt)=>{const _t=gn("",20);x.port1.start();const ht=setTimeout(()=>{nt(new Error("unsupported_event"))},b);se={messageChannel:x,onMessage(Rn){const ms=Rn;if(ms.data.eventId===_t)switch(ms.data.status){case"ack":clearTimeout(ht),W=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ve(ms.data.response);break;default:clearTimeout(ht),clearTimeout(W),nt(new Error("invalid_response"))}}},S.handlers.add(se),x.port1.addEventListener("message",se.onMessage),S.target.postMessage({eventType:f,eventId:_t,data:g},[x.port2])}).finally(()=>{se&&S.removeMessageHandler(se)})})()}}function St(){return window}function Ln(){return void 0!==St().WorkerGlobalScope&&"function"==typeof St().importScripts}function Ws(){return(Ws=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Iu="firebaseLocalStorageDb",Zo="firebaseLocalStorage",Mn="fbase_key";class Wi{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ko(_,f){return _.transaction([Zo],f?"readwrite":"readonly").objectStore(Zo)}function po(){const _=indexedDB.open(Iu,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Zo,{keyPath:Mn})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Zo)?f(b):(b.close(),yield function ci(){const _=indexedDB.deleteDatabase(Iu);return new Wi(_).toPromise()}(),f(yield po()))}))})}function Da(_,f,g){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f,g){const b=Ko(_,!0).put({[Mn]:f,value:g});return new Wi(b).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(_,f){const g=Ko(_,!1).get(f),b=yield new Wi(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function _o(_,f){const g=Ko(_,!0).delete(f);return new Wi(g).toPromise()}const zi=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield po()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(S++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Ln()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=ct._getInstance(function bl(){return Ln()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(S,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function mt(){return Ws.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Oi(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=x[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function lp(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield po();return yield Da(g,Tu,"1"),yield _o(g,Tu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(x=>Da(x,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(x=>function Su(_,f){return mo.apply(this,arguments)}(x,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>_o(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(W=>{const se=Ko(W,!1).getAll();return new Wi(se).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:W,value:se}of b)x.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(se)&&(g.notifyListeners(W,se),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!x.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Zn(_,f){return jt(_,"POST","/v2/accounts/mfaSignIn:start",en(_,f))}function qi(){return(qi=(0,c.Z)(function*(_){return(yield jt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yo(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const x=ve("internal-error");x.customData=S,g(x)},b.type="text/javascript",b.charset="UTF-8",function Fc(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Cl(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Mi=1e12;class Au{constructor(f){this.auth=f,this.counter=Mi,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Nu(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||Mi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Mi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||Mi))||void 0===b||b.execute(),""})()}}class Nu{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;te(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bo(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Do=Cl("rcb"),rh=new cn(3e4,6e4);class Ou{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!St().grecaptcha}load(f,g=""){return te(function Lc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(St().grecaptcha):new Promise((b,S)=>{const x=St().setTimeout(()=>{S(ve(f,"network-request-failed"))},rh.get());St()[Do]=()=>{St().clearTimeout(x),delete St()[Do];const se=St().grecaptcha;if(!se)return void S(ve(f,"internal-error"));const Ve=se.render;se.render=(nt,_t)=>{const ht=Ve(nt,_t);return this.counter++,ht},this.hostLanguage=g,b(se)},yo(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Do,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),S(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!St().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class up{load(f){return(0,c.Z)(function*(){return new Au(f)})()}clearedOneInstance(){}}const Yo="recaptcha",ih={theme:"light",type:"image"};class Ir{constructor(f,g=Object.assign({},ih),b){this.parameters=g,this.type=Yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new up:new Ou,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const W=se=>{!se||(f.tokenChangeListeners.delete(W),x(se))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=St()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){te(Xt()&&!Ln(),f.auth,"internal-error"),yield function Kn(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Pc(_){return qi.apply(this,arguments)}(f.auth);te(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wn{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=jo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function hn(){return(hn=(0,c.Z)(function*(_,f,g){const b=Re(_),S=yield sr(b,f,(0,k.m9)(g));return new wn(S,x=>On(b,x))})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);yield Ls(!1,b,"phone");const S=yield sr(b.auth,f,(0,k.m9)(g));return new wn(S,x=>Ai(b,x))})).apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=yield sr(b.auth,f,(0,k.m9)(g));return new wn(S,x=>Vs(b,x))})).apply(this,arguments)}function sr(_,f,g){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let x;if(te("string"==typeof S,_,"argument-error"),te(g.type===Yo,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const W=x.session;if("phoneNumber"in x)return te("enroll"===W.type,_,"internal-error"),(yield Fn(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{te("signin"===W.type,_,"internal-error");const se=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return te(se,_,"missing-multi-factor-info"),(yield Zn(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield ep(_,{phoneNumber:x.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(_,f){yield _n((0,k.m9)(_),f)})).apply(this,arguments)}let xi=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Re(g)}verifyPhoneNumber(g,b){return sr(this.auth,g,(0,k.m9)(b))}static credential(g,b){return jo._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?jo._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Zi(_,f){return f?ie(f):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class wa extends sn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Pn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Pn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Pn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Tl(_){return lo(_.auth,new wa(_),_.bypassAuthState)}function zs(_){const{auth:f,user:g}=_;return te(g,f,"internal-error"),Tc(g,new wa(_),_.bypassAuthState)}function Jr(_){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return te(g,f,"internal-error"),_n(g,new wa(_),_.bypassAuthState)})).apply(this,arguments)}class Pr{constructor(f,g,b,S,x=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:x,tenantId:W,error:se,type:Ve}=f;if(se)return void g.reject(se);const nt={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(nt))}catch(_t){g.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Tl;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return zs;default:Te(this.auth,"internal-error")}}resolve(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uc=new cn(2e3,1e4);function Bc(){return(Bc=(0,c.Z)(function*(_,f,g){const b=Re(_);He(_,f,Ps);const S=Zi(b,g);return new mr(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);He(b.auth,f,Ps);const S=Zi(b.auth,g);return new mr(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);He(b.auth,f,Ps);const S=Zi(b.auth,g);return new mr(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let mr=(()=>{class _ extends Pr{constructor(g,b,S,x,W){super(g,b,x,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){ne(1===g.filter.length,"Popup operations only handle one event");const b=gn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Uc.get())};g()}}return _.currentPopupAction=null,_})();const Yi=new Map;class xu extends Pr{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Yi.get(g.auth._key());if(!b){try{const x=(yield function Il(_,f){return Sl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(x)}catch(S){b=()=>Promise.reject(S)}Yi.set(g.auth._key(),b)}return g.bypassAuthState||Yi.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Sl(){return(Sl=(0,c.Z)(function*(_,f){const g=T(f),b=C(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function qs(_,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(_,f){return C(_)._set(T(f),"true")})).apply(this,arguments)}function C(_){return ie(_._redirectPersistence)}function T(_){return de("pendingRedirect",_.config.apiKey,_.name)}function q(){return(q=(0,c.Z)(function*(_,f,g){const b=Re(_);He(_,f,Ps);const S=Zi(b,g);return yield qs(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);He(b.auth,f,Ps);const S=Zi(b.auth,g);yield qs(S,b.auth);const x=yield Ea(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(_,f,g){const b=(0,k.m9)(_);He(b.auth,f,Ps);const S=Zi(b.auth,g);yield Ls(!1,b,f.providerId),yield qs(S,b.auth);const x=yield Ea(b);return S._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(_,f){return yield Re(_)._initializationPromise,In(_,f,!1)})).apply(this,arguments)}function In(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f,g=!1){const b=Re(_),S=Zi(b,f),W=yield new xu(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function Ea(_){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(_){const f=gn(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class gs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Eo(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oh(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!oh(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(f))}saveEventToCache(f){this.cachedEventUids.add(Zs(f)),this.lastProcessedEventTime=Date.now()}}function Zs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function oh({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function _r(_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(_,f={}){return jt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const km=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zv=/^https?/;function Co(){return(Co=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield _r(_);for(const g of f)try{if(Ta(g))return}catch(b){}Te(_,"unauthorized-domain")})).apply(this,arguments)}function Ta(_){const f=Ct(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!zv.test(g))return!1;if(km.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const jc=new cn(3e4,6e4);function Pm(){const _=St().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let $c=null;function KE(_){return $c=$c||function Hc(_){return new Promise((f,g)=>{var b,S,x;function W(){Pm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Pm(),g(ve(_,"network-request-failed"))},timeout:jc.get()})}if(null===(S=null===(b=St().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=St().gapi)||void 0===x?void 0:x.load)){const se=Cl("iframefcb");return St()[se]=()=>{gapi.load?W():g(ve(_,"network-request-failed"))},yo(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ve=>g(Ve))}W()}}).catch(f=>{throw $c=null,f})}(_),$c}const qv=new cn(5e3,15e3),ah={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nl(_){const f=_.config;te(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?dn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:oe.SDK_VERSION},S=dp.get(_.config.apiHost);S&&(b.eid=S);const x=_._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function lh(){return lh=(0,c.Z)(function*(_){const f=yield KE(_),g=St().gapi;return te(g,_,"internal-error"),f.open({where:document.body,url:Nl(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ah,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(x,W){yield b.restyle({setHideOnLeave:!1});const se=ve(_,"network-request-failed"),Ve=St().setTimeout(()=>{W(se)},qv.get());function nt(){St().clearTimeout(Ve),x(b)}b.ping(nt).then(nt,()=>{W(se)})});return function(x,W){return S.apply(this,arguments)}}()))}),lh.apply(this,arguments)}const Yv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ch(_,f,g,b,S,x){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:oe.SDK_VERSION,eventId:S};if(f instanceof Ps){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,nt]of Object.entries(x||{}))W[Ve]=nt}if(f instanceof qr){const Ve=f.getScopes().filter(nt=>""!==nt);Ve.length>0&&(W.scopes=Ve.join(","))}_.tenantId&&(W.tid=_.tenantId);const se=W;for(const Ve of Object.keys(se))void 0===se[Ve]&&delete se[Ve];return`${function pp({config:_}){return _.emulator?dn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(se).slice(1)}`}const Ks="webStorageSupport";class mp extends class YE{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new mp(f)}_finalizeEnroll(f,g,b){return function xc(_,f){return jt(_,"POST","/v2/accounts/mfaEnrollment:finalize",en(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function El(_,f){return jt(_,"POST","/v2/accounts/mfaSignIn:finalize",en(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lm=(()=>{class _{constructor(){}static assertion(g){return mp._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Jv="@firebase/auth",dh="0.19.11";class _p{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kl(){return window}function To(){return(To=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:S}=kl();ne(f.sessionId,"AuthEvent did not contain a session ID");const x=yield Vm(f.sessionId),W={};return nr()?W.ibi=S.packageName:En()?W.apn=S.packageName:Te(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=x,ch(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(_){const{BuildInfo:f}=kl(),g={};nr()?g.iosBundleId=f.packageName:En()?g.androidPackageName=f.packageName:Te(_,"operation-not-supported-in-this-environment"),yield _r(_,g)})).apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(_,f,g){const{cordova:b}=kl();let S=()=>{};try{yield new Promise((x,W)=>{let se=null;function Ve(){var ht;x();const Rn=null===(ht=b.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof Rn&&Rn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function nt(){se||(se=window.setTimeout(()=>{W(ve(_,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}f.addPassiveListener(Ve),document.addEventListener("resume",nt,!1),En()&&document.addEventListener("visibilitychange",_t,!1),S=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",_t,!1),se&&window.clearTimeout(se)}})}finally{S()}})).apply(this,arguments)}function Vm(_){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(_){const f=Um(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Um(_){if(ne(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function hh(_){(0,oe._registerComponent)(new re.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:x,authDomain:W}=b.options;return((se,Ve)=>{te(x&&!x.includes(":"),"invalid-api-key",{appName:se.name}),te(!(null==W?void 0:W.includes(":")),"argument-error",{appName:se.name});const nt={apiKey:x,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ha(_)},_t=new oi(se,Ve,nt);return function ae(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ie);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(_t,g),_t})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new re.wA("auth-internal",f=>{const g=Re(f.getProvider("auth").getImmediate());return new _p(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Jv,dh,function yp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,oe.registerVersion)(Jv,dh,"esm2017")}("Browser");class fh extends gs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Dp(_){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(_){const f=yield gh()._get(mh(_));return f&&(yield gh()._remove(mh(_))),f})).apply(this,arguments)}function ph(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function gh(){return ie(tn)}function mh(_){return de("authEvent",_.config.apiKey,_.name)}function Uu(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function Gm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Ll(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Sp(_=(0,k.z$)()){return!("file:"!==Ll()&&"ionic:"!==Ll()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vr(){try{const _=self.localStorage,f=gn();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Vl(_=(0,k.z$)()){return function Xv(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function JE(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return Ul()&&(0,k.hl)()}return!1}function Ul(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jc(){return(function Ip(){return"http:"===Ll()||"https:"===Ll()}()||(0,k.ru)()||Sp())&&!function Ap(){return(0,k.b$)()||(0,k.UG)()}()&&Vr()&&!Ul()}function Qc(){return Sp()&&"undefined"!=typeof document}function Aa(){return(Aa=(0,c.Z)(function*(){return!!Qc()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ki={LOCAL:"local",NONE:"none",SESSION:"session"},Na=te,_h="persistence";function ed(_){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Np(),g=de(_h,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function Np(){var _;try{return(null===(_=function Xc(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Op=te;class Ys{constructor(){this.browserResolver=ie(class Rl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pr,this._completeRedirectFn=In}_openPopup(f,g,b,S){var x=this;return(0,c.Z)(function*(){var W;ne(null===(W=x.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const se=ch(f,g,b,Ct(),S);return function fp(_,f,g,b=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let se="";const Ve=Object.assign(Object.assign({},Yv),{width:b.toString(),height:S.toString(),top:x,left:W}),nt=(0,k.z$)().toLowerCase();g&&(se=wr(nt)?"_blank":g),bt(nt)&&(f=f||"http://localhost",Ve.scrollbars="yes");const _t=Object.entries(Ve).reduce((Rn,[ms,ju])=>`${Rn}${ms}=${ju},`,"");if(function Xa(_=(0,k.z$)()){var f;return nr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(nt)&&"_self"!==se)return function uh(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",se),new xl(null);const ht=window.open(f||"",se,_t);te(ht,_,"popup-blocked");try{ht.focus()}catch(Rn){}return new xl(ht)}(f,se,gn())})()}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function th(_){St().location.href=_}(ch(f,g,b,Ct(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:x}=this.eventManagers[g];return S?Promise.resolve(S):(ne(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function hp(_){return lh.apply(this,arguments)}(f),S=new gs(f);return b.register("authEvent",x=>(te(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ks,{type:Ks},S=>{var x;const W=null===(x=null==S?void 0:S[0])||void 0===x?void 0:x[Ks];void 0!==W&&g(!!W),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function cp(_){return Co.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return os()||Kt()||nr()}}),this.cordovaResolver=ie(class Qv{constructor(){this._redirectPersistence=pr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=In}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new fh(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){!function Zc(_){var f,g,b,S,x,W,se,Ve,nt,_t;const ht=kl();te("function"==typeof(null===(f=null==ht?void 0:ht.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==ht?void 0:ht.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(x=null===(S=null===(b=null==ht?void 0:ht.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ve=null===(se=null===(W=null==ht?void 0:ht.cordova)||void 0===W?void 0:W.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(_t=null===(nt=null==ht?void 0:ht.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===_t?void 0:_t.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield x._initialize(f);yield W.initialized(),W.resetRedirect(),function Al(){Yi.clear()}(),yield x._originValidation(f);const se=function Kc(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:ph(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(f,b,S);yield function Bm(_,f){return gh()._set(mh(_),f)}(f,se);const Ve=yield function ku(_,f,g){return To.apply(this,arguments)}(f,se,g),nt=yield function Pu(_){const{cordova:f}=kl();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function ro(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Ve);return function qc(_,f,g){return Fu.apply(this,arguments)}(f,W,nt)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ia(_){return Lr.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:x}=kl(),W=setTimeout((0,c.Z)(function*(){yield Dp(f),g.onEvent(Gm())}),500),se=function(){var _t=(0,c.Z)(function*(ht){clearTimeout(W);const Rn=yield Dp(f);let ms=null;Rn&&(null==ht?void 0:ht.url)&&(ms=function wp(_,f){var g,b;const S=function Sa(_){const f=Uu(_),g=f.link?decodeURIComponent(f.link):void 0,b=Uu(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Uu(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const x=Uu(S),W=x.firebaseError?function Fl(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,se=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ve=se?ve(se):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Rn,ht.url)),g.onEvent(ms||Gm())});return function(Rn){return _t.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,se);const Ve=S,nt=`${x.packageName.toLowerCase()}://`;kl().handleOpenURL=function(){var _t=(0,c.Z)(function*(ht){if(ht.toLowerCase().startsWith(nt)&&se({url:ht}),"function"==typeof Ve)try{Ve(ht)}catch(Rn){console.error(Rn)}});return function(ht){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=pr,this._completeRedirectFn=In}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Qc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Op(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ar(){return Aa.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function bh(_){return _.unwrap()}function Gu(_){return Mp(_)}function Mp(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return xi.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=pa;break;case"facebook.com":b=oo;break;case"github.com":b=Ec;break;case"twitter.com":b=sl;break;default:const{oauthIdToken:S,oauthAccessToken:x,oauthTokenSecret:W,pendingToken:se,nonce:Ve}=f;return x||W||S||se?se?g.startsWith("saml.")?qn._create(g,se):us._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:S,accessToken:x}):new Ho(g).credential({idToken:S,accessToken:x,rawNonce:Ve}):null}return _ instanceof k.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function yr(_,f){return f.catch(g=>{throw g instanceof k.ZR&&function $m(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new wh(_,function vl(_,f){var g;const b=(0,k.m9)(_),S=f;return te(f.customData.operationType,b,"argument-error"),te(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ba._fromError(b,S)}(_,f));else if(b){const S=Mp(f),x=f;S&&(x.credential=S,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Gu(g),additionalUserInfo:Tr(g),user:Io.getOrCreate(S)}})}function Dh(_,f){return xp.apply(this,arguments)}function xp(){return(xp=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>yr(_,g.confirm(b))}})).apply(this,arguments)}class wh{constructor(f,g){this.resolver=g,this.auth=function Hm(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return yr(bh(this.auth),this.resolver.resolveSignIn(f))}}class Io{constructor(f){this._delegate=f,this.multiFactor=function Rc(_){const f=(0,k.m9)(_);return qo.has(f)||qo.set(f,fs._fromUser(f)),qo.get(f)}(f)}static getOrCreate(f){return Io.USER_MAP.has(f)||Io.USER_MAP.set(f,new Io(f)),Io.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return yr(g.auth,Ai(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return Dh(b.auth,function Jo(_,f,g){return Qo.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return yr(g.auth,function Gc(_,f,g){return Yn.apply(this,arguments)}(g._delegate,f,Ys))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield ed(Re(g.auth)),function rt(_,f,g){return function wt(_,f,g){return Bt.apply(this,arguments)}(_,f,g)}(g._delegate,f,Ys)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return yr(g.auth,Vs(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Dh(this.auth,function gr(_,f,g){return ir.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return yr(this.auth,function Ki(_,f,g){return Ri.apply(this,arguments)}(this._delegate,f,Ys))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield ed(Re(g.auth)),function ee(_,f,g){return function Oe(_,f,g){return Ye.apply(this,arguments)}(_,f,g)}(g._delegate,f,Ys)})()}sendEmailVerification(f){return function Ni(_,f){return _u.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function ga(_,f){return cu.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function bu(_,f){return Du((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Sc(_,f){return Du((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Vc(_,f){return ps.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function va(_,f){return vu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function _l(_,f,g){return yl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Io.USER_MAP=new WeakMap;const Bl=te;let Eh=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Bl(S,"invalid-api-key",{appName:g.name}),Bl(S,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?Ys:void 0;this._delegate=b.initialize({options:{persistence:Oa(S,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Io.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function pn(_,f,g){const b=Re(_);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),x=dr(f),{host:W,port:se}=function Ns(_){const f=dr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const x=S[1];return{host:x,port:kn(b.substr(x.length+1))}}{const[x,W]=b.split(":");return{host:x,port:kn(W)}}}(f);b.config.emulator={url:`${x}//${W}${null===se?"":`:${se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:se,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Hi(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function hu(_,f){return we.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ft(this._delegate,g)}confirmPasswordReset(g,b){return function pl(_,f,g){return du.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,c.Z)(function*(){return yr(S._delegate,function zo(_,f,g){return Kr.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ml(_,f){return js.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function mu(_,f){const g=so.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Bl(Jc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Tt(_,f){return xn.apply(this,arguments)}(g._delegate,Ys);return b?yr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function jm(_,f){Re(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:x,error:W,complete:se}=Ch(g,b,S);return this._delegate.onAuthStateChanged(x,W,se)}onIdTokenChanged(g,b,S){const{next:x,error:W,complete:se}=Ch(g,b,S);return this._delegate.onIdTokenChanged(x,W,se)}sendSignInLinkToEmail(g,b){return function gu(_,f,g){return Ic.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function hl(_,f,g){return fl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let S;switch(function yh(_,f){Na(Object.values(ki).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?Na(f!==ki.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?Na(f===ki.NONE,_,"unsupported-persistence-type"):Ul()?Na(f===ki.NONE||f===ki.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):Na(f===ki.NONE||Vr(),_,"unsupported-persistence-type")}(b._delegate,g),g){case ki.SESSION:S=pr;break;case ki.LOCAL:S=(yield ie(zi)._isAvailable())?zi:tn;break;case ki.NONE:S=$;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return yr(this._delegate,function al(_){return Cc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return yr(this._delegate,On(this._delegate,g))}signInWithCustomToken(g){return yr(this._delegate,function Us(_,f){return Bs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return yr(this._delegate,function pu(_,f,g){return On((0,k.m9)(_),uu.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return yr(this._delegate,function gl(_,f,g){return Gs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Dh(this._delegate,function Sr(_,f,g){return hn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Bl(Jc(),b._delegate,"operation-not-supported-in-this-environment"),yr(b._delegate,function Xo(_,f,g){return Bc.apply(this,arguments)}(b._delegate,g,Ys))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Bl(Jc(),b._delegate,"operation-not-supported-in-this-environment"),yield ed(b._delegate),function M(_,f,g){return function L(_,f,g){return q.apply(this,arguments)}(_,f,g)}(b._delegate,g,Ys)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Dn(_,f){return Wo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ki,_})();function Ch(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:W=>S(W&&Io.getOrCreate(W)),error:f,complete:g}}function Oa(_,f){const g=function vh(_,f){const g=Np();if(!g)return[];const b=de(_h,_,f);switch(g.getItem(b)){case ki.NONE:return[$];case ki.LOCAL:return[zi,pr];case ki.SESSION:return[pr];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(zi)&&g.push(zi),"undefined"!=typeof window)for(const b of[tn,pr])g.includes(b)||g.push(b);return g.includes($)||g.push($),g}class Th{constructor(){this.providerId="phone",this._delegate=new xi(bh(Y.Z.auth()))}static credential(f,g){return xi.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Th.PHONE_SIGN_IN_METHOD=xi.PHONE_SIGN_IN_METHOD,Th.PROVIDER_ID=xi.PROVIDER_ID;const Rp=te;class Wm{constructor(f,g,b=Y.Z.app()){var S;Rp(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ir(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function zm(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Eh(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:uu,FacebookAuthProvider:oo,GithubAuthProvider:Ec,GoogleAuthProvider:pa,OAuthProvider:Ho,SAMLAuthProvider:li,PhoneAuthProvider:Th,PhoneMultiFactorGenerator:Lm,RecaptchaVerifier:Wm,TwitterAuthProvider:sl,Auth:Eh,AuthCredential:sn,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(at,Ee,R)=>{R.d(Ee,{y:()=>j});var c=R(930),Y=R(727),k=R(8822),oe=R(4671);var re=R(2416),fe=R(576),ce=R(2806);let j=(()=>{class Se{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const pe=new Se;return pe.source=this,pe.operator=Le,pe}subscribe(Le,pe,De){const tt=function ze(Se){return Se&&Se instanceof c.Lv||function Q(Se){return Se&&(0,fe.m)(Se.next)&&(0,fe.m)(Se.error)&&(0,fe.m)(Se.complete)}(Se)&&(0,Y.Nn)(Se)}(Le)?Le:new c.Hp(Le,pe,De);return(0,ce.x)(()=>{const{operator:Ze,source:Te}=this;tt.add(Ze?Ze.call(tt,Te):Te?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(pe){Le.error(pe)}}forEach(Le,pe){return new(pe=H(pe))((De,tt)=>{const Ze=new c.Hp({next:Te=>{try{Le(Te)}catch(ve){tt(ve),Ze.unsubscribe()}},error:tt,complete:De});this.subscribe(Ze)})}_subscribe(Le){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Le)}[k.L](){return this}pipe(...Le){return function me(Se){return 0===Se.length?oe.y:1===Se.length?Se[0]:function(Le){return Se.reduce((pe,De)=>De(pe),Le)}}(Le)(this)}toPromise(Le){return new(Le=H(Le))((pe,De)=>{let tt;this.subscribe(Ze=>tt=Ze,Ze=>De(Ze),()=>pe(tt))})}}return Se.create=xe=>new Se(xe),Se})();function H(Se){var xe;return null!==(xe=null!=Se?Se:re.v.Promise)&&void 0!==xe?xe:Promise}},7579:(at,Ee,R)=>{R.d(Ee,{x:()=>re});var c=R(8306),Y=R(727);const oe=(0,R(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=R(8737),me=R(2806);let re=(()=>{class ce extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new fe(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new oe}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:ze,observers:Se}=this;return Q||ze?Y.Lc:(this.currentObservers=null,Se.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:ze,isStopped:Se}=this;Q?H.error(ze):Se&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return ce.create=(j,H)=>new fe(j,H),ce})();class fe extends re{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,j)}error(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Q?Q:Y.Lc}}},930:(at,Ee,R)=>{R.d(Ee,{Hp:()=>Le,Lv:()=>Q});var c=R(576),Y=R(727),k=R(2416),oe=R(7849),X=R(5032);const me=ce("C",void 0,void 0);function ce(Te,ve,be){return{kind:Te,value:ve,error:be}}var j=R(3410),H=R(2806);class Q extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Ze}static create(ve,be,He){return new Le(ve,be,He)}next(ve){this.isStopped?tt(function fe(Te){return ce("N",Te,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?tt(function re(Te){return ce("E",void 0,Te)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?tt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Se(Te,ve){return ze.call(Te,ve)}class xe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:be}=this;if(be.next)try{be.next(ve)}catch(He){pe(He)}}error(ve){const{partialObserver:be}=this;if(be.error)try{be.error(ve)}catch(He){pe(He)}else pe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(be){pe(be)}}}class Le extends Q{constructor(ve,be,He){let Ge;if(super(),(0,c.m)(ve)||!ve)Ge={next:null!=ve?ve:void 0,error:null!=be?be:void 0,complete:null!=He?He:void 0};else{let te;this&&k.v.useDeprecatedNextContext?(te=Object.create(ve),te.unsubscribe=()=>this.unsubscribe(),Ge={next:ve.next&&Se(ve.next,te),error:ve.error&&Se(ve.error,te),complete:ve.complete&&Se(ve.complete,te)}):Ge=ve}this.destination=new xe(Ge)}}function pe(Te){k.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Te):(0,oe.h)(Te)}function tt(Te,ve){const{onStoppedNotification:be}=k.v;be&&j.z.setTimeout(()=>be(Te,ve))}const Ze={closed:!0,next:X.Z,error:function De(Te){throw Te},complete:X.Z}},727:(at,Ee,R)=>{R.d(Ee,{Lc:()=>me,w0:()=>X,Nn:()=>re});var c=R(576);const k=(0,R(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,ze)=>`${ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var oe=R(8737);class X{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Se){j=Se instanceof k?Se.errors:[Se]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Se of ze)try{fe(Se)}catch(xe){j=null!=j?j:[],xe instanceof k?j=[...j,...xe.errors]:j.push(xe)}}if(j)throw new k(j)}}add(j){var H;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof X){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,oe.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,oe.P)(H,j),j instanceof X&&j._removeParent(this)}}X.EMPTY=(()=>{const ce=new X;return ce.closed=!0,ce})();const me=X.EMPTY;function re(ce){return ce instanceof X||ce&&"closed"in ce&&(0,c.m)(ce.remove)&&(0,c.m)(ce.add)&&(0,c.m)(ce.unsubscribe)}function fe(ce){(0,c.m)(ce)?ce():ce.unsubscribe()}},2416:(at,Ee,R)=>{R.d(Ee,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Ee,R)=>{R.d(Ee,{E:()=>Y});const Y=new(R(8306).y)(X=>X.complete())},8996:(at,Ee,R)=>{R.d(Ee,{D:()=>ve});var c=R(8421),Y=R(5363),k=R(9468),me=R(8306),fe=R(2202),ce=R(576),j=R(9672);function Q(be,He){if(!be)throw new Error("Iterable cannot be null");return new me.y(Ge=>{(0,j.f)(Ge,He,()=>{const te=be[Symbol.asyncIterator]();(0,j.f)(Ge,He,()=>{te.next().then(z=>{z.done?Ge.complete():Ge.next(z.value)})},0,!0)})})}var ze=R(3670),Se=R(8239),xe=R(1144),Le=R(6495),pe=R(2206),De=R(4532),tt=R(3260);function ve(be,He){return He?function Te(be,He){if(null!=be){if((0,ze.c)(be))return function oe(be,He){return(0,c.Xf)(be).pipe((0,k.R)(He),(0,Y.Q)(He))}(be,He);if((0,xe.z)(be))return function re(be,He){return new me.y(Ge=>{let te=0;return He.schedule(function(){te===be.length?Ge.complete():(Ge.next(be[te++]),Ge.closed||this.schedule())})})}(be,He);if((0,Se.t)(be))return function X(be,He){return(0,c.Xf)(be).pipe((0,k.R)(He),(0,Y.Q)(He))}(be,He);if((0,pe.D)(be))return Q(be,He);if((0,Le.T)(be))return function H(be,He){return new me.y(Ge=>{let te;return(0,j.f)(Ge,He,()=>{te=be[fe.h](),(0,j.f)(Ge,He,()=>{let z,ne;try{({value:z,done:ne}=te.next())}catch(_e){return void Ge.error(_e)}ne?Ge.complete():Ge.next(z)},0,!0)}),()=>(0,ce.m)(null==te?void 0:te.return)&&te.return()})}(be,He);if((0,tt.L)(be))return function Ze(be,He){return Q((0,tt.Q)(be),He)}(be,He)}throw(0,De.z)(be)}(be,He):(0,c.Xf)(be)}},8421:(at,Ee,R)=>{R.d(Ee,{Xf:()=>ze});var c=R(655),Y=R(1144),k=R(8239),oe=R(8306),X=R(3670),me=R(2206),re=R(4532),fe=R(6495),ce=R(3260),j=R(576),H=R(7849),Q=R(8822);function ze(Te){if(Te instanceof oe.y)return Te;if(null!=Te){if((0,X.c)(Te))return function Se(Te){return new oe.y(ve=>{const be=Te[Q.L]();if((0,j.m)(be.subscribe))return be.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,Y.z)(Te))return function xe(Te){return new oe.y(ve=>{for(let be=0;be<Te.length&&!ve.closed;be++)ve.next(Te[be]);ve.complete()})}(Te);if((0,k.t)(Te))return function Le(Te){return new oe.y(ve=>{Te.then(be=>{ve.closed||(ve.next(be),ve.complete())},be=>ve.error(be)).then(null,H.h)})}(Te);if((0,me.D)(Te))return De(Te);if((0,fe.T)(Te))return function pe(Te){return new oe.y(ve=>{for(const be of Te)if(ve.next(be),ve.closed)return;ve.complete()})}(Te);if((0,ce.L)(Te))return function tt(Te){return De((0,ce.Q)(Te))}(Te)}throw(0,re.z)(Te)}function De(Te){return new oe.y(ve=>{(function Ze(Te,ve){var be,He,Ge,te;return(0,c.mG)(this,void 0,void 0,function*(){try{for(be=(0,c.KL)(Te);!(He=yield be.next()).done;)if(ve.next(He.value),ve.closed)return}catch(z){Ge={error:z}}finally{try{He&&!He.done&&(te=be.return)&&(yield te.call(be))}finally{if(Ge)throw Ge.error}}ve.complete()})})(Te,ve).catch(be=>ve.error(be))})}},6451:(at,Ee,R)=>{R.d(Ee,{T:()=>me});var c=R(8189),Y=R(8421),k=R(515),oe=R(3269),X=R(8996);function me(...re){const fe=(0,oe.yG)(re),ce=(0,oe._6)(re,1/0),j=re;return j.length?1===j.length?(0,Y.Xf)(j[0]):(0,c.J)(ce)((0,X.D)(j,fe)):k.E}},5403:(at,Ee,R)=>{R.d(Ee,{x:()=>Y});var c=R(930);function Y(oe,X,me,re,fe){return new k(oe,X,me,re,fe)}class k extends c.Lv{constructor(X,me,re,fe,ce,j){super(X),this.onFinalize=ce,this.shouldUnsubscribe=j,this._next=me?function(H){try{me(H)}catch(Q){X.error(Q)}}:super._next,this._error=fe?function(H){try{fe(H)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(at,Ee,R)=>{R.d(Ee,{U:()=>k});var c=R(4482),Y=R(5403);function k(oe,X){return(0,c.e)((me,re)=>{let fe=0;me.subscribe((0,Y.x)(re,ce=>{re.next(oe.call(X,ce,fe++))}))})}},8189:(at,Ee,R)=>{R.d(Ee,{J:()=>k});var c=R(5577),Y=R(4671);function k(oe=1/0){return(0,c.z)(Y.y,oe)}},5577:(at,Ee,R)=>{R.d(Ee,{z:()=>fe});var c=R(4004),Y=R(8421),k=R(4482),oe=R(9672),X=R(5403),re=R(576);function fe(ce,j,H=1/0){return(0,re.m)(j)?fe((Q,ze)=>(0,c.U)((Se,xe)=>j(Q,Se,ze,xe))((0,Y.Xf)(ce(Q,ze))),H):("number"==typeof j&&(H=j),(0,k.e)((Q,ze)=>function me(ce,j,H,Q,ze,Se,xe,Le){const pe=[];let De=0,tt=0,Ze=!1;const Te=()=>{Ze&&!pe.length&&!De&&j.complete()},ve=He=>De<Q?be(He):pe.push(He),be=He=>{Se&&j.next(He),De++;let Ge=!1;(0,Y.Xf)(H(He,tt++)).subscribe((0,X.x)(j,te=>{null==ze||ze(te),Se?ve(te):j.next(te)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(De--;pe.length&&De<Q;){const te=pe.shift();xe?(0,oe.f)(j,xe,()=>be(te)):be(te)}Te()}catch(te){j.error(te)}}))};return ce.subscribe((0,X.x)(j,ve,()=>{Ze=!0,Te()})),()=>{null==Le||Le()}}(Q,ze,ce,H)))}},5363:(at,Ee,R)=>{R.d(Ee,{Q:()=>oe});var c=R(9672),Y=R(4482),k=R(5403);function oe(X,me=0){return(0,Y.e)((re,fe)=>{re.subscribe((0,k.x)(fe,ce=>(0,c.f)(fe,X,()=>fe.next(ce),me),()=>(0,c.f)(fe,X,()=>fe.complete(),me),ce=>(0,c.f)(fe,X,()=>fe.error(ce),me)))})}},3099:(at,Ee,R)=>{R.d(Ee,{B:()=>me});var c=R(8996),Y=R(5698),k=R(7579),oe=R(930),X=R(4482);function me(fe={}){const{connector:ce=(()=>new k.x),resetOnError:j=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=fe;return ze=>{let Se=null,xe=null,Le=null,pe=0,De=!1,tt=!1;const Ze=()=>{null==xe||xe.unsubscribe(),xe=null},Te=()=>{Ze(),Se=Le=null,De=tt=!1},ve=()=>{const be=Se;Te(),null==be||be.unsubscribe()};return(0,X.e)((be,He)=>{pe++,!tt&&!De&&Ze();const Ge=Le=null!=Le?Le:ce();He.add(()=>{pe--,0===pe&&!tt&&!De&&(xe=re(ve,Q))}),Ge.subscribe(He),Se||(Se=new oe.Hp({next:te=>Ge.next(te),error:te=>{tt=!0,Ze(),xe=re(Te,j,te),Ge.error(te)},complete:()=>{De=!0,Ze(),xe=re(Te,H),Ge.complete()}}),(0,c.D)(be).subscribe(Se))})(ze)}}function re(fe,ce,...j){return!0===ce?(fe(),null):!1===ce?null:ce(...j).pipe((0,Y.q)(1)).subscribe(()=>fe())}},9468:(at,Ee,R)=>{R.d(Ee,{R:()=>Y});var c=R(4482);function Y(k,oe=0){return(0,c.e)((X,me)=>{me.add(k.schedule(()=>X.subscribe(me),oe))})}},5698:(at,Ee,R)=>{R.d(Ee,{q:()=>oe});var c=R(515),Y=R(4482),k=R(5403);function oe(X){return X<=0?()=>c.E:(0,Y.e)((me,re)=>{let fe=0;me.subscribe((0,k.x)(re,ce=>{++fe<=X&&(re.next(ce),X<=fe&&re.complete())}))})}},8505:(at,Ee,R)=>{R.d(Ee,{b:()=>X});var c=R(576),Y=R(4482),k=R(5403),oe=R(4671);function X(me,re,fe){const ce=(0,c.m)(me)||re||fe?{next:me,error:re,complete:fe}:me;return ce?(0,Y.e)((j,H)=>{var Q;null===(Q=ce.subscribe)||void 0===Q||Q.call(ce);let ze=!0;j.subscribe((0,k.x)(H,Se=>{var xe;null===(xe=ce.next)||void 0===xe||xe.call(ce,Se),H.next(Se)},()=>{var Se;ze=!1,null===(Se=ce.complete)||void 0===Se||Se.call(ce),H.complete()},Se=>{var xe;ze=!1,null===(xe=ce.error)||void 0===xe||xe.call(ce,Se),H.error(Se)},()=>{var Se,xe;ze&&(null===(Se=ce.unsubscribe)||void 0===Se||Se.call(ce)),null===(xe=ce.finalize)||void 0===xe||xe.call(ce)}))}):oe.y}},4408:(at,Ee,R)=>{R.d(Ee,{o:()=>X});var c=R(727);class Y extends c.w0{constructor(re,fe){super()}schedule(re,fe=0){return this}}const k={setInterval(me,re,...fe){const{delegate:ce}=k;return(null==ce?void 0:ce.setInterval)?ce.setInterval(me,re,...fe):setInterval(me,re,...fe)},clearInterval(me){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(me)},delegate:void 0};var oe=R(8737);class X extends Y{constructor(re,fe){super(re,fe),this.scheduler=re,this.work=fe,this.pending=!1}schedule(re,fe=0){if(this.closed)return this;this.state=re;const ce=this.id,j=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(j,ce,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(j,this.id,fe),this}requestAsyncId(re,fe,ce=0){return k.setInterval(re.flush.bind(re,this),ce)}recycleAsyncId(re,fe,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return fe;k.clearInterval(fe)}execute(re,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(re,fe);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,fe){let j,ce=!1;try{this.work(re)}catch(H){ce=!0,j=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:fe}=this,{actions:ce}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ce,this),null!=re&&(this.id=this.recycleAsyncId(fe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Ee,R)=>{R.d(Ee,{v:()=>k});var c=R(6063);class Y{constructor(X,me=Y.now){this.schedulerActionCtor=X,this.now=me}schedule(X,me=0,re){return new this.schedulerActionCtor(this,X).schedule(re,me)}}Y.now=c.l.now;class k extends Y{constructor(X,me=Y.now){super(X,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:me}=this;if(this._active)return void me.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=me.shift());if(this._active=!1,re){for(;X=me.shift();)X.unsubscribe();throw re}}}},4986:(at,Ee,R)=>{R.d(Ee,{P:()=>oe,z:()=>k});var c=R(4408);const k=new(R(7565).v)(c.o),oe=k},6063:(at,Ee,R)=>{R.d(Ee,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(at,Ee,R)=>{R.d(Ee,{z:()=>c});const c={setTimeout(Y,k,...oe){const{delegate:X}=c;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,k,...oe):setTimeout(Y,k,...oe)},clearTimeout(Y){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(at,Ee,R)=>{R.d(Ee,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Ee,R)=>{R.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,Ee,R)=>{R.d(Ee,{_6:()=>me,jO:()=>oe,yG:()=>X});var c=R(576),Y=R(3532);function k(re){return re[re.length-1]}function oe(re){return(0,c.m)(k(re))?re.pop():void 0}function X(re){return(0,Y.K)(k(re))?re.pop():void 0}function me(re,fe){return"number"==typeof k(re)?re.pop():fe}},8737:(at,Ee,R)=>{function c(Y,k){if(Y){const oe=Y.indexOf(k);0<=oe&&Y.splice(oe,1)}}R.d(Ee,{P:()=>c})},3888:(at,Ee,R)=>{function c(Y){const oe=Y(X=>{Error.call(X),X.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(Ee,{d:()=>c})},2806:(at,Ee,R)=>{R.d(Ee,{O:()=>oe,x:()=>k});var c=R(2416);let Y=null;function k(X){if(c.v.useDeprecatedSynchronousErrorHandling){const me=!Y;if(me&&(Y={errorThrown:!1,error:null}),X(),me){const{errorThrown:re,error:fe}=Y;if(Y=null,re)throw fe}}else X()}function oe(X){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(at,Ee,R)=>{function c(Y,k,oe,X=0,me=!1){const re=k.schedule(function(){oe(),me?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!me)return re}R.d(Ee,{f:()=>c})},4671:(at,Ee,R)=>{function c(Y){return Y}R.d(Ee,{y:()=>c})},1144:(at,Ee,R)=>{R.d(Ee,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(at,Ee,R)=>{R.d(Ee,{D:()=>Y});var c=R(576);function Y(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(at,Ee,R)=>{function c(Y){return"function"==typeof Y}R.d(Ee,{m:()=>c})},3670:(at,Ee,R)=>{R.d(Ee,{c:()=>k});var c=R(8822),Y=R(576);function k(oe){return(0,Y.m)(oe[c.L])}},6495:(at,Ee,R)=>{R.d(Ee,{T:()=>k});var c=R(2202),Y=R(576);function k(oe){return(0,Y.m)(null==oe?void 0:oe[c.h])}},8239:(at,Ee,R)=>{R.d(Ee,{t:()=>Y});var c=R(576);function Y(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(at,Ee,R)=>{R.d(Ee,{L:()=>oe,Q:()=>k});var c=R(655),Y=R(576);function k(X){return(0,c.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:fe,done:ce}=yield(0,c.qq)(re.read());if(ce)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(fe)}}finally{re.releaseLock()}})}function oe(X){return(0,Y.m)(null==X?void 0:X.getReader)}},3532:(at,Ee,R)=>{R.d(Ee,{K:()=>Y});var c=R(576);function Y(k){return k&&(0,c.m)(k.schedule)}},4482:(at,Ee,R)=>{R.d(Ee,{A:()=>Y,e:()=>k});var c=R(576);function Y(oe){return(0,c.m)(null==oe?void 0:oe.lift)}function k(oe){return X=>{if(Y(X))return X.lift(function(me){try{return oe(me,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,Ee,R)=>{function c(){}R.d(Ee,{Z:()=>c})},7849:(at,Ee,R)=>{R.d(Ee,{h:()=>k});var c=R(2416),Y=R(3410);function k(oe){Y.z.setTimeout(()=>{const{onUnhandledError:X}=c.v;if(!X)throw oe;X(oe)})}},4532:(at,Ee,R)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ee,{z:()=>c})},655:(at,Ee,R)=>{function oe(z,ne){var _e={};for(var ie in z)Object.prototype.hasOwnProperty.call(z,ie)&&ne.indexOf(ie)<0&&(_e[ie]=z[ie]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ie=Object.getOwnPropertySymbols(z);Me<ie.length;Me++)ne.indexOf(ie[Me])<0&&Object.prototype.propertyIsEnumerable.call(z,ie[Me])&&(_e[ie[Me]]=z[ie[Me]])}return _e}function fe(z,ne,_e,ie){return new(_e||(_e=Promise))(function(ae,Ct){function Xt(vt){try{ut(ie.next(vt))}catch(cn){Ct(cn)}}function An(vt){try{ut(ie.throw(vt))}catch(cn){Ct(cn)}}function ut(vt){vt.done?ae(vt.value):function Me(ae){return ae instanceof _e?ae:new _e(function(Ct){Ct(ae)})}(vt.value).then(Xt,An)}ut((ie=ie.apply(z,ne||[])).next())})}function pe(z){return this instanceof pe?(this.v=z,this):new pe(z)}function De(z,ne,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ie=_e.apply(z,ne||[]),ae=[];return Me={},Ct("next"),Ct("throw"),Ct("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function Ct(dn){ie[dn]&&(Me[dn]=function(Ii){return new Promise(function(rn,rs){ae.push([dn,Ii,rn,rs])>1||Xt(dn,Ii)})})}function Xt(dn,Ii){try{!function An(dn){dn.value instanceof pe?Promise.resolve(dn.value.v).then(ut,vt):cn(ae[0][2],dn)}(ie[dn](Ii))}catch(rn){cn(ae[0][3],rn)}}function ut(dn){Xt("next",dn)}function vt(dn){Xt("throw",dn)}function cn(dn,Ii){dn(Ii),ae.shift(),ae.length&&Xt(ae[0][0],ae[0][1])}}function Ze(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ne=z[Symbol.asyncIterator];return ne?ne.call(z):(z=function Q(z){var ne="function"==typeof Symbol&&Symbol.iterator,_e=ne&&z[ne],ie=0;if(_e)return _e.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ie>=z.length&&(z=void 0),{value:z&&z[ie++],done:!z}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),_e={},ie("next"),ie("throw"),ie("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function ie(ae){_e[ae]=z[ae]&&function(Ct){return new Promise(function(Xt,An){!function Me(ae,Ct,Xt,An){Promise.resolve(An).then(function(ut){ae({value:ut,done:Xt})},Ct)}(Xt,An,(Ct=z[ae](Ct)).done,Ct.value)})}}}R.d(Ee,{FC:()=>De,KL:()=>Ze,_T:()=>oe,mG:()=>fe,qq:()=>pe})},5e3:(at,Ee,R)=>{R.d(Ee,{$8M:()=>Cl,$Z:()=>xC,AFp:()=>Cy,AaK:()=>fe,CHM:()=>fu,CRH:()=>HD,CZH:()=>Rg,CqO:()=>PC,DdM:()=>rf,EJc:()=>dw,EpF:()=>kC,F$t:()=>Sn,F4k:()=>vb,FYo:()=>ED,FiY:()=>Fr,G48:()=>Ug,Gf:()=>GD,GfV:()=>CD,Gpc:()=>H,Hsn:()=>Zp,Ikx:()=>Zb,JOm:()=>se,LFG:()=>rt,LSH:()=>Yc,Lbi:()=>lw,MAs:()=>_C,MGl:()=>yd,NdJ:()=>bb,O4$:()=>Mc,OlP:()=>Un,Oqu:()=>V_,PXZ:()=>gf,Q6J:()=>fb,QGY:()=>yb,Qsj:()=>UT,QtT:()=>_D,R0b:()=>ue,RDi:()=>cs,Rgc:()=>$a,SBq:()=>Xl,SDv:()=>gD,Sil:()=>DI,Suo:()=>jD,TTD:()=>oo,TgZ:()=>R_,Tol:()=>qC,Udp:()=>Ib,VKq:()=>Ad,VLi:()=>AI,W1O:()=>zD,WLB:()=>_g,X6Q:()=>Py,XFs:()=>dt,Xpm:()=>Pt,Y36:()=>$h,YKP:()=>iy,YNc:()=>gC,Yjl:()=>wr,Yz7:()=>rn,ZZ4:()=>Df,_Bn:()=>vD,_UZ:()=>gb,_Vd:()=>ic,_c5:()=>GI,_uU:()=>xb,aQg:()=>qg,c2e:()=>cw,cJS:()=>en,cg1:()=>Kb,dDg:()=>pf,deG:()=>Ou,dqk:()=>Gt,eFA:()=>Lg,ekj:()=>Sb,g9A:()=>Ty,h0i:()=>Ha,hGG:()=>Uy,hij:()=>tg,iGM:()=>BD,ifc:()=>Ht,ip1:()=>aw,kEZ:()=>ay,kL8:()=>lT,lG2:()=>Kt,n5z:()=>Fc,oAB:()=>J,oxw:()=>UC,pQV:()=>lg,q4F:()=>TD,qLn:()=>yr,qOj:()=>X0,qZA:()=>k_,s9C:()=>Kp,sBO:()=>Li,sIi:()=>ql,s_b:()=>lf,soG:()=>Iy,tBr:()=>hi,tb:()=>uw,tp0:()=>Zs,uIk:()=>rb,vHH:()=>xe,vpe:()=>oa,wAp:()=>Et,xp6:()=>r_,z2F:()=>My,zSh:()=>U0,zs3:()=>Oo});var c=R(7579),Y=R(727),k=R(8306),oe=R(6451),X=R(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=me({__forward_ref__:me});function H(s){return s.__forward_ref__=H,s.toString=function(){return fe(this())},s}function Q(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===H}class xe extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function ve(s,o){const a=o?` in ${o}`:"";throw new xe(-201,`No provider for ${De(s)} found${a}`)}function vt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function jt(s){return lr(s,Gi)||lr(s,is)}function lr(s,o){return s.hasOwnProperty(o)?s[o]:null}function xr(s){return s&&(s.hasOwnProperty(Rr)||s.hasOwnProperty(ss))?s[Rr]:null}const Gi=me({\u0275prov:me}),Rr=me({\u0275inj:me}),is=me({ngInjectableDef:me}),ss=me({ngInjectorDef:me});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Wr;function Wn(s){const o=Wr;return Wr=s,o}function si(s,o,a){const u=jt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&dt.Optional?null:void 0!==o?o:void ve(fe(s),"Injector")}function yn(s){return{toString:s}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),Ht=(()=>{return(s=Ht||(Ht={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ht;var s})();const st="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=st||"undefined"!=typeof global&&global||Dt||ur,cr={},ft=[],Dr=me({\u0275cmp:me}),Vt=me({\u0275dir:me}),Ke=me({\u0275pipe:me}),Ie=me({\u0275mod:me}),et=me({\u0275fac:me}),pt=me({__NG_ELEMENT_ID__:me});let Ut=0;function Pt(s){return yn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ht.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return u.id+=Ut++,u.inputs=bt(s.inputs,a),u.outputs=bt(s.outputs),p&&p.forEach(D=>D(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map($):null,u})}function V(s){return $t(s)||function En(s){return s[Vt]||null}(s)}function $(s){return function Mt(s){return s[Ke]||null}(s)}const de={};function J(s){return yn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function bt(s,o){if(null==s)return cr;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const Kt=Pt;function wr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function $t(s){return s[Dr]||null}function fn(s,o){const a=s[Ie]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function Si(s){return Array.isArray(s)&&"object"==typeof s[1]}function ai(s){return Array.isArray(s)&&!0===s[1]}function _c(s){return 0!=(8&s.flags)}function xs(s){return 2==(2&s.flags)}function nl(s){return 1==(1&s.flags)}function zr(s){return null!==s.template}function yc(s){return 0!=(512&s[2])}function qr(s,o){return s.hasOwnProperty(et)?s[et]:null}class Ho{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function oo(){return pa}function pa(s){return s.type.prototype.ngOnChanges&&(s.setInput=ip),Ec}function Ec(){const s=Fs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===cr)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ip(s,o,a,u){const h=Fs(s)||function li(s,o){return s[qn]=o}(s,{previous:cr,current:null}),p=h.current||(h.current={}),y=h.previous,D=this.declaredInputs[a],E=y[D];p[D]=new Ho(E&&E.currentValue,o,y===cr),s[u]=o}oo.ngInherit=!0;const qn="__ngSimpleChanges__";function Fs(s){return s[qn]||null}let ul;function cs(s){ul=s}function ga(){return void 0!==ul?ul:"undefined"!=typeof document?document:void 0}function _n(s){return!!s.listen}const $o={createRenderer:(s,o)=>ga()};function an(s){for(;Array.isArray(s);)s=s[0];return s}function lo(s,o){return an(o[s])}function Er(s,o){return an(o[s.index])}function ma(s,o){return s.data[o]}function Cr(s,o){const a=o[s];return Si(a)?a:a[0]}function Vs(s){return 4==(4&s[2])}function ds(s){return 128==(128&s[2])}function Zr(s,o){return null==o?null:s[o]}function Us(s){s[18]=0}function Bs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const gt={lFrame:co(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pl(){return gt.bindingsEnabled}function we(){return gt.lFrame.lView}function Ft(){return gt.lFrame.tView}function fu(s){return gt.lFrame.contextLView=s,s[8]}function Dn(){let s=Wo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wo(){return gt.lFrame.currentTNode}function zo(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Kr(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function pu(){return gt.lFrame.isParent}function gu(){gt.lFrame.isParent=!1}function gl(){return gt.isInCheckNoChangesMode}function Gs(s){gt.isInCheckNoChangesMode=s}function fr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function js(){return gt.lFrame.bindingIndex++}function Ni(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function _l(s){gt.lFrame.inI18n=s}function yl(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ya(o)}function ya(s){gt.lFrame.currentDirectiveIndex=s}function vu(){return gt.lFrame.currentQueryIndex}function bu(s){gt.lFrame.currentQueryIndex=s}function Sc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Du(s,o,a){if(a&dt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&dt.Host||(h=Sc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=gt.lFrame=Ac();return u.currentTNode=o,u.lView=s,!0}function uo(s){const o=Ac(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ac(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?co(s):o}function co(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Nc(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Oc=Nc;function ho(){const s=Nc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tr(){return gt.lFrame.selectedIndex}function $s(s){gt.lFrame.selectedIndex=s}function Tn(){const s=gt.lFrame;return ma(s.tView,s.selectedIndex)}function Mc(){gt.lFrame.currentNamespace="svg"}function hs(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:N}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function ba(s,o,a){xc(s,o,3,a)}function vl(s,o,a,u){(3&s[2])===a&&xc(s,o,a,u)}function Fn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function xc(s,o,a,u){const p=null!=u?u:-1,y=o.length-1;let D=0;for(let E=void 0!==u?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=u&&D>=u)break}else o[E]<0&&(s[18]+=65536),(D<p||-1==p)&&(sp(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function sp(s,o,a,u){const h=a[u]<0,p=a[u+1],D=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class qo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function $i(s,o,a){const u=_n(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const y=a[h++],D=a[h++],E=a[h++];u?s.setAttribute(o,D,E,y):o.setAttributeNS(y,D,E)}else{const y=p,D=a[++h];vn(y)?u&&s.setProperty(o,y,D):u?s.setAttribute(o,y,D):o.setAttribute(y,D),h++}}return h}function pr(s){return 3===s||4===s||6===s}function vn(s){return 64===s.charCodeAt(0)}function ct(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||gn(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function gn(s,o,a,u,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){y=-1;break}if(D>o){y=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function Oi(s){return-1!==s}function St(s){return 32767&s}function Ln(s,o){let a=function th(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let mt=!0;function Ws(s){const o=mt;return mt=s,o}let nh=0;function Mn(s,o){const a=Ko(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Wi(u.data,s),Wi(o,null),Wi(u.blueprint,null));const h=ci(s,o),p=s.injectorIndex;if(Oi(h)){const y=St(h),D=Ln(h,o),E=D[1].data;for(let I=0;I<8;I++)o[p+I]=D[y+I]|E[y+I]}return o[p+8]=h,p}function Wi(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ko(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ci(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(u=2===y?p.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function po(s,o,a){!function Zo(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(pt)&&(u=a[pt]),null==u&&(u=a[pt]=nh++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function go(s,o,a){if(a&dt.Optional)return s;ve(o,"NodeInjector")}function Su(s,o,a,u){if(a&dt.Optional&&void 0===u&&(u=null),0==(a&(dt.Self|dt.Host))){const h=s[9],p=Wn(void 0);try{return h?h.get(o,u,a&dt.Optional):si(o,u,a&dt.Optional)}finally{Wn(p)}}return go(u,o,a)}function mo(s,o,a,u=dt.Default,h){if(null!==s){const p=function Zn(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Dl:o}(a);if("function"==typeof p){if(!Du(o,s,u))return u&dt.Host?go(h,a,u):Su(o,a,u,h);try{const y=p(u);if(null!=y||u&dt.Optional)return y;ve(a)}finally{Oc()}}else if("number"==typeof p){let y=null,D=Ko(s,o),E=-1,I=u&dt.Host?o[16][6]:null;for((-1===D||u&dt.SkipSelf)&&(E=-1===D?ci(s,o):o[D+8],-1!==E&&Pc(u,!1)?(y=o[1],D=St(E),o=Ln(E,o)):D=-1);-1!==D;){const N=o[1];if(El(p,D,N.data)){const P=Vn(D,o,a,y,u,I);if(P!==_o)return P}E=o[D+8],-1!==E&&Pc(u,o[1].data[D+8]===I)&&El(p,D,o)?(y=N,D=St(E),o=Ln(E,o)):D=-1}}}return Su(o,a,u,h)}const _o={};function Dl(){return new qi(Dn(),we())}function Vn(s,o,a,u,h,p){const y=o[1],D=y.data[s+8],N=wl(D,y,a,null==u?xs(D)&&mt:u!=y&&0!=(3&D.type),h&dt.Host&&p===D);return null!==N?zi(o,y,N,D):_o}function wl(s,o,a,u,h){const p=s.providerIndexes,y=o.data,D=1048575&p,E=s.directiveStart,N=p>>20,B=h?D+N:s.directiveEnd;for(let Z=u?D:D+N;Z<B;Z++){const ye=y[Z];if(Z<E&&a===ye||Z>=E&&ye.type===a)return Z}if(h){const Z=y[E];if(Z&&zr(Z)&&Z.type===a)return E}return null}function zi(s,o,a,u){let h=s[a];const p=o.data;if(function Rc(s){return s instanceof qo}(h)){const y=h;y.resolving&&function tt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${a}`)}(De(p[a]));const D=Ws(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Wn(y.injectImpl):null;Du(s,u,dt.Default);try{h=s[a]=y.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Cu(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const y=pa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&Wn(E),Ws(D),y.resolving=!1,Oc()}}return h}function El(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Pc(s,o){return!(s&dt.Self||s&dt.Host&&o)}class qi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return mo(this._tNode,this._lView,o,u,a)}}function Fc(s){return yn(()=>{const o=s.prototype.constructor,a=o[et]||yo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[et]||yo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function yo(s){return ze(s)?()=>{const o=yo(Q(s));return o&&o()}:qr(s)}function Cl(s){return function Da(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(pr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Dn(),s)}const vo="__parameters__";function bo(s,o,a){return yn(()=>{const u=function Nu(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return D.annotation=y,D;function D(E,I,N){const P=E.hasOwnProperty(vo)?E[vo]:Object.defineProperty(E,vo,{value:[]})[vo];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Un{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ou=new Un("AnalyzeForEntryComponents");function sr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),sr(u,o)):o!==s&&o.push(u)}return o}function di(s,o){s.forEach(a=>Array.isArray(a)?di(a,o):o(a))}function Vc(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function ps(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function xi(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Pr(s,o,a){let u=Xo(s,o);return u>=0?s[1|u]=a:(u=~u,function Tl(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Uc(s,o){const a=Xo(s,o);if(a>=0)return s[1|a]}function Xo(s,o){return function Ki(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const qs={},ea="__NG_DI_FLAG__",Al="ngTempTokenPath",T=/\n/gm,L="__source",q=me({provide:String,useValue:me});let ee;function Oe(s){const o=ee;return ee=s,o}function Ye(s,o=dt.Default){if(void 0===ee)throw new xe(203,"");return null===ee?si(s,void 0,o):ee.get(s,o&dt.Optional?null:void 0,o)}function rt(s,o=dt.Default){return(function er(){return Wr}()||Ye)(Q(s),o)}const Bt=rt;function Tt(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,"");let h,p=dt.Default;for(let y=0;y<u.length;y++){const D=u[y],E=In(D);"number"==typeof E?-1===E?h=D.token:p|=E:h=D}o.push(rt(h,p))}else o.push(rt(u))}return o}function xn(s,o){return s[ea]=o,s.prototype[ea]=o,s}function In(s){return s[ea]}const hi=xn(bo("Inject",s=>({token:s})),-1),Fr=xn(bo("Optional"),8),Zs=xn(bo("SkipSelf"),4);let ah;function Nl(s){var o;return(null===(o=function dp(){if(void 0===ah&&(ah=null,Gt.trustedTypes))try{ah=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ah}())||void 0===o?void 0:o.createHTML(s))||s}class fp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ks(s){return s instanceof fp?s.changingThisBreaksApplicationSecurity:s}class yp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Nl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class hh{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Nl(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Nl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const kl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ku=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function To(s){return(s=String(s)).match(kl)||s.match(ku)?s:"unsafe:"+s}function Ia(s){return(s=String(s)).split(",").map(o=>To(o.trim())).join(", ")}function Lr(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Pu(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const qc=Lr("area,br,col,hr,img,wbr"),Fu=Lr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zc=Lr("rp,rt"),Vu=Pu(qc,Pu(Fu,Lr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pu(Zc,Lr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pu(Zc,Fu)),fh=Lr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kc=Lr("srcset"),Pl=Pu(fh,Kc,Lr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function Yc(s){const o=function Vl(){const s=we();return s&&s[12]}();return o?o.sanitize(or.URL,s)||"":function Rl(s,o){const a=function gp(s){return s instanceof fp&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?Ks(s):To(pe(s))}const Qc="__ngContext__";function Ar(s,o){s[Qc]=o}function Xc(s){const o=function Aa(s){return s[Qc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Gu(s){return s.ngOriginalError}function Mp(s,...o){s.error(...o)}class yr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function $m(s){return s&&s.ngErrorLogger||Mp}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Gu(o);for(;a&&Gu(a);)a=Gu(a);return a||null}}const wh=/^>|^->|<!--|-->|--!>|<!-$/g,Io=/(<|>)/;const Wm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function g(s){return s instanceof Function?s():s}var se=(()=>((se=se||{})[se.Important=1]="Important",se[se.DashCase=2]="DashCase",se))();let Ve;function nt(s,o){return Ve(s,o)}function Rn(s){const o=s[3];return ai(o)?o[3]:o}function Hu(s){return Pp(s[13])}function td(s){return Pp(s[4])}function Pp(s){for(;null!==s&&!ai(s);)s=s[4];return s}function Ma(s,o,a,u,h){if(null!=u){let p,y=!1;ai(u)?p=u:Si(u)&&(y=!0,u=u[0]);const D=an(u);0===s&&null!==a?null==h?r0(o,a,D):$u(o,a,D,h||null,!0):1===s&&null!==a?$u(o,a,D,h||null,!0):2===s?Ra(o,D,y):3===s&&o.destroyNode(D),null!=p&&function Jm(s,o,a,u,h){const p=a[7];p!==an(a)&&Ma(o,s,u,p,h);for(let D=10;D<a.length;D++){const E=a[D];Hl(E[1],E,s,o,u,p)}}(o,s,p,a,h)}}function nd(s,o){return _n(s)?s.createText(o):s.createTextNode(o)}function Gl(s,o,a){_n(s)?s.setValue(o,a):o.textContent=a}function _s(s,o){return s.createComment(function Eh(s){return s.replace(wh,o=>o.replace(Io,"\u200b$1\u200b"))}(o))}function rd(s,o,a){if(_n(s))return s.createElement(o,a);{const u=null!==a?function ll(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function id(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Bs(h,-1)),a.splice(u,1)}function jl(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&id(h,u),o>0&&(s[a-1][4]=u[4]);const p=ps(s,10+o);!function Fp(s,o){Hl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function sd(s,o){if(!(256&o[2])){const a=o[11];_n(a)&&a.destroyNode&&Hl(s,o,a,3,null,null),function ta(s){let o=s[13];if(!o)return Zm(s[1],s);for(;o;){let a=null;if(Si(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Si(o)&&Zm(o[1],o),o=o[3];null===o&&(o=s),Si(o)&&Zm(o[1],o),a=o&&o[4]}o=a}}(o)}}function Zm(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Ih(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof qo)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const D=h[p[y]],E=p[y+1];try{E.call(D)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function t0(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],D="function"==typeof y?y(o):an(o[y]),E=u[h=a[p+2]],I=a[p+3];"boolean"==typeof I?D.removeEventListener(a[p],E,I):I>=0?u[h=I]():u[h=-I].unsubscribe(),p+=2}else{const y=u[h=a[p+1]];a[p].call(y)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&_n(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ai(o[3])){a!==o[3]&&id(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function n0(s,o,a){return Km(s,o.parent,a)}function Km(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Ht.None||h===Ht.Emulated)return null}return Er(u,a)}function $u(s,o,a,u,h){_n(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function r0(s,o,a){_n(s)?s.appendChild(o,a):o.appendChild(a)}function s0(s,o,a,u,h){null!==u?$u(s,o,a,u,h):r0(s,o,a)}function Lp(s,o){return _n(s)?s.parentNode(o):o.parentNode}function o0(s,o,a){return l0(s,o,a)}function a0(s,o,a){return 40&s.type?Er(s,a):null}let Ym,l0=a0;function u0(s,o){l0=s,Ym=o}function Ji(s,o,a,u){const h=n0(s,u,o),p=o[11],D=o0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)s0(p,h,a[E],D,!1);else s0(p,h,a,D,!1);void 0!==Ym&&Ym(p,u,o,a,h)}function xa(s,o){if(null!==o){const a=o.type;if(3&a)return Er(o,s);if(4&a)return Sh(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return xa(s,u);{const h=s[o.index];return ai(h)?Sh(-1,h):an(h)}}if(32&a)return nt(o,s)()||an(s[o.index]);{const u=vs(s,o);return null!==u?Array.isArray(u)?u[0]:xa(Rn(s[16]),u):xa(s,o.next)}}return null}function vs(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Sh(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return xa(u,h)}return o[7]}function Ra(s,o,a){const u=Lp(s,o);u&&function QE(s,o,a,u){_n(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}function ka(s,o,a,u,h,p,y){for(;null!=a;){const D=u[a.index],E=a.type;if(y&&0===o&&(D&&Ar(an(D),u),a.flags|=4),64!=(64&a.flags))if(8&E)ka(s,o,a.child,u,h,p,!1),Ma(o,s,h,D,p);else if(32&E){const I=nt(a,u);let N;for(;N=I();)Ma(o,s,h,N,p);Ma(o,s,h,D,p)}else 16&E?Wu(s,o,u,a,h,p):Ma(o,s,h,D,p);a=y?a.projectionNext:a.next}}function Hl(s,o,a,u,h,p){ka(a,u,s.firstChild,o,h,p,!1)}function Wu(s,o,a,u,h,p){const y=a[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Ma(o,s,h,E[I],p);else ka(s,o,E,y[3],h,p,!0)}function c0(s,o,a){_n(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Ao(s,o,a){_n(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function d0(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Ah="ng-template";function Xm(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==d0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function e_(s){return 4===s.type&&s.value!==Ah}function Nh(s,o,a){return o===(4!==s.type||a?s.value:Ah)}function e1(s,o,a){let u=4;const h=s.attrs||[],p=function t_(s){for(let o=0;o<s.length;o++)if(pr(s[o]))return o;return s.length}(h);let y=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!Nh(s,E,a)||""===E&&1===o.length){if(Js(u))return!1;y=!0}}else{const I=8&u?E:o[++D];if(8&u&&null!==s.attrs){if(!Xm(s.attrs,I,a)){if(Js(u))return!1;y=!0}continue}const P=t1(8&u?"class":E,h,e_(s),a);if(-1===P){if(Js(u))return!1;y=!0;continue}if(""!==I){let B;B=P>p?"":h[P+1].toLowerCase();const Z=8&u?B:null;if(Z&&-1!==d0(Z,I,0)||2&u&&I!==B){if(Js(u))return!1;y=!0}}}}else{if(!y&&!Js(u)&&!Js(E))return!1;if(y&&Js(E))continue;y=!1,u=E|1&u}}return Js(u)||y}function Js(s){return 0==(1&s)}function t1(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function n1(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function ad(s,o,a=!1){for(let u=0;u<o.length;u++)if(e1(s,o[u],a))return!0;return!1}function f0(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function p0(s,o){return s?":not("+o.trim()+")":o}function r1(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const D=s[++a];h+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!Js(y)&&(o+=p0(p,h),h=""),u=y,p=p||!Js(u);a++}return""!==h&&(o+=p0(p,h)),o}const Nt={};function r_(s){i_(Ft(),we(),Tr()+s,gl())}function i_(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&ba(o,p,a)}else{const p=s.preOrderHooks;null!==p&&vl(o,p,0,a)}$s(a)}function ud(s,o){return s<<17|o<<2}function No(s){return s>>17&32767}function o_(s){return 2|s}function Fa(s){return(131068&s)>>2}function zu(s,o){return-131069&s|o<<2}function Oh(s){return 1|s}function I0(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const y=s.data[p];bu(h),y.contentQueries(2,o[p],p)}}}function Mh(s,o,a,u,h,p,y,D,E,I){const N=o.blueprint.slice();return N[0]=h,N[2]=140|u,Us(N),N[3]=N[15]=s,N[8]=a,N[10]=y||s&&s[10],N[11]=D||s&&s[11],N[12]=E||s&&s[12]||null,N[9]=I||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function dd(s,o,a,u,h){let p=s.data[o];if(null===p)p=S0(s,o,a,u,h),function _u(){return gt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const y=zo();p.injectorIndex=null===y?-1:y.injectorIndex}return Kr(p,!0),p}function S0(s,o,a,u,h){const p=Wo(),y=pu(),E=s.data[o]=function nO(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function xh(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Bp(s,o,a){uo(o);try{const u=s.viewQuery;null!==u&&D_(1,u,a);const h=s.template;null!==h&&m1(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&I0(s,o),s.staticViewQueries&&D_(2,s.viewQuery,a);const p=s.components;null!==p&&function g1(s,o){for(let a=0;a<o.length;a++)P1(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ho()}}function Rh(s,o,a,u){const h=o[2];if(256==(256&h))return;uo(o);const p=gl();try{Us(o),function ml(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&m1(s,o,a,2,u);const y=3==(3&h);if(!p)if(y){const I=s.preOrderCheckHooks;null!==I&&ba(o,I,null)}else{const I=s.preOrderHooks;null!==I&&vl(o,I,0,null),Fn(o,0)}if(function R1(s){for(let o=Hu(s);null!==o;o=td(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(1024&h[2])&&Bs(p,1),h[2]|=1024}}}(o),function x1(s){for(let o=Hu(s);null!==o;o=td(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];ds(u)&&Rh(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&I0(s,o),!p)if(y){const I=s.contentCheckHooks;null!==I&&ba(o,I)}else{const I=s.contentHooks;null!==I&&vl(o,I,1),Fn(o,1)}!function T0(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)$s(~h);else{const p=h,y=a[++u],D=a[++u];yl(y,p),D(2,o[p])}}}finally{$s(-1)}}(s,o);const D=s.components;null!==D&&function p1(s,o){for(let a=0;a<o.length;a++)k1(s,o[a])}(o,D);const E=s.viewQuery;if(null!==E&&D_(2,E,u),!p)if(y){const I=s.viewCheckHooks;null!==I&&ba(o,I)}else{const I=s.viewHooks;null!==I&&vl(o,I,2),Fn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Bs(o[3],-1))}finally{ho()}}function XN(s,o,a,u){const h=o[10],p=!gl(),y=Vs(o);try{p&&!y&&h.begin&&h.begin(),y&&Bp(s,o,u),Rh(s,o,a,u)}finally{p&&!y&&h.end&&h.end()}}function m1(s,o,a,u,h){const p=Tr(),y=2&u;try{$s(-1),y&&o.length>20&&i_(s,o,20,gl()),a(u,h)}finally{$s(p)}}function f_(s,o,a){!pl()||(function C1(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Mn(a,o),Ar(u,o);const y=a.initialInputs;for(let D=h;D<p;D++){const E=s.data[D],I=zr(E);I&&N1(o,a,E);const N=zi(o,s,D,a);Ar(N,o),null!==y&&O1(0,D-h,N,E,0,y),I&&(Cr(a.index,o)[8]=N)}}(s,o,a,Er(a,o)),128==(128&a.flags)&&function T1(s,o,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,D=function yu(){return gt.lFrame.currentDirectiveIndex}();try{$s(y);for(let E=u;E<h;E++){const I=s.data[E],N=o[E];ya(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&x0(I,N)}}finally{$s(-1),ya(D)}}(s,o,a))}function p_(s,o,a=Er){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],D=-1===y?a(o,s):s[y];s[h++]=D}}}function _1(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=g_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function g_(s,o,a,u,h,p,y,D,E,I){const N=20+u,P=N+h,B=function eO(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Nt);return a}(N,P),Z="function"==typeof I?I():I;return B[1]={type:s,blueprint:B,template:a,queries:null,viewQuery:D,declTNode:o,data:B.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1}}function v1(s,o,a,u){const h=B1(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&G1(s).push(u,h.length-1))}function b1(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function bs(s,o,a,u,h,p,y,D){const E=Er(o,a);let N,I=o.inputs;!D&&null!=I&&(N=I[u])?(H1(s,a,N,u,h),xs(o)&&function iO(s,o){const a=Cr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function D1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=y?y(h,o.value||"",u):h,_n(p)?p.setProperty(E,u,h):vn(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function m_(s,o,a,u){let h=!1;if(pl()){const p=function I1(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];ad(a,y.selectors,!1)&&(h||(h=[]),po(Mn(a,o),s,y.type),zr(y)?(R0(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===u?null:{"":-1};if(null!==p){h=!0,k0(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let D=!1,E=!1,I=xh(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=ct(a.mergedAttrs,P.hostAttrs),P0(s,a,o,I,P),A1(I,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const B=P.type.prototype;!D&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!E&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function rO(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,y=[];let D=null,E=null;for(let I=o.directiveStart;I<u;I++){const N=h[I],P=N.inputs,B=null===p||e_(o)?null:M1(P,p);y.push(B),D=b1(P,I,D),E=b1(N.outputs,I,E)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=D,o.outputs=E}(s,a)}y&&function S1(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new xe(-301,!1);u.push(o[h],p)}}}(a,u,y)}return a.mergedAttrs=ct(a.mergedAttrs,a.attrs),h}function M0(s,o,a,u,h,p){const y=p.hostBindings;if(y){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const E=~o.index;(function E1(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=E&&D.push(E),D.push(u,h,y)}}function x0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function R0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function A1(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;zr(o)&&(a[""]=s)}}function k0(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function P0(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=qr(h.type)),y=new qo(p,zr(h),null);s.blueprint[u]=y,a[u]=y,M0(s,o,0,u,xh(s,a,h.hostVars,Nt),h)}function N1(s,o,a){const u=Er(o,s),h=_1(a),p=s[10],y=Gp(s,Mh(s,h,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=y}function __(s,o,a,u,h,p,y){if(null==p)_n(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const D=null==y?pe(p):y(p,u||"",h);_n(s)?s.setAttribute(o,h,D,a):a?o.setAttributeNS(a,h,D):o.setAttribute(h,D)}}function O1(s,o,a,u,h,p){const y=p[o];if(null!==y){const D=u.setInput;for(let E=0;E<y.length;){const I=y[E++],N=y[E++],P=y[E++];null!==D?u.setInput(a,P,I,N):a[N]=P}}}function M1(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function F0(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function k1(s,o){const a=Cr(o,s);if(ds(a)){const u=a[1];80&a[2]?Rh(u,a,u.template,a[8]):a[5]>0&&kh(a)}}function kh(s){for(let u=Hu(s);null!==u;u=td(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const y=p[1];Rh(y,p,y.template,p[8])}else p[5]>0&&kh(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Cr(a[u],s);ds(h)&&h[5]>0&&kh(h)}}function P1(s,o){const a=Cr(o,s),u=a[1];(function F1(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Bp(u,a,a[8])}function Gp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function y_(s){for(;s;){s[2]|=64;const o=Rn(s);if(yc(s)&&!o)return s;s=o}return null}function b_(s,o,a){const u=o[10];u.begin&&u.begin();try{Rh(s,o,s.template,a)}catch(h){throw j1(o,h),h}finally{u.end&&u.end()}}function L0(s){!function v_(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Xc(a),h=u[1];XN(h,u,h.template,a)}}(s[8])}function D_(s,o,a){bu(0),o(s,a)}const dO=(()=>Promise.resolve(null))();function B1(s){return s[7]||(s[7]=[])}function G1(s){return s.cleanup||(s.cleanup=[])}function j1(s,o){const a=s[9],u=a?a.get(yr,null):null;u&&u.handleError(o)}function H1(s,o,a,u,h){for(let p=0;p<a.length;){const y=a[p++],D=a[p++],E=o[y],I=s.data[y];null!==I.setInput?I.setInput(E,h,u,D):E[D]=h}}function w_(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const D=o[y];"number"==typeof D?p=D:1==p?h=ce(h,D):2==p&&(u=ce(u,D+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const E_=new Un("INJECTOR",-1);class $1{get(o,a=qs){if(a===qs){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return a}}const U0=new Un("Set Injector scope."),Ph={},W1={};let B0;function G0(){return void 0===B0&&(B0=new $1),B0}function j0(s,o=null,a=null,u){const h=H0(s,o,a,u);return h._resolveInjectorDefTypes(),h}function H0(s,o=null,a=null,u){return new z1(s,a,o||G0(),u)}class z1{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&di(a,D=>this.processProvider(D,o,a)),di([o],D=>this.processInjectorType(D,[],p)),this.records.set(E_,hd(void 0,this));const y=this.records.get(U0);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=qs,u=dt.Default){this.assertNotDestroyed();const h=Oe(this),p=Wn(void 0);try{if(!(u&dt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function qu(s){return"function"==typeof s||"object"==typeof s&&s instanceof Un}(o)&&jt(o);D=E&&this.injectableDefInScope(E)?hd(C_(o),Ph):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(u&dt.Self?G0():this.parent).get(o,a=u&dt.Optional&&a===qs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Al]=y[Al]||[]).unshift(fe(o)),h)throw y;return function wo(s,o,a,u){const h=s[Al];throw o[L]&&h.unshift(o[L]),s.message=function Ea(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let D=o[y];p.push(y+":"+("string"==typeof D?JSON.stringify(D):fe(D)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(T,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Al]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Wn(p),Oe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(fe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(o,a,u){if(!(o=Q(o)))return!1;let h=xr(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,D=-1!==u.indexOf(y);if(void 0!==p&&(h=xr(p)),null==h)return!1;if(null!=h.imports&&!D){let N;u.push(y);try{di(h.imports,P=>{this.processInjectorType(P,a,u)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:B,providers:Z}=N[P];di(Z,ye=>this.processProvider(ye,B,Z||ft))}}this.injectorDefTypes.add(y);const E=qr(y)||(()=>new y);this.records.set(y,hd(E,Ph));const I=h.providers;if(null!=I&&!D){const N=o;di(I,P=>this.processProvider(P,N,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let h=fd(o=Q(o))?o:Q(o&&o.provide);const p=function mO(s,o,a){return q1(s)?hd(void 0,s.useValue):hd($0(s),Ph)}(o);if(fd(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=hd(void 0,Ph,!0),y.factory=()=>Tt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===Ph&&(a.value=W1,a.value=a.factory()),"object"==typeof a.value&&a.value&&function T_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function C_(s){const o=jt(s),a=null!==o?o.factory:qr(s);if(null!==a)return a;if(s instanceof Un)throw new xe(204,!1);if(s instanceof Function)return function gO(s){const o=s.length;if(o>0)throw xi(o,"?"),new xe(204,!1);const a=function ii(s){const o=s&&(s[Gi]||s[is]);if(o){const a=function Ss(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new xe(204,!1)}function $0(s,o,a){let u;if(fd(s)){const h=Q(s);return qr(h)||C_(h)}if(q1(s))u=()=>Q(s.useValue);else if(function _O(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Tt(s.deps||[]));else if(function jp(s){return!(!s||!s.useExisting)}(s))u=()=>rt(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function La(s){return!!s.deps}(s))return qr(h)||C_(h);u=()=>new h(...Tt(s.deps))}return u}function hd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function q1(s){return null!==s&&"object"==typeof s&&q in s}function fd(s){return"function"==typeof s}let Oo=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return j0({name:""},u,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return j0({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=qs,s.NULL=new $1,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>rt(E_)}),s.__NG_ELEMENT_ID__=-1,s})();function Q0(s,o){hs(Xc(s)[1],Dn())}function X0(s){let o=function rC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(zr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const y=s;y.inputs=Fh(s.inputs),y.declaredInputs=Fh(s.declaredInputs),y.outputs=Fh(s.outputs);const D=h.hostBindings;D&&tb(s,D);const E=h.viewQuery,I=h.contentQueries;if(E&&iC(s,E),I&&sC(s,I),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),zr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const D=p[y];D&&D.ngInherit&&D(s),D===X0&&(a=!1)}}o=Object.getPrototypeOf(o)}!function eb(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=ct(h.hostAttrs,a=ct(a,h.hostAttrs))}}(u)}function Fh(s){return s===cr?{}:s===ft?[]:s}function iC(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function sC(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function tb(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let Mo=null;function Yu(){if(!Mo){const s=Gt.Symbol;if(s&&s.iterator)Mo=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Mo=u)}}}return Mo}function ql(s){return!!A_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Yu()in s)}function A_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ra(s,o,a){return s[o]=a}function pi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Ds(s,o,a,u){const h=pi(s,o,a);return pi(s,o+1,u)||h}function rb(s,o,a,u){const h=we();return pi(h,js(),o)&&(Ft(),function na(s,o,a,u,h,p){const y=Er(s,o);__(o[11],y,p,s.value,a,u,h)}(Tn(),h,s,o,a,u)),rb}function Ju(s,o,a,u){return pi(s,js(),a)?o+pe(a)+u:Nt}function gC(s,o,a,u,h,p,y,D){const E=we(),I=Ft(),N=s+20,P=I.firstCreatePass?function CO(s,o,a,u,h,p,y,D,E){const I=o.consts,N=dd(o,s,4,y||null,Zr(I,D));m_(o,a,N,Zr(I,E)),hs(o,N);const P=N.tViews=g_(2,N,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,I,E,o,a,u,h,p,y):I.data[N];Kr(P,!1);const B=E[11].createComment("");Ji(I,E,B,P),Ar(B,E),Gp(E,E[N]=F0(B,E,B,P)),nl(P)&&f_(I,E,P),null!=y&&p_(E,P,D)}function _C(s){return function Ai(s,o){return s[o]}(function mu(){return gt.lFrame.contextLView}(),20+s)}function $h(s,o=dt.Default){const a=we();return null===a?rt(s,o):mo(Dn(),a,Q(s),o)}function xC(){throw new Error("invalid")}function fb(s,o,a){const u=we();return pi(u,js(),o)&&bs(Ft(),Tn(),u,s,o,u[11],a,!1),fb}function pb(s,o,a,u,h){const y=h?"class":"style";H1(s,a,o.inputs[y],y,u)}function R_(s,o,a,u){const h=we(),p=Ft(),y=20+s,D=h[11],E=h[y]=rd(D,o,function Rm(){return gt.lFrame.currentNamespace}()),I=p.firstCreatePass?function RO(s,o,a,u,h,p,y){const D=o.consts,I=dd(o,s,2,h,Zr(D,p));return m_(o,a,I,Zr(D,y)),null!==I.attrs&&w_(I,I.attrs,!1),null!==I.mergedAttrs&&w_(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,h,0,o,a,u):p.data[y];Kr(I,!0);const N=I.mergedAttrs;null!==N&&$i(D,E,N);const P=I.classes;null!==P&&Ao(D,E,P);const B=I.styles;return null!==B&&c0(D,E,B),64!=(64&I.flags)&&Ji(p,h,E,I),0===function _a(){return gt.lFrame.elementDepthCount}()&&Ar(E,h),function hl(){gt.lFrame.elementDepthCount++}(),nl(I)&&(f_(p,h,I),function A0(s,o,a){if(_c(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,I,h)),null!==u&&p_(h,I),R_}function k_(){let s=Dn();pu()?gu():(s=s.parent,Kr(s,!1));const o=s;!function fl(){gt.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(hs(a,s),_c(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function eh(s){return 0!=(16&s.flags)}(o)&&pb(a,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function op(s){return 0!=(32&s.flags)}(o)&&pb(a,o,we(),o.stylesWithoutHost,!1),k_}function gb(s,o,a,u){return R_(s,o,a,u),k_(),gb}function kC(){return we()}function yb(s){return!!s&&"function"==typeof s.then}function vb(s){return!!s&&"function"==typeof s.subscribe}const PC=vb;function bb(s,o,a,u){const h=we(),p=Ft(),y=Dn();return function LC(s,o,a,u,h,p,y,D){const E=nl(u),N=s.firstCreatePass&&G1(s),P=o[8],B=B1(o);let Z=!0;if(3&u.type||D){const Be=Er(u,o),it=D?D(Be):Be,Ce=B.length,lt=D?Zt=>D(an(Zt[u.index])):u.index;if(_n(a)){let Zt=null;if(!D&&E&&(Zt=function PO(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===u){const D=o[7],E=h[p+2];return D.length>E?D[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,u.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=p,Zt.__ngLastListenerFn__=p,Z=!1;else{p=qp(u,o,P,p,!1);const mn=a.listen(it,h,p);B.push(p,mn),N&&N.push(h,lt,Ce,Ce+1)}}else p=qp(u,o,P,p,!0),it.addEventListener(h,p,y),B.push(p),N&&N.push(h,lt,Ce,y)}else p=qp(u,o,P,p,!1);const ye=u.outputs;let Pe;if(Z&&null!==ye&&(Pe=ye[h])){const Be=Pe.length;if(Be)for(let it=0;it<Be;it+=2){const Nr=o[Pe[it]][Pe[it+1]].subscribe(p),ru=B.length;B.push(p,Nr),N&&N.push(h,u.index,ru,-(ru+1))}}}(p,h,h[11],y,s,o,!!a,u),bb}function VC(s,o,a,u){try{return!1!==a(u)}catch(h){return j1(s,h),!1}}function qp(s,o,a,u,h){return function p(y){if(y===Function)return u;const D=2&s.flags?Cr(s.index,o):o;0==(32&o[2])&&y_(D);let E=VC(o,0,u,y),I=p.__ngNextListenerFn__;for(;I;)E=VC(o,0,I,y)&&E,I=I.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function UC(s=1){return function Hs(s){return(gt.lFrame.contextLView=function wu(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function xo(s,o){let a=null;const u=function h0(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?ad(s,p,!0):f0(u,p))return h}else a=h}return a}function Sn(s){const o=we()[16][6];if(!o.projection){const u=o.projection=xi(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const y=s?xo(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function Zp(s,o=0,a){const u=we(),h=Ft(),p=dd(h,20+s,16,null,a||null);null===p.projection&&(p.projection=o),gu(),64!=(64&p.flags)&&function od(s,o,a){Wu(o[11],0,o,a,n0(s,a,o),o0(a.parent||o[6],a,o))}(h,u,p)}function Kp(s,o,a){return yd(s,"",o,"",a),Kp}function yd(s,o,a,u,h){const p=we(),y=Ju(p,o,a,u);return y!==Nt&&bs(Ft(),Tn(),p,s,y,p[11],h,!1),yd}function Qu(s,o,a,u,h){const p=s[a+1],y=null===o;let D=u?No(p):Fa(p),E=!1;for(;0!==D&&(!1===E||y);){const N=s[D+1];Xu(s[D],o)&&(E=!0,s[D+1]=u?Oh(N):o_(N)),D=u?No(N):Fa(N)}E&&(s[a+1]=u?o_(p):Oh(p))}function Xu(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xo(s,o)>=0}const Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zh(s){return s.substring(Bn.key,Bn.keyEnd)}function Zl(s,o){const a=Bn.textEnd;return a===o?-1:(o=Bn.keyEnd=function LO(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Bn.key=o,a),qh(s,o,a))}function qh(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Ib(s,o,a){return Xs(s,o,a,!1),Ib}function Sb(s,o){return Xs(s,o,null,!0),Sb}function qC(s){!function Ro(s,o,a,u){const h=Ft(),p=Ni(2);h.firstUpdatePass&&F_(h,null,p,u);const y=we();if(a!==Nt&&pi(y,p,a)){const D=h.data[Tr()];if(Mb(D,u)&&!Qp(h,p)){let E=u?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(a=ce(E,a||"")),pb(h,D,y,a,u)}else!function YC(s,o,a,u,h,p,y,D){h===Nt&&(h=ft);let E=0,I=0,N=0<h.length?h[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const B=E<h.length?h[E+1]:void 0,Z=I<p.length?p[I+1]:void 0;let Pe,ye=null;N===P?(E+=2,I+=2,B!==Z&&(ye=P,Pe=Z)):null===P||null!==N&&N<P?(E+=2,ye=N):(I+=2,ye=P,Pe=Z),null!==ye&&L_(s,o,a,u,ye,Pe,y,D),N=E<h.length?h[E]:null,P=I<p.length?p[I]:null}}(h,D,y,y[11],y[p+1],y[p+1]=function ec(s,o,a){if(null==a||""===a)return ft;const u=[],h=Ks(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,p)}}(Pr,Ua,s,!0)}function Ua(s,o){for(let a=function Jp(s){return function $C(s){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=s.length}(s),Zl(s,qh(s,0,Bn.textEnd))}(o);a>=0;a=Zl(o,a))Pr(s,zh(o),!0)}function Xs(s,o,a,u){const h=we(),p=Ft(),y=Ni(2);p.firstUpdatePass&&F_(p,s,y,u),o!==Nt&&pi(h,y,o)&&L_(p,p.data[Tr()],h,h[11],s,h[y+1]=function JC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Ks(s)))),s}(o,a),u,y)}function Qp(s,o){return o>=s.expandoStartIndex}function F_(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[Tr()],y=Qp(s,a);Mb(p,u)&&null===o&&!y&&(o=!1),o=function Ab(s,o,a,u){const h=function va(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=bd(a=Nb(null,s,o,a,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=Nb(h,s,o,a,u),null===p){let E=function Xp(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Fa(u))return s[No(u)]}(s,o,u);void 0!==E&&Array.isArray(E)&&(E=Nb(null,s,o,E[1],u),E=bd(E,o.attrs,u),function ZC(s,o,a,u){s[No(a?o.classBindings:o.styleBindings)]=u}(s,o,u,E))}else p=function eg(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=bd(u,s[p].hostAttrs,a);return bd(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function GC(s,o,a,u,h,p){let y=p?o.classBindings:o.styleBindings,D=No(y),E=Fa(y);s[u]=a;let N,I=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||Xo(P,N)>0)&&(I=!0)}else N=a;if(h)if(0!==E){const B=No(s[D+1]);s[u+1]=ud(B,D),0!==B&&(s[B+1]=zu(s[B+1],u)),s[D+1]=function i1(s,o){return 131071&s|o<<17}(s[D+1],u)}else s[u+1]=ud(D,0),0!==D&&(s[D+1]=zu(s[D+1],u)),D=u;else s[u+1]=ud(E,0),0===D?D=u:s[E+1]=zu(s[E+1],u),E=u;I&&(s[u+1]=o_(s[u+1])),Qu(s,N,u,!0),Qu(s,N,u,!1),function jC(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Xo(p,o)>=0&&(a[u+1]=Oh(a[u+1]))}(o,N,s,u,p),y=ud(D,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,u)}}function Nb(s,o,a,u,h){let p=null;const y=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<y&&(p=o[D],u=bd(u,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),u}function bd(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Pr(s,y,!!a||o[++p]))}return void 0===s?null:s}function L_(s,o,a,u,h,p,y,D){if(!(3&o.type))return;const E=s.data,I=E[D+1];Kl(function m0(s){return 1==(1&s)}(I)?Ob(E,o,a,h,Fa(I),y):void 0)||(Kl(p)||function g0(s){return 2==(2&s)}(I)&&(p=Ob(E,null,a,h,D,y)),function Qm(s,o,a,u,h){const p=_n(s);if(o)h?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:se.DashCase;if(null==h)p?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const D="string"==typeof h&&h.endsWith("!important");D&&(h=h.slice(0,-10),y|=se.Important),p?s.setStyle(a,u,h,y):a.style.setProperty(u,h,D?"important":"")}}}(u,y,lo(Tr(),a),h,p))}function Ob(s,o,a,u,h,p){const y=null===o;let D;for(;h>0;){const E=s[h],I=Array.isArray(E),N=I?E[1]:E,P=null===N;let B=a[h+1];B===Nt&&(B=P?ft:void 0);let Z=P?Uc(B,u):N===u?B:void 0;if(I&&!Kl(Z)&&(Z=Uc(E,u)),Kl(Z)&&(D=Z,y))return D;const ye=s[h+1];h=y?No(ye):Fa(ye)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(D=Uc(E,u))}return D}function Kl(s){return void 0!==s}function Mb(s,o){return 0!=(s.flags&(o?16:32))}function xb(s,o=""){const a=we(),u=Ft(),h=s+20,p=u.firstCreatePass?dd(u,h,1,o,null):u.data[h],y=a[h]=nd(a[11],o);Ji(u,a,y,p),Kr(p,!1)}function V_(s){return tg("",s,""),V_}function tg(s,o,a){const u=we(),h=Ju(u,s,o,a);return h!==Nt&&function zl(s,o,a){const u=lo(o,s);Gl(s[11],u,a)}(u,Tr(),h),tg}function Zb(s,o,a){const u=we();return pi(u,js(),o)&&bs(Ft(),Tn(),u,s,o,u[11],a,!0),Zb}const Yl=void 0;var zO=["en",[["a","p"],["AM","PM"],Yl],[["AM","PM"],Yl,Yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yl,"{1} 'at' {0}",Yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WO(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let tc={};function Kb(s){const o=function cT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=uT(o);if(a)return a;const u=o.split("-")[0];if(a=uT(u),a)return a;if("en"===u)return zO;throw new Error(`Missing locale data for the locale "${s}".`)}function lT(s){return Kb(s)[Et.PluralCase]}function uT(s){return s in tc||(tc[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),tc[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const qO=["zero","one","two","few","many"],ig="en-US",W_={marker:"element"},Zh={marker:"ICU"};var Jn=(()=>((Jn=Jn||{})[Jn.SHIFT=2]="SHIFT",Jn[Jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jn[Jn.COMMENT=2]="COMMENT",Jn))();let Yb=ig;function z_(s,o,a){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?a0(s,0,a):an(a[h])}function fT(s,o,a,u,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=u,D=null;if(3&o.type||(D=y,y=h),null!==y&&0==(2&o.flags))for(let E=1;E<p.length;E++)$u(s,y,a[p[E]],D,!1)}}function pT(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];gT(u)||JO(u,o)&&null===Jb(u)&&QO(u,o.index)}}function gT(s){return!(64&s.type)}function JO(s,o){return gT(o)||s.index>o.index}function Jb(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function QO(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(u0(z_,fT),s.insertBeforeIndex=o)}function sg(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function mT(s,o,a){const u=S0(s,a,64,null,null);return pT(o,u),u}function q_(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function _T(s){return s>>>17}function yT(s){return(131070&s)>>>1}let Kh=0,Yh=0;function Xb(s,o,a,u){const h=a[11];let y,p=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const I=o[++D];null===a[I]&&(a[I]=nd(h,E))}else if("number"==typeof E)switch(1&E){case 0:const I=_T(E);let N,P;if(null===p&&(p=I,y=Lp(h,u)),I===p?(N=u,P=y):(N=null,P=an(a[I])),null!==P){const Pe=yT(E);$u(h,P,a[Pe],N,!1);const it=sg(s,Pe);if(null!==it&&"object"==typeof it){const Ce=q_(it,a);null!==Ce&&Xb(s,it.create[Ce],a,a[it.anchorIdx])}}break;case 1:const Z=o[++D],ye=o[++D];__(h,lo(E>>>1,a),null,null,Z,ye,null)}else switch(E){case Zh:const I=o[++D],N=o[++D];null===a[N]&&Ar(a[N]=_s(h,I),a);break;case W_:const P=o[++D],B=o[++D];null===a[B]&&Ar(a[B]=rd(h,P,null),a)}}}function eD(s,o,a,u,h){for(let p=0;p<a.length;p++){const y=a[p],D=a[++p];if(y&h){let E="";for(let I=p+1;I<=p+D;I++){const N=a[I];if("string"==typeof N)E+=N;else if("number"==typeof N)if(N<0)E+=pe(o[u-N]);else{const P=N>>>2;switch(3&N){case 1:const B=a[++I],Z=a[++I],ye=s.data[P];"string"==typeof ye?__(o[11],o[P],null,ye,B,E,Z):bs(s,ye,o,B,E,o[11],Z,!1);break;case 0:const Pe=o[P];null!==Pe&&Gl(o[11],Pe,E);break;case 2:ET(s,sg(s,P),o,E);break;case 3:Jh(s,sg(s,P),u,o)}}}}else{const E=a[p+1];if(E>0&&3==(3&E)){const N=sg(s,E>>>2);o[N.currentCaseLViewIndex]<0&&Jh(s,N,u,o)}}p+=D}}function Jh(s,o,a,u){let h=u[o.currentCaseLViewIndex];if(null!==h){let p=Kh;h<0&&(h=u[o.currentCaseLViewIndex]=~h,p=-1),eD(s,u,o.update[h],a,p)}}function ET(s,o,a,u){const h=function tD(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function ZO(s,o){const a=lT(o)(parseInt(s,10)),u=qO[a];return void 0!==u?u:"other"}(o,function hT(){return Yb}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(q_(o,a)!==h&&(Qh(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=a[o.anchorIdx];y&&Xb(s,o.create[h],a,y)}}function Qh(s,o,a){let u=q_(o,a);if(null!==u){const h=o.remove[u];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const D=lo(y,a);null!==D&&Ra(a[11],D)}else Qh(s,sg(s,~y),a)}}}function nD(){const s=[];let a,u,o=-1;function p(D,E){o=0;const I=q_(D,E);u=null!==I?D.remove[I]:ft}function y(){if(o<u.length){const D=u[o++];return D>0?a[D]:(s.push(o,u),p(a[1].data[~D],a),y())}return 0===s.length?null:(u=s.pop(),o=s.pop(),y())}return function h(D,E){for(a=E;s.length;)s.pop();return p(D.value,E),y}}const Jl=/\ufffd(\d+):?\d*\ufffd/gi,rD=/\ufffd(\d+)\ufffd/,iD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,TT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,IT=/\uE500/g;function wd(s,o,a,u,h,p,y){const D=xh(s,u,1,null);let E=D<<Jn.SHIFT,I=zo();o===I&&(I=null),null===I&&(E|=Jn.APPEND_EAGERLY),y&&(E|=Jn.COMMENT,function _t(s){void 0===Ve&&(Ve=s())}(nD)),h.push(E,null===p?"":p);const N=S0(s,D,y?32:1,null===p?"":p,null);pT(a,N);const P=N.index;return Kr(N,!1),null!==I&&o!==I&&function eM(s,o){let a=s.insertBeforeIndex;null===a?(u0(z_,fT),a=s.insertBeforeIndex=[null,o]):(function z(s,o,a){s!=o&&vt(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(I,P),N}function sD(s,o,a,u,h,p,y){const D=y.match(Jl),E=wd(s,o,a,p,u,D?null:y,!1);D&&Ed(h,y,E.index,null,0,null)}function Ed(s,o,a,u,h,p){const y=s.length,D=y+1;s.push(null,null);const E=y+2,I=o.split(Jl);let N=0;for(let P=0;P<I.length;P++){const B=I[P];if(1&P){const Z=h+parseInt(B,10);s.push(-1-Z),N|=oD(Z)}else""!==B&&s.push(B)}return s.push(a<<2|(u?1:0)),u&&s.push(u,p),s[y]=N,s[D]=s.length-E,N}function oD(s){return 1<<Math.min(s,31)}function aD(s){let o,p,a="",u=0,h=!1;for(;null!==(o=TT.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(u=o.index,h=!1):(a+=s.substring(u,o.index+o[0].length),p=o[1],h=!0);return a+=s.substr(u),a}function Y_(s,o,a,u,h,p){let y=0;const D={type:h.type,currentCaseLViewIndex:xh(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function xT(s,o,a){s.push(oD(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function XO(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,p,D);const E=h.values;for(let I=0;I<E.length;I++){const N=E[I],P=[];for(let B=0;B<N.length;B++){const Z=N[B];if("string"!=typeof Z){const ye=P.push(Z)-1;N[B]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}y=MT(s,D,o,a,u,h.cases[I],N.join(""),P)|y}y&&function Cd(s,o,a){s.push(o,1,a<<2|3)}(a,y,p)}function OT(s){const o=[],a=[];let u=1,h=0;const p=J_(s=s.replace(iD,function(y,D,E){return u="select"===E?0:1,h=parseInt(D.substr(1),10),""}));for(let y=0;y<p.length;){let D=p[y++].trim();1===u&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=J_(p[y++]);o.length>a.length&&a.push(E)}return{type:u,mainBinding:h,cases:o,values:a}}function J_(s){if(!s)return[];let o=0;const a=[],u=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=s.substring(o,D);iD.test(E)?u.push(OT(E)):u.push(E),o=D+1}}else{if(0==a.length){const E=s.substring(o,D);u.push(E),o=D+1}a.push("{")}}const y=s.substring(o);return u.push(y),u}function MT(s,o,a,u,h,p,y,D){const E=[],I=[],N=[];o.cases.push(p),o.create.push(E),o.remove.push(I),o.update.push(N);const B=function _p(s){const o=new hh(s);return function vp(){try{return!!(new window.DOMParser).parseFromString(Nl(""),"text/html")}catch(s){return!1}}()?new yp(o):o}(ga()).getInertBodyElement(y),Z=function Ep(s){return"content"in s&&function Qv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(B)||B;return Z?uD(s,o,a,u,E,I,N,Z,h,D,0):0}function uD(s,o,a,u,h,p,y,D,E,I,N){let P=0,B=D.firstChild;for(;B;){const Z=xh(s,a,1,null);switch(B.nodeType){case Node.ELEMENT_NODE:const ye=B,Pe=ye.tagName.toLowerCase();if(Vu.hasOwnProperty(Pe)){ag(h,W_,Pe,E,Z),s.data[Z]=Pe;const lt=ye.attributes;for(let Zt=0;Zt<lt.length;Zt++){const mn=lt.item(Zt),Nr=mn.name.toLowerCase();mn.value.match(Jl)?Pl.hasOwnProperty(Nr)&&Ed(y,mn.value,Z,mn.name,0,fh[Nr]?To:Kc[Nr]?Ia:null):X_(h,Z,mn)}P=uD(s,o,a,u,h,p,y,B,Z,I,N+1)|P,Q_(p,Z,N)}break;case Node.TEXT_NODE:const Be=B.textContent||"",it=Be.match(Jl);ag(h,null,it?"":Be,E,Z),Q_(p,Z,N),it&&(P=Ed(y,Be,Z,null,0,null)|P);break;case Node.COMMENT_NODE:const Ce=rD.exec(B.textContent||"");if(Ce){const Zt=I[parseInt(Ce[1],10)];ag(h,Zh,"",E,Z),Y_(s,a,u,E,Zt,Z),Wt(p,Z,N)}}B=B.nextSibling}return P}function Q_(s,o,a){0===a&&s.push(o)}function Wt(s,o,a){0===a&&(s.push(~o),s.push(o))}function ag(s,o,a,u,h){null!==o&&s.push(o),s.push(a,h,function Qb(s,o,a){return s|o<<17|a<<1}(0,u,h))}function X_(s,o,a){s.push(o<<1|1,a.name,a.value)}function ko(s,o,a=-1){const u=Ft(),h=we(),p=20+s,y=Zr(u.consts,o),D=zo();u.firstCreatePass&&function K_(s,o,a,u,h,p){const y=zo(),D=[],E=[],I=[[]];h=function lD(s,o){if(function NT(s){return-1===s}(o))return aD(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return aD(s.substring(a,u))}}(h,p);const N=function Ga(s){return s.replace(IT," ")}(h).split(nc);for(let P=0;P<N.length;P++){let B=N[P];if(0==(1&P)){const Z=J_(B);for(let ye=0;ye<Z.length;ye++){let Pe=Z[ye];if(0==(1&ye)){const Be=Pe;""!==Be&&sD(s,y,I[0],D,E,a,Be)}else{const Be=Pe;if("object"!=typeof Be)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Y_(s,a,E,o,Be,wd(s,y,I[0],a,D,"",!0).index)}}}else{const Z=47===B.charCodeAt(0),Pe=(B.charCodeAt(Z?1:0),20+Number.parseInt(B.substring(Z?2:1)));if(Z)I.shift(),Kr(zo(),!1);else{const Be=mT(s,I[0],Pe);I.unshift([]),Kr(Be,!0)}}}s.data[u]={create:D,update:E}}(u,null===D?0:D.index,h,p,y,a);const E=u.data[p],N=Km(u,D===h[6]?null:D,h);(function wT(s,o,a,u){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],D=o[p],E=(y&Jn.COMMENT)===Jn.COMMENT,I=(y&Jn.APPEND_EAGERLY)===Jn.APPEND_EAGERLY,N=y>>>Jn.SHIFT;let P=s[N];null===P&&(P=s[N]=E?h.createComment(D):nd(h,D)),I&&null!==a&&$u(h,a,P,u,!1)}})(h,E.create,N,D&&8&D.type?h[D.index]:null),_l(!0)}function gD(s,o,a){ko(s,o,a),function pD(){_l(!1)}()}function lg(s){return function bT(s){s&&(Kh|=1<<Math.min(Yh,31)),Yh++}(pi(we(),js(),s)),lg}function _D(s){!function DT(s,o,a){if(Yh>0){const u=s.data[a];eD(s,o,Array.isArray(u)?u:u.update,function ui(){return gt.lFrame.bindingIndex}()-Yh-1,Kh)}Kh=0,Yh=0}(Ft(),we(),s+20)}function ug(s,o,a,u,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)ug(s[p],o,a,u,h);else{const p=Ft(),y=we();let D=fd(s)?s:Q(s.provide),E=$0(s);const I=Dn(),N=1048575&I.providerIndexes,P=I.directiveStart,B=I.providerIndexes>>20;if(fd(s)||!s.multi){const Z=new qo(E,h,$h),ye=ja(D,o,h?N:N+B,P);-1===ye?(po(Mn(I,y),p,D),cg(p,s,o.length),o.push(D),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(Z),y.push(Z)):(a[ye]=Z,y[ye]=Z)}else{const Z=ja(D,o,N+B,P),ye=ja(D,o,N,N+B),Pe=Z>=0&&a[Z],Be=ye>=0&&a[ye];if(h&&!Be||!h&&!Pe){po(Mn(I,y),p,D);const it=function rc(s,o,a,u,h){const p=new qo(s,a,$h);return p.multi=[],p.index=o,p.componentProviders=0,Xh(p,h,u&&!a),p}(h?ef:Yt,a.length,h,u,E);!h&&Be&&(a[ye].providerFactory=it),cg(p,s,o.length,0),o.push(D),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(it),y.push(it)}else cg(p,s,Z>-1?Z:ye,Xh(a[h?ye:Z],E,!h&&u));!h&&u&&Be&&a[ye].componentProviders++}}}function cg(s,o,a,u){const h=fd(o),p=function W0(s){return!!s.useClass}(o);if(h||p){const E=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=I.indexOf(a);-1===N?I.push(a,[u,E]):I[N+1].push(u,E)}else I.push(a,E)}}}function Xh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function ja(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Yt(s,o,a,u){return ey(this.multi,[])}function ef(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=zi(a,a[1],this.providerFactory.index,u);p=D.slice(0,y),ey(h,p);for(let E=y;E<D.length;E++)p.push(D[E])}else p=[],ey(h,p);return p}function ey(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function vD(s,o=[]){return a=>{a.providersResolver=(u,h)=>function PT(s,o,a){const u=Ft();if(u.firstCreatePass){const h=zr(s);ug(a,u.data,u.blueprint,h,!0),ug(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class ty{}class DD{resolveComponentFactory(o){throw function FT(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ic=(()=>{class s{}return s.NULL=new DD,s})();function LT(){return Ql(Dn(),we())}function Ql(s,o){return new Xl(Er(s,o))}let Xl=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=LT,s})();function wD(s){return s instanceof Xl?s.nativeElement:s}class ED{}let UT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function hg(){const s=we(),a=Cr(Dn().index,s);return function BT(s){return s[11]}(Si(a)?a:s)}(),s})(),GT=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class CD{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const TD=new CD("13.3.1"),ny={};function fg(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(an(p)),ai(p))for(let D=10;D<p.length;D++){const E=p[D],I=E[1].firstChild;null!==I&&fg(E[1],E,I,u)}const y=a.type;if(8&y)fg(s,o,a.child,u);else if(32&y){const D=nt(a,o);let E;for(;E=D();)u.push(E)}else if(16&y){const D=vs(o,a);if(Array.isArray(D))u.push(...D);else{const E=Rn(o[16]);fg(E[1],E,D,u,!0)}}a=h?a.projectionNext:a.next}return u}class Td{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return fg(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(jl(o,u),ps(a,u))}this._attachedToViewContainer=!1}sd(this._lView[1],this._lView)}onDestroy(o){v1(this._lView[1],this._lView,null,o)}markForCheck(){y_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){b_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function V1(s,o,a){Gs(!0);try{b_(s,o,a)}finally{Gs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ys(s,o){Hl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=o}}class ry extends Td{constructor(o){super(o),this._view=o}detectChanges(){L0(this._view)}checkNoChanges(){!function U1(s){Gs(!0);try{L0(s)}finally{Gs(!1)}}(this._view)}get context(){return null}}class pg extends ic{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=$t(o);return new gg(a,this.ngModule)}}function sa(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class gg extends ty{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ld(s){return s.map(r1).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return sa(this.componentDef.inputs)}get outputs(){return sa(this.componentDef.outputs)}create(o,a,u,h){const p=(h=h||this.ngModule)?function ID(s,o){return{get:(a,u,h)=>{const p=s.get(a,ny,h);return p!==ny||u===ny?p:o.get(a,u,h)}}}(o,h.injector):o,y=p.get(ED,$o),D=p.get(GT,null),E=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=u?function N0(s,o,a){if(_n(s))return s.selectRootElement(o,a===Ht.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(E,u,this.componentDef.encapsulation):rd(y.createRenderer(null,this.componentDef),I,function Id(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),P=this.componentDef.onPush?576:528,B=function nC(s,o){return{components:[],scheduler:s||Wm,clean:dO,playerHandler:o||null,flags:0}}(),Z=g_(0,null,null,1,0,null,null,null,null,null),ye=Mh(null,Z,B,P,null,null,y,E,D,p);let Pe,Be;uo(ye);try{const it=function I_(s,o,a,u,h,p){const y=a[1];a[20]=s;const E=dd(y,20,2,"#host",null),I=E.mergedAttrs=o.hostAttrs;null!==I&&(w_(E,I,!0),null!==s&&($i(h,s,I),null!==E.classes&&Ao(h,s,E.classes),null!==E.styles&&c0(h,s,E.styles)));const N=u.createRenderer(s,o),P=Mh(a,_1(o),null,o.onPush?64:16,a[20],E,u,N,p||null,null);return y.firstCreatePass&&(po(Mn(E,a),y,o.type),R0(y,E),k0(E,a.length,1)),Gp(a,P),a[20]=P}(N,this.componentDef,ye,y,E);if(N)if(u)$i(E,N,["ng-version",TD.full]);else{const{attrs:Ce,classes:lt}=function n_(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!Js(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&$i(E,N,Ce),lt&&lt.length>0&&Ao(E,N,lt.join(" "))}if(Be=ma(Z,20),void 0!==a){const Ce=Be.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Zt=a[lt];Ce.push(null!=Zt?Array.from(Zt):null)}}Pe=function S_(s,o,a,u,h){const p=a[1],y=function lO(s,o,a){const u=Dn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),P0(s,u,o,xh(s,o,1,null),a));const h=zi(o,s,u.directiveStart,u);Ar(h,o);const p=Er(u,o);return p&&Ar(p,o),h}(p,a,o);if(u.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=Dn();o.contentQueries(1,y,E.directiveStart)}const D=Dn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||($s(D.index),M0(a[1],D,0,D.directiveStart,D.directiveEnd,o),x0(o,y)),y}(it,this.componentDef,ye,B,[Q0]),Bp(Z,ye,null)}finally{ho()}return new SD(this.componentType,Pe,Ql(Be,ye),ye,Be)}}class SD extends class bD{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new ry(h),this.componentType=o}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ha{}class iy{}const eu=new Map;class AD extends Ha{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pg(this);const u=fn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=H0(o,a,[{provide:Ha,useValue:this},{provide:ic,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Oo.THROW_IF_NOT_FOUND,u=dt.Default){return o===Oo||o===Ha||o===E_?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class oy extends iy{constructor(o){super(),this.moduleType=o,null!==fn(o)&&function sy(s){const o=new Set;!function a(u){const h=fn(u,!0),p=h.id;null!==p&&(function mg(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(p,eu.get(p),u),eu.set(p,u));const y=g(h.imports);for(const D of y)o.has(D)||(o.add(D),a(D))}(s)}(o)}create(o){return new AD(this.moduleType,o)}}function rf(s,o,a){const u=fr()+s,h=we();return h[u]===Nt?ra(h,u,a?o.call(a):o()):function gd(s,o){return s[o]}(h,u)}function Ad(s,o,a,u){return function sf(s,o,a,u,h,p){const y=o+a;return pi(s,y,h)?ra(s,y+1,p?u.call(p,h):u(h)):Nd(s,y+1)}(we(),fr(),s,o,a,u)}function _g(s,o,a,u,h){return function OD(s,o,a,u,h,p,y){const D=o+a;return Ds(s,D,h,p)?ra(s,D+2,y?u.call(y,h,p):u(h,p)):Nd(s,D+2)}(we(),fr(),s,o,a,u,h)}function ay(s,o,a,u,h,p){return function yg(s,o,a,u,h,p,y,D){const E=o+a;return function N_(s,o,a,u,h){const p=Ds(s,o,a,u);return pi(s,o+2,h)||p}(s,E,h,p,y)?ra(s,E+3,D?u.call(D,h,p,y):u(h,p,y)):Nd(s,E+3)}(we(),fr(),s,o,a,u,h,p)}function Nd(s,o){const a=s[o];return a===Nt?void 0:a}function dy(s){return o=>{setTimeout(s,void 0,o)}}const oa=class XT extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,p,y;let D=o,E=a||(()=>null),I=u;if(o&&"object"==typeof o){const P=o;D=null===(h=P.next)||void 0===h?void 0:h.bind(P),E=null===(p=P.error)||void 0===p?void 0:p.bind(P),I=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(E=dy(E),D&&(D=dy(D)),I&&(I=dy(I)));const N=super.subscribe({next:D,error:E,complete:I});return o instanceof Y.w0&&o.add(N),N}};function eI(){return this._results[Yu()]()}class sc{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Yu(),u=sc.prototype;u[a]||(u[a]=eI)}get changes(){return this._changes||(this._changes=new oa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=sr(o);(this._changesDetected=!function ir(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $a=(()=>{class s{}return s.__NG_ELEMENT_ID__=hy,s})();const tI=$a,af=class extends tI{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Mh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Bp(a,u,o),new Td(u)}};function hy(){return vg(Dn(),we())}function vg(s,o){return 4&s.type?new af(o,s,Ql(s,o)):null}let lf=(()=>{class s{}return s.__NG_ELEMENT_ID__=RD,s})();function RD(){return fy(Dn(),we())}const nI=lf,kD=class extends nI{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){const o=ci(this._hostTNode,this._hostLView);if(Oi(o)){const a=Ln(o,this._hostLView),u=St(o);return new qi(a[1].data[u+8],a)}return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=bg(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,p){const y=o&&!function Qo(s){return"function"==typeof s}(o);let D;if(y)D=a;else{const P=a||{};D=P.index,u=P.injector,h=P.projectableNodes,p=P.ngModuleRef}const E=y?o:new gg($t(o)),I=u||this.parentInjector;if(!p&&null==E.ngModule){const B=(y?I:this.parentInjector).get(Ha,null);B&&(p=B)}const N=E.create(I,h,void 0,p);return this.insert(N.hostView,D),N}insert(o,a){const u=o._lView,h=u[1];if(function cl(s){return ai(s[3])}(u)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=u[3],B=new kD(P,P[6],P[3]);B.detach(B.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function So(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],Vc(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function qm(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=128}(h,u,y,p);const D=Sh(p,y),E=u[11],I=Lp(E,y[7]);return null!==I&&function fi(s,o,a,u,h,p){u[0]=h,u[6]=o,Hl(s,u,a,1,h,p)}(h,y[6],E,u,I,D),o.attachToViewContainerRef(),Vc(Qi(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=bg(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=jl(this._lContainer,a);u&&(ps(Qi(this._lContainer),a),sd(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=jl(this._lContainer,a);return u&&null!=ps(Qi(this._lContainer),a)?new Td(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function bg(s){return s[8]}function Qi(s){return s[8]||(s[8]=[])}function fy(s,o){let a;const u=o[s.index];if(ai(u))a=u;else{let h;if(8&s.type)h=an(u);else{const p=o[11];h=p.createComment("");const y=Er(s,o);$u(p,Lp(p,y),h,function XE(s,o){return _n(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=F0(u,o,h,s),Gp(o,a)}return new kD(a,s,o)}class gy{constructor(o){this.queryList=o,this.matches=null}clone(){return new gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class my{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new my(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==uf(o,a).matches&&this.queries[a].setDirty()}}class FD{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class _y{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new _y(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Od{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Od(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,LD(a,p)),this.matchTNodeWithReadOption(o,a,wl(a,o,p,!1,!1))}else u===$a?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,wl(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Xl||h===lf||h===$a&&4&a.type)this.addMatch(a.index,-2);else{const p=wl(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function LD(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function wg(s,o,a,u){return-1===a?function VD(s,o){return 11&s.type?Ql(s,o):4&s.type?vg(s,o):null}(o,s):-2===a?function UD(s,o,a){return a===Xl?Ql(o,s):a===$a?vg(o,s):a===lf?fy(o,s):void 0}(s,o,u):zi(s,s[1],a,o)}function Md(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,y=a.matches,D=[];for(let E=0;E<y.length;E+=2){const I=y[E];D.push(I<0?null:wg(o,p[I],y[E+1],a.metadata.read))}h.matches=D}return h.matches}function Eg(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=Md(s,o,h,a);for(let D=0;D<p.length;D+=2){const E=p[D];if(E>0)u.push(y[D/2]);else{const I=p[D+1],N=o[-E];for(let P=10;P<N.length;P++){const B=N[P];B[17]===B[3]&&Eg(B[1],B,I,u)}if(null!==N[9]){const P=N[9];for(let B=0;B<P.length;B++){const Z=P[B];Eg(Z[1],Z,I,u)}}}}}return u}function BD(s){const o=we(),a=Ft(),u=vu();bu(u+1);const h=uf(a,u);if(s.dirty&&Vs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Eg(a,o,u,[]):Md(a,o,h,u);s.reset(p,wD),s.notifyOnChanges()}return!0}return!1}function GD(s,o,a){const u=Ft();u.firstCreatePass&&($D(u,new FD(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),Cg(u,we(),o)}function jD(s,o,a,u){const h=Ft();if(h.firstCreatePass){const p=Dn();$D(h,new FD(o,a,u),p.index),function WD(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}Cg(h,we(),a)}function HD(){return function rI(s,o){return s[19].queries[o].queryList}(we(),vu())}function Cg(s,o,a){const u=new sc(4==(4&a));v1(s,o,u,u.destroy),null===o[19]&&(o[19]=new my),o[19].queries.push(new gy(u))}function $D(s,o,a){null===s.queries&&(s.queries=new _y),s.queries.track(new Od(o,a))}function uf(s,o){return s.queries.getByIndex(o)}function zD(s,o){return vg(s,o)}function xg(...s){}const aw=new Un("Application Initializer");let Rg=(()=>{class s{constructor(a){this.appInits=a,this.resolve=xg,this.reject=xg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(yb(p))a.push(p);else if(PC(p)){const y=new Promise((D,E)=>{p.subscribe({complete:D,error:E})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(rt(aw,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Cy=new Un("AppId",{providedIn:"root",factory:function kg(){return`${za()}${za()}${za()}`}});function za(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ty=new Un("Platform Initializer"),lw=new Un("Platform ID"),uw=new Un("appBootstrapListener");let cw=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const Iy=new Un("LocaleId",{providedIn:"root",factory:()=>Bt(Iy,dt.Optional|dt.SkipSelf)||function bI(){return"undefined"!=typeof $localize&&$localize.locale||ig}()}),dw=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Sy{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let DI=(()=>{class s{compileModuleSync(a){return new oy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(fn(a).declarations).reduce((y,D)=>{const E=$t(D);return E&&y.push(new gg(E)),y},[]);return new Sy(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const CI=(()=>Promise.resolve(0))();function hw(s){"undefined"==typeof Zone?CI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ue{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function TI(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ny(s){const o=()=>{!function gi(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Es(s),s.isCheckStableRunning=!0,Ay(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Es(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,y,D)=>{try{return SI(s),a.invokeTask(h,p,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),fw(s)}},onInvoke:(a,u,h,p,y,D,E)=>{try{return SI(s),a.invoke(h,p,y,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),fw(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Es(s),Ay(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ue.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ue.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,II,xg,xg);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const II={};function Ay(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Es(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function SI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fw(s){s._nesting--,Ay(s)}class oc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let pf=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ue.assertNotInAngularZone(),hw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(rt(ue))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),qa=(()=>{class s{constructor(){this._applications=new Map,Fo.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Fo.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();class zt{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function AI(s){Fo=s}let We,Fo=new zt;const Fg=new Un("AllowMultipleToken");class gf{constructor(o,a){this.name=o,this.token=a}}function Lg(s,o,a=[]){const u=`Platform: ${o}`,h=new Un(u);return(p=[])=>{let y=pw();if(!y||y.injector.get(Fg,!1))if(s)s(a.concat(p).concat({provide:h,useValue:!0}));else{const D=a.concat(p).concat({provide:h,useValue:!0},{provide:U0,useValue:"platform"});!function NI(s){if(We&&!We.destroyed&&!We.injector.get(Fg,!1))throw new xe(400,"");We=s.get(Ur);const o=s.get(Ty,null);o&&o.forEach(a=>a())}(Oo.create({providers:D,name:u}))}return function OI(s){const o=pw();if(!o)throw new xe(401,"");return o}()}}function pw(){return We&&!We.destroyed?We:null}let Ur=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const D=function Vg(s,o){let a;return a="noop"===s?new oc:("zone.js"===s?void 0:s)||new ue({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:ue,useValue:D}];return D.run(()=>{const I=Oo.create({providers:E,parent:this.injector,name:a.moduleType.name}),N=a.create(I),P=N.injector.get(yr,null);if(!P)throw new xe(402,"");return D.runOutsideAngular(()=>{const B=D.onError.subscribe({next:Z=>{P.handleError(Z)}});N.onDestroy(()=>{xy(this._modules,N),B.unsubscribe()})}),function ei(s,o,a){try{const u=a();return yb(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,D,()=>{const B=N.injector.get(Rg);return B.runInitializers(),B.donePromise.then(()=>(function dT(s){(function ut(s,o){null==s&&vt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Yb=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Iy,ig)||ig),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,u=[]){const h=Za({},u);return function Oy(s,o,a){const u=new oy(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(My);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(rt(Oo))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function Za(s,o){return Array.isArray(o)?o.reduce(Za,s):Object.assign(Object.assign({},s),o)}let My=(()=>{class s{constructor(a,u,h,p,y){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new k.y(I=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),hw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,oe.T)(D,E.pipe((0,X.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new xe(405,"");let h;h=a instanceof ty?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function Pg(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Ha),D=h.create(Oo.NULL,[],u||h.selector,p),E=D.location.nativeElement,I=D.injector.get(pf,null),N=I&&D.injector.get(qa);return I&&N&&N.registerApplication(E,I),D.onDestroy(()=>{this.detachView(D.hostView),xy(this.components,D),N&&N.unregisterApplication(E)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;xy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(uw,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(rt(ue),rt(Oo),rt(yr),rt(ic),rt(Rg))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function xy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let mw=!0,ky=!1;function Py(){return ky=!0,mw}function Ug(){if(ky)throw new Error("Cannot enable prod mode after platform setup.");mw=!1}let Li=(()=>{class s{}return s.__NG_ELEMENT_ID__=_w,s})();function _w(s){return function yw(s,o,a){if(xs(s)&&!a){const u=Cr(s.index,o);return new Td(u,u)}return 47&s.type?new Td(o[16],o):null}(Dn(),we(),16==(16&s))}class Cw{constructor(){}supports(o){return ql(o)}create(o){return new yf(o)}}const mi=(s,o)=>o;class yf{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mi}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<Iw(u,h,p)?a:u,D=Iw(y,h,p),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const I=D-h,N=E-h;if(I!=N){for(let B=0;B<I;B++){const Z=B<p.length?p[B]:p[B]=0,ye=Z+B;N<=ye&&ye<I&&(p[B]=Z+1)}p[y.previousIndex]=N-I}}D!==E&&o(y,D,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!ql(o))throw new xe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],y=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,D),u=!0),a=a._next}else h=0,function aC(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Yu()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,D=>{y=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,D,y,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new LI(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Tw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class LI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vf{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Tw{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new vf,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iw(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class bf{constructor(){}supports(o){return o instanceof Map||A_(o)}create(){return new Wg}}class Wg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||A_(o)))throw new xe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new Ly(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Ly{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zg(){return new Df([new Cw])}let Df=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||zg()),deps:[[s,new Zs,new Fr]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new xe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:zg}),s})();function Vy(){return new qg([new bf])}let qg=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Vy()),deps:[[s,new Zs,new Fr]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new xe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Vy}),s})();const GI=Lg(null,"core",[{provide:lw,useValue:"unknown"},{provide:Ur,deps:[Oo]},{provide:qa,deps:[]},{provide:cw,deps:[]}]);let Uy=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(rt(My))},s.\u0275mod=J({type:s}),s.\u0275inj=en({}),s})()},3942:(at,Ee,R)=>{R.d(Ee,{Z:()=>xe});var c=R(2090),Y=R(4859),k=R(9681),oe=R(1877);class X{constructor(pe,De){this._delegate=pe,this.firebase=De,(0,k._addComponent)(pe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(pe,De=k._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(pe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(tt=Ze.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:De})}_removeServiceInstance(pe,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(De)}_addComponent(pe){(0,k._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,k._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ce(){const Le=function fe(Le){const pe={},De={__esModule:!0,initializeApp:function Te(Ge,te={}){const z=k.initializeApp(Ge,te);if((0,c.r3)(pe,z.name))return pe[z.name];const ne=new Le(z,De);return pe[z.name]=ne,ne},app:Ze,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function be(Ge){const te=Ge.name,z=te.replace("-compat","");if(k._registerComponent(Ge)&&"PUBLIC"===Ge.type){const ne=(_e=Ze())=>{if("function"!=typeof _e[z])throw re.create("invalid-app-argument",{appName:te});return _e[z]()};void 0!==Ge.serviceProps&&(0,c.ZB)(ne,Ge.serviceProps),De[z]=ne,Le.prototype[z]=function(..._e){return this._getService.bind(this,te).apply(this,Ge.multipleInstances?_e:[])}}return"PUBLIC"===Ge.type?De[z]:null},removeApp:function tt(Ge){delete pe[Ge]},useAsService:function He(Ge,te){return"serverAuth"===te?null:te},modularAPIs:k}};function Ze(Ge){if(!(0,c.r3)(pe,Ge=Ge||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ge});return pe[Ge]}return De.default=De,Object.defineProperty(De,"apps",{get:function ve(){return Object.keys(pe).map(Ge=>pe[Ge])}}),Ze.App=Le,De}(X);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function pe(De){(0,c.ZB)(Le,De)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Le}(),H=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=j;!function Se(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.21",Le)}()},9681:(at,Ee,R)=>{R.r(Ee),R.d(Ee,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Ii,_apps:()=>vt,_clearComponents:()=>jt,_components:()=>cn,_getProvider:()=>rs,_registerComponent:()=>rn,_removeServiceInstance:()=>en,deleteApp:()=>ss,getApp:()=>Rr,getApps:()=>is,initializeApp:()=>Gi,onLog:()=>er,registerVersion:()=>Wr,setLogLevel:()=>Wn});var c=R(5861),Y=R(4859),k=R(1877),oe=R(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function me(Ke){const Ie=Ke.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(et)){const pt=et.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",ce=new k.Yd("@firebase/app"),An="[DEFAULT]",ut={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,cn=new Map;function dn(Ke,Ie){try{Ke.container.addComponent(Ie)}catch(et){ce.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ke.name}`,et)}}function Ii(Ke,Ie){Ke.container.addOrOverwriteComponent(Ie)}function rn(Ke){const Ie=Ke.name;if(cn.has(Ie))return ce.debug(`There were multiple attempts to register component ${Ie}.`),!1;cn.set(Ie,Ke);for(const et of vt.values())dn(et,Ke);return!0}function rs(Ke,Ie){const et=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Ke.container.getProvider(Ie)}function en(Ke,Ie,et=An){rs(Ke,Ie).clearInstance(et)}function jt(){cn.clear()}const ii=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ss{constructor(Ie,et,pt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}const xr="9.6.10";function Gi(Ke,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const et=Object.assign({name:An,automaticDataCollectionEnabled:!1},Ie),pt=et.name;if("string"!=typeof pt||!pt)throw ii.create("bad-app-name",{appName:String(pt)});const Ut=vt.get(pt);if(Ut){if((0,oe.vZ)(Ke,Ut.options)&&(0,oe.vZ)(et,Ut.config))return Ut;throw ii.create("duplicate-app",{appName:pt})}const Pt=new Y.H0(pt);for(const V of cn.values())Pt.addComponent(V);const G=new Ss(Ke,et,Pt);return vt.set(pt,G),G}function Rr(Ke=An){const Ie=vt.get(Ke);if(!Ie)throw ii.create("no-app",{appName:Ke});return Ie}function is(){return Array.from(vt.values())}function ss(Ke){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(Ke){const Ie=Ke.name;vt.has(Ie)&&(vt.delete(Ie),yield Promise.all(Ke.container.getProviders().map(et=>et.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function Wr(Ke,Ie,et){var pt;let Ut=null!==(pt=ut[Ke])&&void 0!==pt?pt:Ke;et&&(Ut+=`-${et}`);const Pt=Ut.match(/\s|\//),G=Ie.match(/\s|\//);if(Pt||G){const V=[`Unable to register library "${Ut}" with version "${Ie}":`];return Pt&&V.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),Pt&&G&&V.push("and"),G&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ce.warn(V.join(" "))}rn(new Y.wA(`${Ut}-version`,()=>({library:Ut,version:Ie}),"VERSION"))}function er(Ke,Ie){if(null!==Ke&&"function"!=typeof Ke)throw ii.create("invalid-log-argument");(0,k.Am)(Ke,Ie)}function Wn(Ke){(0,k.Ub)(Ke)}const yn="firebase-heartbeat-store";let tr=null;function As(){return tr||(tr=(0,oe.X3)("firebase-heartbeat-database",1,(Ke,Ie)=>{0===Ie&&Ke.createObjectStore(yn)}).catch(Ke=>{throw ii.create("storage-open",{originalErrorMessage:Ke.message})})),tr}function Ht(){return(Ht=(0,c.Z)(function*(Ke){try{return(yield As()).transaction(yn).objectStore(yn).get(ur(Ke))}catch(Ie){throw ii.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function st(Ke,Ie){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(Ke,Ie){try{const pt=(yield As()).transaction(yn,"readwrite");return yield pt.objectStore(yn).put(Ie,ur(Ke)),pt.complete}catch(et){throw ii.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function ur(Ke){return`${Ke.name}!${Ke.options.appId}`}class no{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new ft(et),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Ie=this;return(0,c.Z)(function*(){const pt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=br();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Ie._heartbeatsCache.heartbeats.some(Pt=>Pt.date===Ut))return Ie._heartbeatsCache.heartbeats.push({date:Ut,agent:pt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Pt=>{const G=new Date(Pt.date).valueOf();return Date.now()-G<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,c.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const et=br(),{heartbeatsToSend:pt,unsentEntries:Ut}=function cr(Ke,Ie=1024){const et=[];let pt=Ke.slice();for(const Ut of Ke){const Pt=et.find(G=>G.agent===Ut.agent);if(Pt){if(Pt.dates.push(Ut.date),Dr(et)>Ie){Pt.dates.pop();break}}else if(et.push({agent:Ut.agent,dates:[Ut.date]}),Dr(et)>Ie){et.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:et,unsentEntries:pt}}(Ie._heartbeatsCache.heartbeats),Pt=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=et,Ut.length>0?(Ie._heartbeatsCache.heartbeats=Ut,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Pt})()}}function br(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,c.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function ca(Ke){return Ht.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var et=this;return(0,c.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Pt=yield et.read();return st(et.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Pt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var et=this;return(0,c.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Pt=yield et.read();return st(et.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...Ie.heartbeats]})}})()}}function Dr(Ke){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Vt(Ke){rn(new Y.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),rn(new Y.wA("heartbeat",Ie=>new no(Ie),"PRIVATE")),Wr(re,"0.7.20",Ke),Wr(re,"0.7.20","esm2017"),Wr("fire-js","")}("")},4859:(at,Ee,R)=>{R.d(Ee,{H0:()=>fe,wA:()=>k});var c=R(5861),Y=R(2090);class k{constructor(j,H,Q){this.name=j,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const oe="[DEFAULT]";class X{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Q=new Y.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&Q.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),ze=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(ze)return null;throw Se}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function re(ce){return"EAGER"===ce.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:ze});Q.resolve(Se)}catch(Se){}}}}clearInstance(j=oe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=oe){return this.instances.has(j)}getOptions(j=oe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[Se,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Se)&&xe.resolve(ze);return ze}onInit(j,H){var Q;const ze=this.normalizeInstanceIdentifier(H),Se=null!==(Q=this.onInitCallbacks.get(ze))&&void 0!==Q?Q:new Set;Se.add(j),this.onInitCallbacks.set(ze,Se);const xe=this.instances.get(ze);return xe&&j(xe,ze),()=>{Se.delete(j)}}invokeOnInitCallbacks(j,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const ze of Q)try{ze(j,H)}catch(Se){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=j,ce===oe?void 0:ce),options:H}),this.instances.set(j,Q),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(ze){}var ce;return Q||null}normalizeInstanceIdentifier(j=oe){return this.component?this.component.multipleInstances?j:oe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new X(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Ee,R)=>{R.d(Ee,{Am:()=>ce,Ub:()=>fe,Yd:()=>re,in:()=>Y});const c=[];var Y=(()=>{return(j=Y||(Y={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Y;var j})();const k={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},oe=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},me=(j,H,...Q)=>{if(H<j.logLevel)return;const ze=(new Date).toISOString(),Se=X[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${ze}]  ${j.name}:`,...Q)};class re{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?k[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function fe(j){c.forEach(H=>{H.setLogLevel(j)})}function ce(j,H){for(const Q of c){let ze=null;H&&H.level&&(ze=k[H.level]),Q.userLogHandler=null===j?null:(Se,xe,...Le)=>{const pe=Le.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(tt){return null}}).filter(De=>De).join(" ");xe>=(null!=ze?ze:Se.logLevel)&&j({level:Y[xe].toLowerCase(),message:pe,args:Le,type:Se.name})}}}},5861:(at,Ee,R)=>{function c(k,oe,X,me,re,fe,ce){try{var j=k[fe](ce),H=j.value}catch(Q){return void X(Q)}j.done?oe(H):Promise.resolve(H).then(me,re)}function Y(k){return function(){var oe=this,X=arguments;return new Promise(function(me,re){var fe=k.apply(oe,X);function ce(H){c(fe,me,re,ce,j,"next",H)}function j(H){c(fe,me,re,ce,j,"throw",H)}ce(void 0)})}}R.d(Ee,{Z:()=>Y})}},at=>{at(at.s=8613)}]);